<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Gatesv100</title>
    <link href="/2024/09/07/Gatesv100/"/>
    <url>/2024/09/07/Gatesv100/</url>
    
    <content type="html"><![CDATA[<h1 id="gatesv100">Gatesv100</h1><p>You are given a 100-bit input vector in[99:0]. We want to know somerelationships between each bit and its neighbour:</p><ul><li><p>out_both: Each bit of this output vector should indicate whetherboth the corresponding input bit and its neighbour to the left are '1'.For example, out_both[98] should indicate if in[98] and in[99] are both1. Since in[99] has no neighbour to the left, the answer is obvious sowe don't need to know out_both[99].</p></li><li><p>out_any: Each bit of this output vector should indicate whetherany of the corresponding input bit and its neighbour to the right are'1'. For example, out_any[2] should indicate if either in[2] or in[1]are 1. Since in[0] has no neighbour to the right, the answer is obviousso we don't need to know out_any[0].</p></li><li><p>out_different: Each bit of this output vector should indicatewhether the corresponding input bit is different from its neighbour tothe left. For example, out_different[98] should indicate if in[98] isdifferent from in[99]. For this part, treat the vector as wrappingaround, so in[99]'s neighbour to the left is in[0].</p></li></ul><blockquote><p>hint</p><p>Using vectors, this can still be done in 3 assign statements.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">98</span>:<span class="hljs-number">0</span>] out_both,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">99</span>:<span class="hljs-number">1</span>] out_any,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] out_different );<br><br>    <span class="hljs-keyword">assign</span> out_both = in[<span class="hljs-number">98</span>:<span class="hljs-number">0</span>] &amp; in[<span class="hljs-number">99</span>:<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">assign</span> out_any  = in[<span class="hljs-number">98</span>:<span class="hljs-number">0</span>] | in[<span class="hljs-number">99</span>:<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">assign</span> out_different = in ^ &#123; in[<span class="hljs-number">0</span>], in[<span class="hljs-number">99</span>:<span class="hljs-number">1</span>] &#125;;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gatesv</title>
    <link href="/2024/09/07/Gatesv/"/>
    <url>/2024/09/07/Gatesv/</url>
    
    <content type="html"><![CDATA[<h1 id="gatesv">Gatesv</h1><p>You are given a four-bit input vector in[3:0]. We want to know somerelationships between each bit and its neighbour:</p><ul><li><p>out_both: Each bit of this output vector should indicate whetherboth the corresponding input bit and its neighbour to the left (higherindex) are '1'. For example, out_both[2] should indicate if in[2] andin[3] are both 1. Since in[3] has no neighbour to the left, the answeris obvious so we don't need to know out_both[3].</p></li><li><p>out_any: Each bit of this output vector should indicate whetherany of the corresponding input bit and its neighbour to the right are'1'. For example, out_any[2] should indicate if either in[2] or in[1]are 1. Since in[0] has no neighbour to the right, the answer is obviousso we don't need to know out_any[0].</p></li><li><p>out_different: Each bit of this output vector should indicatewhether the corresponding input bit is different from its neighbour tothe left. For example, out_different[2] should indicate if in[2] isdifferent from in[3]. For this part, treat the vector as wrappingaround, so in[3]'s neighbour to the left is in[0].</p></li></ul><blockquote><p>hint</p><p>The both, any, and different outputs use two-input AND, OR, and XORoperations, respectively. Using vectors, this can be done in 3 assignstatements.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] out_both,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">1</span>] out_any,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] out_different );<br><br>    <span class="hljs-keyword">assign</span> out_different[<span class="hljs-number">3</span>] = in[<span class="hljs-number">3</span>] ^ in[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">3</span>;i++) <span class="hljs-keyword">begin</span><br>            out_both[i] = in[i] &amp; in[i+<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i=<span class="hljs-number">1</span>;i&lt;<span class="hljs-number">4</span>;i++) <span class="hljs-keyword">begin</span><br>            out_any[i] = in[i] | in[i-<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">3</span>;i++) <span class="hljs-keyword">begin</span><br>            out_different[i] = in[i] ^ in[i+<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Popcount3</title>
    <link href="/2024/09/07/Popcount3/"/>
    <url>/2024/09/07/Popcount3/</url>
    
    <content type="html"><![CDATA[<h1 id="popcount3">Popcount3</h1><p>A "population count" circuit counts the number of '1's in an inputvector. Build a population count circuit for a 3-bit input vector.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] out );<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        out = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">3</span>;i++) <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (in[i]) out = out + in[i];<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Thermostat</title>
    <link href="/2024/09/07/Thermostat/"/>
    <url>/2024/09/07/Thermostat/</url>
    
    <content type="html"><![CDATA[<h1 id="thermostat">Thermostat</h1><p>A heating/cooling thermostat controls both a heater (during winter)and an air conditioner (during summer). Implement a circuit that willturn on and off the heater, air conditioning, and blower fan asappropriate.</p><p>The thermostat can be in one of two modes: heating (mode = 1) andcooling (mode = 0). In heating mode, turn the heater on when it is toocold (too_cold = 1) but do not use the air conditioner. In cooling mode,turn the air conditioner on when it is too hot (too_hot = 1), but do notturn on the heater. When the heater or air conditioner are on, also turnon the fan to circulate the air. In addition, the user can also requestthe fan to turn on (fan_on = 1), even if the heater and air conditionerare off.</p><p>Try to use only assign statements, to see whether you can translate aproblem description into a collection of logic gates.</p><blockquote><p>hint</p><p>When designing circuits, one often has to think of the problem"backwards", starting from the outputs then working backwards towardsthe inputs.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> too_cold,<br>    <span class="hljs-keyword">input</span> too_hot,<br>    <span class="hljs-keyword">input</span> mode,<br>    <span class="hljs-keyword">input</span> fan_on,<br>    <span class="hljs-keyword">output</span> heater,<br>    <span class="hljs-keyword">output</span> aircon,<br>    <span class="hljs-keyword">output</span> fan<br>); <br><span class="hljs-keyword">assign</span> heater = mode &amp; too_cold;<br>    <span class="hljs-keyword">assign</span> aircon = ~mode &amp; too_hot;<br>    <span class="hljs-keyword">assign</span> fan = fan_on | heater | aircon;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ringer</title>
    <link href="/2024/09/07/Ringer/"/>
    <url>/2024/09/07/Ringer/</url>
    
    <content type="html"><![CDATA[<h1 id="ringer">Ringer</h1><p>Suppose you are designing a circuit to control a cellphone's ringerand vibration motor. Whenever the phone needs to ring from an incomingcall (input ring), your circuit must either turn on the ringer (outputringer = 1) or the motor (output motor = 1), but not both. If the phoneis in vibrate mode (input vibrate_mode = 1), turn on the motor.Otherwise, turn on the ringer.</p><p>Try to use only assign statements, to see whether you can translate aproblem description into a collection of logic gates.</p><p>Design hint: When designing circuits, one often has to think of theproblem "backwards", starting from the outputs then working backwardstowards the inputs. This is often the opposite of how one would thinkabout a (sequential, imperative) programming problem, where one wouldlook at the inputs first then decide on an action (or output). Forsequential programs, one would often think "If (inputs are ___ ) then(output should be ___ )". On the other hand, hardware designers oftenthink "The (output should be ___ ) when (inputs are ___ )".</p><p>The above problem description is written in an imperative formsuitable for software programming (if ring then do this), so you mustconvert it to a more declarative form suitable for hardwareimplementation (assign ringer = ___). Being able to think in, andtranslate between, both styles is one of the most important skillsneeded for hardware design.</p><figure><img src="/images/Ringer.png" title="Ringer" alt="Ringer" /><figcaption aria-hidden="true">Ringer</figcaption></figure><blockquote><p>hint</p><p>For this particular problem, one should be thinking "The motor is onwhen _<strong>", rather than "If (vibrate mode) then </strong>_".</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> ring,<br>    <span class="hljs-keyword">input</span> vibrate_mode,<br>    <span class="hljs-keyword">output</span> ringer,       <span class="hljs-comment">// Make sound</span><br>    <span class="hljs-keyword">output</span> motor         <span class="hljs-comment">// Vibrate</span><br>);<br><span class="hljs-keyword">assign</span> ringer = ~vibrate_mode &amp; ring;<br>    <span class="hljs-keyword">assign</span> motor  = vibrate_mode &amp; ring;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mt2015-q4</title>
    <link href="/2024/09/07/Mt2015-q4/"/>
    <url>/2024/09/07/Mt2015-q4/</url>
    
    <content type="html"><![CDATA[<h1 id="mt2015-q4">Mt2015-q4</h1><p>The top-level design consists of two instantiations each ofsubcircuits A and B, as shown below.</p><figure><img src="/images/Mt2015_q4.png" title="Mt2015_q4" alt="Mt2015_q4" /><figcaption aria-hidden="true">Mt2015_q4</figcaption></figure><blockquote><p>hint</p><p>You may choose to create this circuit hierarchically using the twosubmodules as shown in the diagram, or create the same functionalitywithout hierarchy.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<span class="hljs-keyword">input</span> x, <span class="hljs-keyword">input</span> y, <span class="hljs-keyword">output</span> z);<br><span class="hljs-keyword">wire</span> z0, z1, z2, z3;<br>    a a1(x, y, z0);<br>    b b1(x, y, z1);<br>    a a2(x, y, z2);<br>    b b2(x, y, z3);<br>    <span class="hljs-keyword">assign</span> z = (z0 | z1) ^ (z2 &amp; z3);<br><span class="hljs-keyword">endmodule</span><br><br><span class="hljs-keyword">module</span> a(<span class="hljs-keyword">input</span> x, <span class="hljs-keyword">input</span> y, <span class="hljs-keyword">output</span> z);<br><span class="hljs-keyword">assign</span> z = (x^y) &amp; x;<br><span class="hljs-keyword">endmodule</span><br><br><span class="hljs-keyword">module</span> b(<span class="hljs-keyword">input</span> x, <span class="hljs-keyword">input</span> y, <span class="hljs-keyword">output</span> z);<br><span class="hljs-keyword">assign</span> z = ~(x^y);<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mt2015-q4b</title>
    <link href="/2024/09/07/Mt2015-q4b/"/>
    <url>/2024/09/07/Mt2015-q4b/</url>
    
    <content type="html"><![CDATA[<h1 id="mt2015-q4b">Mt2015-q4b</h1><p>Taken from 2015 midterm question 4</p><p>Circuit B can be described by the following simulation waveform:</p><figure><img src="/images/Mt2015_q4b.png" title="Mt2015_q4b" alt="Mt2015_q4b" /><figcaption aria-hidden="true">Mt2015_q4b</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <span class="hljs-keyword">input</span> x, <span class="hljs-keyword">input</span> y, <span class="hljs-keyword">output</span> z );<br>    <span class="hljs-keyword">assign</span> z = ~(x^y);<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mt2015-q4a</title>
    <link href="/2024/09/07/Mt2015-q4a/"/>
    <url>/2024/09/07/Mt2015-q4a/</url>
    
    <content type="html"><![CDATA[<h1 id="mt2015-q4a">Mt2015-q4a</h1><p>Taken from 2015 midterm question 4</p><p>Module A is supposed to implement the function z = (x^y) &amp; x.Implement this module.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<span class="hljs-keyword">input</span> x, <span class="hljs-keyword">input</span> y, <span class="hljs-keyword">output</span> z);<br>    <span class="hljs-keyword">assign</span> z = (x^y) &amp; x;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mt2015-eq2</title>
    <link href="/2024/09/07/Mt2015-eq2/"/>
    <url>/2024/09/07/Mt2015-eq2/</url>
    
    <content type="html"><![CDATA[<h1 id="mt2015-eq2">Mt2015-eq2</h1><p>Taken from 2015 midterm question 1k</p><p>Create a circuit that has two 2-bit inputs A[1:0] and B[1:0], andproduces an output z. The value of z should be 1 if A = B, otherwise zshould be 0.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] A, <span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] B, <span class="hljs-keyword">output</span> z ); <br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (A == B) z=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> z=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Truthtable1</title>
    <link href="/2024/09/07/Truthtable1/"/>
    <url>/2024/09/07/Truthtable1/</url>
    
    <content type="html"><![CDATA[<h1 id="truthtable1">Truthtable1</h1><p>In the previous exercises, we used simple logic gates andcombinations of several logic gates. These circuits are examples ofcombinational circuits. Combinational means the outputs of the circuitis a function (in the mathematics sense) of only its inputs. This meansthat for any given input value, there is only one possible output value.Thus, one way to describe the behaviour of a combinational function isto explicitly list what the output should be for every possible value ofthe inputs. This is a truth table.</p><p>For a boolean function of N inputs, there are <spanclass="math inline">\(2^N\)</span> possible input combinations. Each rowof the truth table lists one input combination, so there are always<span class="math inline">\(2^N\)</span> rows. The output column showswhat the output should be for each input value.</p><table><thead><tr class="header"><th>row</th><th>inputs</th><th>outputs</th></tr></thead><tbody><tr class="odd"><td>number</td><td>x3 x2 x1</td><td>f</td></tr><tr class="even"><td>0</td><td>0 0 0</td><td>0</td></tr><tr class="odd"><td>1</td><td>0 0 1</td><td>0</td></tr><tr class="even"><td>2</td><td>0 1 0</td><td>1</td></tr><tr class="odd"><td>3</td><td>0 1 1</td><td>1</td></tr><tr class="even"><td>4</td><td>1 0 0</td><td>0</td></tr><tr class="odd"><td>5</td><td>1 0 1</td><td>1</td></tr><tr class="even"><td>6</td><td>1 1 0</td><td>0</td></tr><tr class="odd"><td>7</td><td>1 1 1</td><td>1</td></tr></tbody></table><p>The above truth table is for a three-input, one-output function. Ithas 8 rows for each of the 8 possible input combinations, and one outputcolumn. There are four inputs combinations where the output is 1, andfour where the output is 0.</p><h1 id="a-bit-of-practice">A Bit of Practice</h1><p>Create a combinational circuit that implements the above truthtable.</p><figure><img src="/images/Truthtable1.png" title="Truthtable1"alt="Truthtable1" /><figcaption aria-hidden="true">Truthtable1</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> x3,<br>    <span class="hljs-keyword">input</span> x2,<br>    <span class="hljs-keyword">input</span> x1,  <span class="hljs-comment">// three inputs</span><br>    <span class="hljs-keyword">output</span> f   <span class="hljs-comment">// one output</span><br>);<br><span class="hljs-keyword">assign</span> f = ~x3 &amp; x2 | x3 &amp; x1;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>7420</title>
    <link href="/2024/09/07/7420/"/>
    <url>/2024/09/07/7420/</url>
    
    <content type="html"><![CDATA[<p>The 7400-series integrated circuits are a series of digital chipswith a few gates each. The 7420 is a chip with two 4-input NANDgates.</p><p>Create a module with the same functionality as the 7420 chip. It has8 inputs and 2 outputs.</p><figure><img src="/images/7420.png" title="7420" alt="7420" /><figcaption aria-hidden="true">7420</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> p1a, p1b, p1c, p1d,<br>    <span class="hljs-keyword">output</span> p1y,<br>    <span class="hljs-keyword">input</span> p2a, p2b, p2c, p2d,<br>    <span class="hljs-keyword">output</span> p2y );<br><br>    <span class="hljs-keyword">assign</span> p1y = ~(p1a &amp; p1b &amp; p1c &amp; p1d);<br>    <span class="hljs-keyword">assign</span> p2y = ~(p2a &amp; p2b &amp; p2c &amp; p2d);<br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gates</title>
    <link href="/2024/09/07/Gates/"/>
    <url>/2024/09/07/Gates/</url>
    
    <content type="html"><![CDATA[<p>Ok, let's try building several logic gates at the same time. Build acombinational circuit with two inputs, a and b.</p><p>There are 7 outputs, each with a logic gate driving it:</p><ul><li><p>out_and: a and b</p></li><li><p>out_or: a or b</p></li><li><p>out_xor: a xor b</p></li><li><p>out_nand: a nand b</p></li><li><p>out_nor: a nor b</p></li><li><p>out_xnor: a xnor b</p></li><li><p>out_anotb: a and-not b</p></li></ul><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> a, b,<br>    <span class="hljs-keyword">output</span> out_and,<br>    <span class="hljs-keyword">output</span> out_or,<br>    <span class="hljs-keyword">output</span> out_xor,<br>    <span class="hljs-keyword">output</span> out_nand,<br>    <span class="hljs-keyword">output</span> out_nor,<br>    <span class="hljs-keyword">output</span> out_xnor,<br>    <span class="hljs-keyword">output</span> out_anotb<br>);<br><span class="hljs-keyword">assign</span> out_and = a &amp; b;<br>    <span class="hljs-keyword">assign</span> out_or = a|b;<br>    <span class="hljs-keyword">assign</span> out_xor = a^b;<br>    <span class="hljs-keyword">assign</span> out_nand = ~(a&amp;b);<br>    <span class="hljs-keyword">assign</span> out_nor = ~(a|b);<br>    <span class="hljs-keyword">assign</span> out_xnor = ~(a^b);<br>    <span class="hljs-keyword">assign</span> out_anotb = a&amp; ~b;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>m2014-q4g</title>
    <link href="/2024/09/07/m2014-q4g/"/>
    <url>/2024/09/07/m2014-q4g/</url>
    
    <content type="html"><![CDATA[<p>Implement the following circuit:</p><figure><img src="/images/Exams_m2014q4g.png" title="Exams_m2014q4g"alt="Exams_m2014q4g" /><figcaption aria-hidden="true">Exams_m2014q4g</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> in1,<br>    <span class="hljs-keyword">input</span> in2,<br>    <span class="hljs-keyword">input</span> in3,<br>    <span class="hljs-keyword">output</span> out);<br>    <span class="hljs-keyword">assign</span> out = in3 ^ ~( in1 ^ in2 );<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>m2014-q4f</title>
    <link href="/2024/09/07/m2014-q4f/"/>
    <url>/2024/09/07/m2014-q4f/</url>
    
    <content type="html"><![CDATA[<p>Implement the following circuit:</p><figure><img src="/images/Exams_m2014q4f.png" title="Exams_m2014q4f"alt="Exams_m2014q4f" /><figcaption aria-hidden="true">Exams_m2014q4f</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> in1,<br>    <span class="hljs-keyword">input</span> in2,<br>    <span class="hljs-keyword">output</span> out);<br><span class="hljs-keyword">assign</span> out = in1 &amp; ~in2;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>m2014-q4e</title>
    <link href="/2024/09/07/m2014-q4e/"/>
    <url>/2024/09/07/m2014-q4e/</url>
    
    <content type="html"><![CDATA[<p>Implement the following circuit:</p><figure><img src="/images/Exams_m2014q4e.png" title="Exams_m2014q4e"alt="Exams_m2014q4e" /><figcaption aria-hidden="true">Exams_m2014q4e</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> in1,<br>    <span class="hljs-keyword">input</span> in2,<br>    <span class="hljs-keyword">output</span> out);<br>    <span class="hljs-keyword">assign</span> out = ~ (in1 | in2);<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>m2014-q4i</title>
    <link href="/2024/09/07/m2014-q4i/"/>
    <url>/2024/09/07/m2014-q4i/</url>
    
    <content type="html"><![CDATA[<p>Implement the following circuit:</p><figure><img src="/images/Exams_m2014q4i.png" title="Exams_m2014q4i"alt="Exams_m2014q4i" /><figcaption aria-hidden="true">Exams_m2014q4i</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">output</span> out);<br><span class="hljs-keyword">assign</span> out = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>m2014-q4h</title>
    <link href="/2024/09/07/m2014-q4h/"/>
    <url>/2024/09/07/m2014-q4h/</url>
    
    <content type="html"><![CDATA[<p>Implement the following circuit:</p><figure><img src="/images/Exams_m2014q4h.png" title="Exams_m2014q4h"alt="Exams_m2014q4h" /><figcaption aria-hidden="true">Exams_m2014q4h</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> in,<br>    <span class="hljs-keyword">output</span> out);<br><span class="hljs-keyword">assign</span> out = in;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Bcdadd100</title>
    <link href="/2024/08/25/hdlbits-Bcdadd100/"/>
    <url>/2024/08/25/hdlbits-Bcdadd100/</url>
    
    <content type="html"><![CDATA[<h1 id="bcdadd100">Bcdadd100</h1><p>You are provided with a BCD one-digit adder named bcd_fadd that addstwo BCD digits and carry-in, and produces a sum and carry-out.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> bcd_fadd (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">input</span>     cin,<br>    <span class="hljs-keyword">output</span>   cout,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] sum );<br></code></pre></td></tr></table></figure><p>Instantiate 100 copies of bcd_fadd to create a 100-digit BCDripple-carry adder. Your adder should add two 100-digit BCD numbers(packed into 400-bit vectors) and a carry-in to produce a 100-digit sumand carry out.</p><blockquote><p>Hint</p><p>An instance array or generate statement would be useful here.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">399</span>:<span class="hljs-number">0</span>] a, b,<br>    <span class="hljs-keyword">input</span> cin,<br>    <span class="hljs-keyword">output</span> cout,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">399</span>:<span class="hljs-number">0</span>] sum );<br><br>    <span class="hljs-keyword">reg</span> [<span class="hljs-number">399</span>:<span class="hljs-number">0</span>] cout_inside;<br>    <span class="hljs-keyword">assign</span> cout = cout_inside[<span class="hljs-number">396</span>];<br>    bcd_fadd fadd(a[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>], b[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>], cin, cout_inside[<span class="hljs-number">0</span>], sum[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]);<br>    <br>    <span class="hljs-keyword">generate</span><br>        <span class="hljs-keyword">genvar</span> i;<br>        <span class="hljs-keyword">for</span> (i=<span class="hljs-number">4</span>;i&lt;<span class="hljs-number">400</span>;i=i+<span class="hljs-number">4</span>) <span class="hljs-keyword">begin</span> :add100<br>            bcd_fadd fadd(a[i+<span class="hljs-number">3</span>:i], b[i+<span class="hljs-number">3</span>:i], cout_inside[i-<span class="hljs-number">4</span>], cout_inside[i], sum[i+<span class="hljs-number">3</span>:i]);<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">endgenerate</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Adder100i</title>
    <link href="/2024/08/25/hdlbits-Adder100i/"/>
    <url>/2024/08/25/hdlbits-Adder100i/</url>
    
    <content type="html"><![CDATA[<h1 id="adder100i">Adder100i</h1><p>Create a 100-bit binary ripple-carry adder by instantiating 100 fulladders. The adder adds two 100-bit numbers and a carry-in to produce a100-bit sum and carry out. To encourage you to actually instantiate fulladders, also output the carry-out from each full adder in theripple-carry adder. cout[99] is the final carry-out from the last fulladder, and is the carry-out you usually see.</p><blockquote><p>Hint</p><p>There are many full adders to instantiate. An instance array orgenerate statement would help here.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] a, b,<br>    <span class="hljs-keyword">input</span> cin,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] cout,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] sum );<br>    <br>    <span class="hljs-keyword">assign</span> cout[<span class="hljs-number">0</span>] = a[<span class="hljs-number">0</span>] &amp; b[<span class="hljs-number">0</span>] | a[<span class="hljs-number">0</span>] &amp; cin | b[<span class="hljs-number">0</span>] &amp; cin;<br>    <span class="hljs-keyword">assign</span> sum[<span class="hljs-number">0</span>]  = a[<span class="hljs-number">0</span>] ^ b[<span class="hljs-number">0</span>] ^ cin;<br>    <br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">100</span>; i++) <span class="hljs-keyword">begin</span><br>            cout[i] = a[i] &amp; b[i] | a[i] &amp; cout[i-<span class="hljs-number">1</span>] | b[i] &amp; cout[i-<span class="hljs-number">1</span>];<br>            sum[i]  = a[i] ^ b[i] ^ cout[i-<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Popcount255</title>
    <link href="/2024/08/25/hdlbits-Popcount255/"/>
    <url>/2024/08/25/hdlbits-Popcount255/</url>
    
    <content type="html"><![CDATA[<h1 id="popcount255">Popcount255</h1><p>A "population count" circuit counts the number of '1's in an inputvector. Build a population count circuit for a 255-bit input vector.</p><blockquote><p>Hint</p><p>So many things to add... How about a for loop?</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">254</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] out );<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        out = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">integer</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">255</span>;i++) <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (in[i]) out = out + <span class="hljs-number">8&#x27;h01</span>;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector100r</title>
    <link href="/2024/08/25/hdlbits-Vector100r/"/>
    <url>/2024/08/25/hdlbits-Vector100r/</url>
    
    <content type="html"><![CDATA[<h1 id="vector100r">Vector100r</h1><p>Given a 100-bit input vector [99:0], reverse its bit ordering.</p><blockquote><p>Hint</p><p>A for loop (in a combinational always block or generate block) wouldbe useful here. I would prefer a combinational always block in this casebecause module instantiations (which require generate blocks) aren'tneeded.</p></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] out<br>);<br>    <span class="hljs-keyword">reg</span> [<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] i;<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++)<span class="hljs-comment">// int is a SystemVerilog type. Use integer for pure Verilog.</span><br>            out[i] = in[<span class="hljs-number">99</span>-i];<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Gates100</title>
    <link href="/2024/08/25/hdlbits-Gates100/"/>
    <url>/2024/08/25/hdlbits-Gates100/</url>
    
    <content type="html"><![CDATA[<h1 id="gates100">Gates100</h1><p>Build a combinational circuit with 100 inputs, in[99:0].</p><p>There are 3 outputs:</p><ul><li>out_and: output of a 100-input AND gate.</li><li>out_or: output of a 100-input OR gate.</li><li>out_xor: output of a 100-input XOR gate.</li></ul><blockquote><p>Hint</p><blockquote><p>The reduction operators will be useful here.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> out_and,<br>    <span class="hljs-keyword">output</span> out_or,<br>    <span class="hljs-keyword">output</span> out_xor <br>);<br>    <span class="hljs-keyword">assign</span> out_and = &amp; in[<span class="hljs-number">99</span>:<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">assign</span> out_or  = | in[<span class="hljs-number">99</span>:<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">assign</span> out_xor = ^ in[<span class="hljs-number">99</span>:<span class="hljs-number">0</span>];<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Reduction</title>
    <link href="/2024/08/25/hdlbits-Reduction/"/>
    <url>/2024/08/25/hdlbits-Reduction/</url>
    
    <content type="html"><![CDATA[<h1 id="reduction">Reduction</h1><p>You're already familiar with bitwise operations between two values,e.g., a &amp; b or a ^ b. Sometimes, you want to create a wide gate thatoperates on all of the bits of one vector, like (a[0] &amp; a[1] &amp;a[2] &amp; a[3] ... ), which gets tedious if the vector is long.</p><p>The reduction operators can do AND, OR, and XOR of the bits of avector, producing one bit of output:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog">&amp; a[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]     <span class="hljs-comment">// AND: a[3]&amp;a[2]&amp;a[1]&amp;a[0]. Equivalent to (a[3:0] == 4&#x27;hf)</span><br>| b[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]     <span class="hljs-comment">// OR:  b[3]|b[2]|b[1]|b[0]. Equivalent to (b[3:0] != 4&#x27;h0)</span><br>^ c[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>]     <span class="hljs-comment">// XOR: c[2]^c[1]^c[0]</span><br></code></pre></td></tr></table></figure><p>These are unary operators that have only one operand (similar to theNOT operators ! and ~). You can also invert the outputs of these tocreate NAND, NOR, and XNOR gates, e.g., (~&amp; d[7:0]).</p><h1 id="a-bit-of-practice">A Bit of Practice</h1><p>Parity checking is often used as a simple method of detecting errorswhen transmitting data through an imperfect channel. Create a circuitthat will compute a parity bit for a 8-bit byte (which will add a 9thbit to the byte). We will use "even" parity, where the parity bit isjust the XOR of all 8 data bits.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> parity); <br>    <span class="hljs-keyword">assign</span> parity = ^ in[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>];<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Conditional</title>
    <link href="/2024/08/25/hdlbits-Conditional/"/>
    <url>/2024/08/25/hdlbits-Conditional/</url>
    
    <content type="html"><![CDATA[<h1 id="conditional">Conditional</h1><p>Verilog has a ternary conditional operator ( ? : ) much like C:<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">(condition ? if_true : if_false)<br></code></pre></td></tr></table></figure></p><p>This can be used to choose one of two values based on condition (amux!) on one line, without using an if-then inside a combinationalalways block.</p><p>Examples: <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs verilog">(<span class="hljs-number">0</span> ? <span class="hljs-number">3</span> : <span class="hljs-number">5</span>)     <span class="hljs-comment">// This is 5 because the condition is false.</span><br>(sel ? b : a)   <span class="hljs-comment">// A 2-to-1 multiplexer between a and b selected by sel.</span><br><br><span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)         <span class="hljs-comment">// A T-flip-flop.</span><br>  q &lt;= toggle ? ~q : q;<br><br><span class="hljs-keyword">always</span> @(*)                   <span class="hljs-comment">// State transition logic for a one-input FSM</span><br>  <span class="hljs-keyword">case</span> (state)<br>    A: next = w ? B : A;<br>    B: next = w ? A : B;<br>  <span class="hljs-keyword">endcase</span><br><br><span class="hljs-keyword">assign</span> out = ena ? q : <span class="hljs-number">1&#x27;bz</span>;  <span class="hljs-comment">// A tri-state buffer</span><br><br>((sel[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] == <span class="hljs-number">2&#x27;h0</span>) ? a :     <span class="hljs-comment">// A 3-to-1 mux</span><br> (sel[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] == <span class="hljs-number">2&#x27;h1</span>) ? b :<br>                      c )<br></code></pre></td></tr></table></figure></p><h1 id="a-bit-of-practice">A Bit of Practice</h1><p>Given four unsigned numbers, find the minimum. Unsigned numbers canbe compared with standard comparison operators (a &lt; b). Use theconditional operator to make two-way min circuits, then compose a few ofthem to create a 4-way min circuit. You'll probably want some wirevectors for the intermediate results.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] a, b, c, d,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] min);<span class="hljs-comment">//</span><br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] m1,m2;<br>    <span class="hljs-comment">// assign intermediate_result1 = compare? true: false;</span><br>    <span class="hljs-keyword">assign</span> m1 = (a &lt; b) ? a:b;<br>    <span class="hljs-keyword">assign</span> m2 = (c &lt; d) ? c:d;<br>    <span class="hljs-keyword">assign</span> min = (m1 &lt; m2) ? m1:m2;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-nolatches</title>
    <link href="/2024/08/25/hdlbits-Always-nolatches/"/>
    <url>/2024/08/25/hdlbits-Always-nolatches/</url>
    
    <content type="html"><![CDATA[<h1 id="always-nolatches">Always nolatches</h1><p>Suppose you're building a circuit to process scancodes from a PS/2keyboard for a game. Given the last two bytes of scancodes received, youneed to indicate whether one of the arrow keys on the keyboard have beenpressed. This involves a fairly simple mapping, which can be implementedas a case statement (or if-elseif) with four cases.</p><table><thead><tr class="header"><th>Scancode</th><th>Arrow Key</th></tr></thead><tbody><tr class="odd"><td>16'he06b</td><td>left arrow</td></tr><tr class="even"><td>16'he072</td><td>down arrow</td></tr><tr class="odd"><td>16'he074</td><td>right arrow</td></tr><tr class="even"><td>16'he075</td><td>up arrow</td></tr><tr class="odd"><td>Anything else</td><td>none</td></tr></tbody></table><p>Your circuit has one 16-bit input, and four outputs. Build thiscircuit that recognizes these four scancodes and asserts the correctoutput.</p><p>To avoid creating latches, all outputs must be assigned a value inall possible conditions (See also always_if2). Simply having a defaultcase is not enough. You must assign a value to all four outputs in allfour cases and the default case. This can involve a lot of unnecessarytyping. One easy way around this is to assign a "default value" to theoutputs before the case statement:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    up = <span class="hljs-number">1&#x27;b0</span>; down = <span class="hljs-number">1&#x27;b0</span>; left = <span class="hljs-number">1&#x27;b0</span>; right = <span class="hljs-number">1&#x27;b0</span>;<br>    <span class="hljs-keyword">case</span> (scancode)<br>        ... <span class="hljs-comment">// Set to 1 as necessary.</span><br>    <span class="hljs-keyword">endcase</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>This style of code ensures the outputs are assigned a value (of 0) inall possible cases unless the case statement overrides the assignment.This also means that a default: case item becomes unnecessary.</p><p><strong>Reminder</strong>: The logic synthesizer generates acombinational circuit that behaves equivalently to what the codedescribes. Hardware does not "execute" the lines of code insequence.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] scancode,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> left,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> down,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> right,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> up  ); <br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    <span class="hljs-comment">// up = 1&#x27;b0; down = 1&#x27;b0; left = 1&#x27;b0; right = 1&#x27;b0;</span><br>        <span class="hljs-keyword">case</span> (scancode)<br>            <span class="hljs-number">16&#x27;he06b</span>: <span class="hljs-keyword">begin</span><br>                up = <span class="hljs-number">1&#x27;b0</span>; down = <span class="hljs-number">1&#x27;b0</span>; left = <span class="hljs-number">1&#x27;b1</span>; right = <span class="hljs-number">1&#x27;b0</span>;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-number">16&#x27;he072</span>: <span class="hljs-keyword">begin</span><br>                up = <span class="hljs-number">1&#x27;b0</span>; down = <span class="hljs-number">1&#x27;b1</span>; left = <span class="hljs-number">1&#x27;b0</span>; right = <span class="hljs-number">1&#x27;b0</span>;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-number">16&#x27;he074</span>: <span class="hljs-keyword">begin</span><br>                up = <span class="hljs-number">1&#x27;b0</span>; down = <span class="hljs-number">1&#x27;b0</span>; left = <span class="hljs-number">1&#x27;b0</span>; right = <span class="hljs-number">1&#x27;b1</span>;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-number">16&#x27;he075</span>: <span class="hljs-keyword">begin</span><br>                up = <span class="hljs-number">1&#x27;b1</span>; down = <span class="hljs-number">1&#x27;b0</span>; left = <span class="hljs-number">1&#x27;b0</span>; right = <span class="hljs-number">1&#x27;b0</span>;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">default</span>:  <span class="hljs-keyword">begin</span><br>                up = <span class="hljs-number">1&#x27;b0</span>; down = <span class="hljs-number">1&#x27;b0</span>; left = <span class="hljs-number">1&#x27;b0</span>; right = <span class="hljs-number">1&#x27;b0</span>;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">endcase</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-casez</title>
    <link href="/2024/08/25/hdlbits-Always-casez/"/>
    <url>/2024/08/25/hdlbits-Always-casez/</url>
    
    <content type="html"><![CDATA[<h1 id="always-casez">Always casez</h1><p>Build a priority encoder for 8-bit inputs. Given an 8-bit vector, theoutput should report the first (least significant) bit in the vectorthat is 1. Report zero if the input vector has no bits that are high.For example, the input 8'b10010000 should output 3'd4, because bit[4] isfirst bit that is high.</p><p>From the previous exercise (always_case2), there would be 256 casesin the case statement. We can reduce this (down to 9 cases) if the caseitems in the case statement supported don't-care bits. This is whatcasez is for: It treats bits that have the value z as don't-care in thecomparison.</p><p>For example, this would implement the 4-input priority encoder fromthe previous exercise:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">casez</span> (in[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>])<br>        <span class="hljs-number">4&#x27;bzzz1</span>: out = <span class="hljs-number">0</span>;   <span class="hljs-comment">// in[3:1] can be anything</span><br>        <span class="hljs-number">4&#x27;bzz1z</span>: out = <span class="hljs-number">1</span>;<br>        <span class="hljs-number">4&#x27;bz1zz</span>: out = <span class="hljs-number">2</span>;<br>        <span class="hljs-number">4&#x27;b1zzz</span>: out = <span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">default</span>: out = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">endcase</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>A case statement behaves as though each item is checked sequentially(in reality, a big combinational logic function). Notice how there arecertain inputs (e.g., 4'b1111) that will match more than one case item.The first match is chosen (so 4'b1111 matches the first item, out = 0,but not any of the later ones).</p><ul><li>There is also a similar casex that treats both x and z asdon't-care. I don't see much purpose to using it over casez.</li><li>The digit ? is a synonym for z. so 2'bz0 is the same as 2'b?0</li></ul><p>It may be less error-prone to explicitly specify the prioritybehaviour rather than rely on the ordering of the case items. Forexample, the following will still behave the same way if some of thecase items were reordered, because any bit pattern can only match atmost one case item:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">casez</span> (in[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>])<br>    <span class="hljs-number">4&#x27;bzzz1</span>: ...<br>    <span class="hljs-number">4&#x27;bzz10</span>: ...<br>    <span class="hljs-number">4&#x27;bz100</span>: ...<br>    <span class="hljs-number">4&#x27;b1000</span>: ...<br>    <span class="hljs-keyword">default</span>: ...<br><span class="hljs-keyword">endcase</span><br></code></pre></td></tr></table></figure><blockquote><p>Hint</p><blockquote><p>Binary literals have to be used here because you need to specify zfor some bits.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] pos );<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">casez</span> (in)<br>            <span class="hljs-number">8&#x27;bzzzzzzz1</span>: pos = <span class="hljs-number">3&#x27;b000</span>;<br>            <span class="hljs-number">8&#x27;bzzzzzz10</span>: pos = <span class="hljs-number">3&#x27;b001</span>;<br>            <span class="hljs-number">8&#x27;bzzzzz100</span>: pos = <span class="hljs-number">3&#x27;b010</span>;<br>            <span class="hljs-number">8&#x27;bzzzz1000</span>: pos = <span class="hljs-number">3&#x27;b011</span>;<br>            <span class="hljs-number">8&#x27;bzzz10000</span>: pos = <span class="hljs-number">3&#x27;b100</span>;<br>            <span class="hljs-number">8&#x27;bzz100000</span>: pos = <span class="hljs-number">3&#x27;b101</span>;<br>            <span class="hljs-number">8&#x27;bz1000000</span>: pos = <span class="hljs-number">3&#x27;b110</span>;<br>            <span class="hljs-number">8&#x27;b10000000</span>: pos = <span class="hljs-number">3&#x27;b111</span>;<br>            <span class="hljs-keyword">default</span>: pos = <span class="hljs-number">3&#x27;b000</span>;<br>        <span class="hljs-keyword">endcase</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-case2</title>
    <link href="/2024/08/25/hdlbits-Always-case2/"/>
    <url>/2024/08/25/hdlbits-Always-case2/</url>
    
    <content type="html"><![CDATA[<h1 id="always-case2">Always case2</h1><p>A priority encoder is a combinational circuit that, when given aninput bit vector, outputs the position of the first 1 bit in the vector.For example, a 8-bit priority encoder given the input 8'b10010000 wouldoutput 3'd4, because bit[4] is first bit that is high.</p><p>Build a 4-bit priority encoder. For this problem, if none of theinput bits are high (i.e., input is zero), output zero. Note that a4-bit number has 16 possible combinations.</p><blockquote><p>Hint</p><blockquote><p>Using hexadecimal (4'hb) or decimal (4'd11) number literals wouldsave typing vs. binary (4'b1011) literals.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] pos  );<br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">case</span> (in)<br>            <span class="hljs-number">4&#x27;d0</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d1</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d2</span>: pos = <span class="hljs-number">2&#x27;b01</span>;<br>            <span class="hljs-number">4&#x27;d3</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d4</span>: pos = <span class="hljs-number">2&#x27;b10</span>;<br>            <span class="hljs-number">4&#x27;d5</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d6</span>: pos = <span class="hljs-number">2&#x27;b01</span>;<br>            <span class="hljs-number">4&#x27;d7</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d8</span>: pos = <span class="hljs-number">2&#x27;b11</span>;<br>            <span class="hljs-number">4&#x27;d9</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d10</span>: pos = <span class="hljs-number">2&#x27;b01</span>;<br>            <span class="hljs-number">4&#x27;d11</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d12</span>: pos = <span class="hljs-number">2&#x27;b10</span>;<br>            <span class="hljs-number">4&#x27;d13</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>            <span class="hljs-number">4&#x27;d14</span>: pos = <span class="hljs-number">2&#x27;b01</span>;<br>            <span class="hljs-number">4&#x27;d15</span>: pos = <span class="hljs-number">2&#x27;b00</span>;<br>        <span class="hljs-keyword">endcase</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-case</title>
    <link href="/2024/08/25/hdlbits-Always-case/"/>
    <url>/2024/08/25/hdlbits-Always-case/</url>
    
    <content type="html"><![CDATA[<h1 id="always-case">Always case</h1><p>Case statements in Verilog are nearly equivalent to a sequence ofif-elseif-else that compares one expression to a list of others. Itssyntax and functionality differs from the switch statement in C.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span>     <span class="hljs-comment">// This is a combinational circuit</span><br>    <span class="hljs-keyword">case</span> (in)<br>      <span class="hljs-number">1&#x27;b1</span>: <span class="hljs-keyword">begin</span> <br>               out = <span class="hljs-number">1&#x27;b1</span>;  <span class="hljs-comment">// begin-end if &gt;1 statement</span><br>            <span class="hljs-keyword">end</span><br>      <span class="hljs-number">1&#x27;b0</span>: out = <span class="hljs-number">1&#x27;b0</span>;<br>      <span class="hljs-keyword">default</span>: out = <span class="hljs-number">1&#x27;bx</span>;<br>    <span class="hljs-keyword">endcase</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><ul><li>The case statement begins with case and each "case item" ends with acolon. There is no "switch".</li><li>Each case item can execute exactly one statement. This makes the"break" used in C unnecessary. But this means that if you need more thanone statement, you must use begin ... end.</li><li>Duplicate (and partially overlapping) case items are permitted. Thefirst one that matches is used. C does not allow duplicate caseitems.</li></ul><h1 id="a-bit-of-practice">A bit of practice</h1><p>Case statements are more convenient than if statements if there are alarge number of cases. So, in this exercise, create a 6-to-1multiplexer. When sel is between 0 and 5, choose the corresponding datainput. Otherwise, output 0. The data inputs and outputs are all 4 bitswide.</p><p>Be careful of inferring latches</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] sel, <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data0,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data1,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data2,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data3,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data4,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] data5,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] out   );<span class="hljs-comment">//</span><br><br>    <span class="hljs-keyword">always</span>@(*) <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// This is a combinational circuit</span><br>        <span class="hljs-keyword">case</span>(sel)<br>        <span class="hljs-number">3&#x27;b000</span>: out = data0;<br>            <span class="hljs-number">3&#x27;b001</span>: out = data1;<br>            <span class="hljs-number">3&#x27;b010</span>: out = data2;<br>            <span class="hljs-number">3&#x27;b011</span>: out = data3;<br>            <span class="hljs-number">3&#x27;b100</span>: out = data4;<br>            <span class="hljs-number">3&#x27;b101</span>: out = data5;<br>            <span class="hljs-keyword">default</span>: out = <span class="hljs-number">4&#x27;b0000</span>;<br>        <span class="hljs-keyword">endcase</span><br>    <span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-if2</title>
    <link href="/2024/08/25/hdlbits-Always-if2/"/>
    <url>/2024/08/25/hdlbits-Always-if2/</url>
    
    <content type="html"><![CDATA[<h1 id="always-if2">Always if2</h1><h2 id="a-common-source-of-errors-how-to-avoid-making-latches">A commonsource of errors: How to avoid making latches</h2><p>When designing circuits, you must think first in terms ofcircuits:</p><ul><li>I want this logic gate</li><li>I want a combinational blob of logic that has these inputs andproduces these outputs</li><li>I want a combinational blob of logic followed by a set offlip-flops</li></ul><p>What you must not do is write the code first, then hope it generatesa proper circuit.</p><ul><li>If (cpu_overheated) then shut_off_computer = 1;</li><li>If (~arrived) then keep_driving = ~gas_tank_empty;</li></ul><p>Syntactically-correct code does not necessarily result in areasonable circuit (combinational logic + flip-flops). The usual reasonis: "What happens in the cases other than those you specified?".Verilog's answer is: Keep the outputs unchanged.</p><p>This behaviour of "keep outputs unchanged" means the current stateneeds to be remembered, and thus produces a latch. Combinational logic(e.g., logic gates) cannot remember any state. Watch out for Warning(10240): ... inferring latch(es)" messages. Unless the latch wasintentional, it almost always indicates a bug. Combinational circuitsmust have a value assigned to all outputs under all conditions. Thisusually means you always need else clauses or a default value assignedto the outputs.</p><h2 id="demonstration">Demonstration</h2><p>The following code contains incorrect behaviour that creates a latch.Fix the bugs so that you will shut off the computer only if it's reallyoverheated, and stop driving if you've arrived at your destination oryou need to refuel. <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (cpu_overheated)<br>       shut_off_computer = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (~arrived)<br>       keep_driving = ~gas_tank_empty;<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure></p><figure><img src="/images/Always_if2.png" title="Always_if2" alt="Always_if2" /><figcaption aria-hidden="true">Always_if2</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span>      cpu_overheated,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> shut_off_computer,<br>    <span class="hljs-keyword">input</span>      arrived,<br>    <span class="hljs-keyword">input</span>      gas_tank_empty,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> keep_driving  ); <span class="hljs-comment">//</span><br><br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (cpu_overheated)<br>           shut_off_computer = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> shut_off_computer = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">end</span><br><br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (~arrived)<br>           keep_driving = ~gas_tank_empty;<br>        <span class="hljs-keyword">else</span> keep_driving = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Always-if</title>
    <link href="/2024/08/25/hdlbits-Always-if/"/>
    <url>/2024/08/25/hdlbits-Always-if/</url>
    
    <content type="html"><![CDATA[<h1 id="always-if">Always-if</h1><p>An if statement usually creates a 2-to-1 multiplexer, selecting oneinput if the condition is true, and the other input if the condition isfalse.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (condition) <span class="hljs-keyword">begin</span><br>        out = x;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>        out = y;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>This is equivalent to using a continuous assignment with aconditional operator:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> out = (condition) ? x : y;<br></code></pre></td></tr></table></figure><p>However, the procedural if statement provides a new way to makemistakes. The circuit is combinational only if out is always assigned avalue.</p><h1 id="a-bit-of-practice">A bit of practice</h1><p>Build a 2-to-1 mux that chooses between a and b. Choose b if bothsel_b1 and sel_b2 are true. Otherwise, choose a. Do the same twice, onceusing assign statements and once using a procedural if statement.</p><table><thead><tr class="header"><th>sel_b1</th><th>sel_b2</th><th>out_assign</th><th>out_always</th></tr></thead><tbody><tr class="odd"><td>0</td><td>0</td><td>a</td><td>a</td></tr><tr class="even"><td>0</td><td>1</td><td>a</td><td>a</td></tr><tr class="odd"><td>1</td><td>0</td><td>a</td><td>a</td></tr><tr class="even"><td>1</td><td>1</td><td>b</td><td>b</td></tr></tbody></table><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> a,<br>    <span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">input</span> sel_b1,<br>    <span class="hljs-keyword">input</span> sel_b2,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> out_assign,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> out_always   ); <br><br>    <span class="hljs-keyword">assign</span> out_assign = (sel_b1 &amp; sel_b2) ? b : a;<br>    <br>    <span class="hljs-keyword">always</span> @(*) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (sel_b1 &amp; sel_b2) <span class="hljs-keyword">begin</span> <br>        out_always = b;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>        out_always = a;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Alwaysblock2</title>
    <link href="/2024/08/25/hdlbits-Alwaysblock2/"/>
    <url>/2024/08/25/hdlbits-Alwaysblock2/</url>
    
    <content type="html"><![CDATA[<h1 id="alwaysblock2">Alwaysblock2</h1><p>For hardware synthesis, there are two types of always blocks that arerelevant:</p><ul><li>Combinational: always @(*)</li><li>Clocked: always @(posedge clk)</li></ul><p>Clocked always blocks create a blob of combinational logic just likecombinational always blocks, but also creates a set of flip-flops (or"registers") at the output of the blob of combinational logic. Insteadof the outputs of the blob of logic being visible immediately, theoutputs are visible only immediately after the next (posedge clk).</p><h2 id="blocking-vs.-non-blocking-assignment">Blocking vs. Non-BlockingAssignment</h2><p>There are three types of assignments in Verilog:</p><ul><li>Continuous assignments (assign x = y;). Can only be used when notinside a procedure ("always block").</li><li>Procedural blocking assignment: (x = y;). Can only be used inside aprocedure.</li><li>Procedural non-blocking assignment: (x &lt;= y;). Can only be usedinside a procedure.</li></ul><p>In a combinational always block, use blocking assignments. In aclocked always block, use non-blocking assignments. A full understandingof why is not particularly useful for hardware design and requires agood understanding of how Verilog simulators keep track of events. Notfollowing this rule results in extremely hard to find errors that areboth non-deterministic and differ between simulation and synthesizedhardware.</p><h1 id="a-bit-of-practice">A bit of practice</h1><p>Build an XOR gate three ways, using an assign statement, acombinational always block, and a clocked always block. Note that theclocked always block produces a different circuit from the other two:There is a flip-flop so the output is delayed.</p><figure><img src="/images/Alwaysff.png" title="Alwaysff" alt="Alwaysff" /><figcaption aria-hidden="true">Alwaysff</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> a,<br>    <span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> out_assign,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> out_always_comb,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> out_always_ff   );<br>    <br>    <span class="hljs-keyword">assign</span> out_assign = a^b;<br>    <br>    <span class="hljs-keyword">always</span> @(*) out_always_comb = a^b;<br>    <span class="hljs-keyword">always</span> @( <span class="hljs-keyword">posedge</span> clk ) out_always_ff &lt;= a^b;<br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Alwaysblock1</title>
    <link href="/2024/08/24/hdlbits-Alwaysblock1/"/>
    <url>/2024/08/24/hdlbits-Alwaysblock1/</url>
    
    <content type="html"><![CDATA[<h1 id="alwaysblock1">Alwaysblock1</h1><p>Since digital circuits are composed of logic gates connected withwires, any circuit can be expressed as some combination of modules andassign statements. However, sometimes this is not the most convenientway to describe the circuit. Procedures (of which always blocks are oneexample) provide an alternative syntax for describing circuits.</p><p>For synthesizing hardware, two types of always blocks arerelevant:</p><ul><li>Combinational: always @(*)</li><li>Clocked: always @(posedge clk)</li></ul><p>Combinational always blocks are equivalent to assign statements, thusthere is always a way to express a combinational circuit both ways. Thechoice between which to use is mainly an issue of which syntax is moreconvenient. The syntax for code inside a procedural block is differentfrom code that is outside. Procedural blocks have a richer set ofstatements (e.g., if-then, case), cannot contain continuousassignments*, but also introduces many new non-intuitive ways of makingerrors. (*Procedural continuous assignments do exist, but are somewhatdifferent from continuous assignments, and are not synthesizable.)</p><p>For example, the assign and combinational always block describe thesame circuit. Both create the same blob of combinational logic. Bothwill recompute the output whenever any of the inputs (right side)changes value.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> out1 = a &amp; b | c ^ d;<br><span class="hljs-keyword">always</span> @(*) out2 = a &amp; b | c ^ d;<br></code></pre></td></tr></table></figure><figure><img src="/images/Alwayscomb.png" title="Alwayscomb" alt="Alwayscomb" /><figcaption aria-hidden="true">Alwayscomb</figcaption></figure><p>For combinational always blocks, always use a sensitivity list of(*). Explicitly listing out the signals is error-prone (if you missone), and is ignored for hardware synthesis. If you explicitly specifythe sensitivity list and miss a signal, the synthesized hardware willstill behave as though (*) was specified, but the simulation will notand not match the hardware's behaviour. (In SystemVerilog, usealways_comb.)</p><p>A note on wire vs. reg: The left-hand-side of an assign statementmust be a net type (e.g., wire), while the left-hand-side of aprocedural assignment (in an always block) must be a variable type(e.g., reg). These types (wire vs. reg) have nothing to do with whathardware is synthesized, and is just syntax left over from Verilog's useas a hardware simulation language.</p><h1 id="practice">practice</h1><p>Build an AND gate using both an assign statement and a combinationalalways block. (Since assign statements and combinational always blocksfunction identically, there is no way to enforce that you're using bothmethods. But you're here for practice, right?...)</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// synthesis verilog_input_version verilog_2001</span><br><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> out_assign,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> out_alwaysblock<br>);<br><span class="hljs-keyword">assign</span> out_assign = a&amp;b;<br>    <span class="hljs-keyword">always</span> @(*) out_alwaysblock = a&amp;b;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_addsub</title>
    <link href="/2024/08/06/hdlbits-Module-addsub/"/>
    <url>/2024/08/06/hdlbits-Module-addsub/</url>
    
    <content type="html"><![CDATA[<h1 id="module_addsub">Module_addsub</h1><p>An adder-subtractor can be built from an adder by optionally negatingone of the inputs, which is equivalent to inverting the input thenadding 1. The net result is a circuit that can do two operations: (a + b+ 0) and (a + ~b + 1). See Wikipedia if you want a more detailedexplanation of how this circuit works.</p><p>Build the adder-subtractor below.</p><p>You are provided with a 16-bit adder module, which you need toinstantiate twice:</p><p>module add16 ( input[15:0] a, input[15:0] b, input cin, output[15:0]sum, output cout );</p><p>Use a 32-bit wide XOR gate to invert the b input whenever sub is 1.(This can also be viewed as b[31:0] XORed with sub replicated 32 times.See replication operator.). Also connect the sub input to the carry-inof the adder.</p><figure><img src="/images/Module_addsub.png" title="Module_addsub"alt="Module_addsub" /><figcaption aria-hidden="true">Module_addsub</figcaption></figure><blockquote><p>Hint</p><blockquote><p>An XOR gate can also be viewed as a programmable inverter, where oneinput controls whether the other should be inverted.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">input</span> sub,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] sum<br>);<br><br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] bb;<br>    <span class="hljs-keyword">wire</span> co;<br>    <span class="hljs-keyword">assign</span> bb = &#123; &#123;<span class="hljs-number">32</span>&#123;sub&#125;&#125; &#125; ^ b;<br>    add16 add1(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.b</span>(bb[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.cin</span>(sub), <span class="hljs-variable">.cout</span>(co), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]));<br>    add16 add2(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.b</span>(bb[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.cin</span>(co), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]));<br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_cseladd</title>
    <link href="/2024/08/06/hdlbits-Module-cseladd/"/>
    <url>/2024/08/06/hdlbits-Module-cseladd/</url>
    
    <content type="html"><![CDATA[<h1 id="module_cseladd">Module_cseladd</h1><p>One drawback of the ripple carry adder (See previous exercise) isthat the delay for an adder to compute the carry out (from the carry-in,in the worst case) is fairly slow, and the second-stage adder cannotbegin computing its carry-out until the first-stage adder has finished.This makes the adder slow. One improvement is a carry-select adder,shown below. The first-stage adder is the same as before, but weduplicate the second-stage adder, one assuming carry-in=0 and oneassuming carry-in=1, then using a fast 2-to-1 multiplexer to selectwhich result happened to be correct.</p><p>In this exercise, you are provided with the same module add16 as theprevious exercise, which adds two 16-bit numbers with carry-in andproduces a carry-out and 16-bit sum. You must instantiate three of theseto build the carry-select adder, using your own 16-bit 2-to-1multiplexer.</p><p>Connect the modules together as shown in the diagram below. Theprovided module add16 has the following declaration:</p><p>module add16 ( input[15:0] a, input[15:0] b, input cin, output[15:0]sum, output cout );</p><figure><img src="/images/Module_cseladd.png" title="Module_cseladd"alt="Module_cseladd" /><figcaption aria-hidden="true">Module_cseladd</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] sum<br>);<br><br>    <span class="hljs-keyword">wire</span> sel;<br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] s1, s2;<br>    add16 add1(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.cin</span>(<span class="hljs-number">0</span>), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.cout</span>(sel));<br>    add16 add2(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.cin</span>(<span class="hljs-number">0</span>), <span class="hljs-variable">.sum</span>(s1) );<br>    add16 add3(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.cin</span>(<span class="hljs-number">1</span>), <span class="hljs-variable">.sum</span>(s2) );<br>    <br>    <span class="hljs-keyword">assign</span> sum[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>] = &#123; &#123;<span class="hljs-number">16</span>&#123;sel&#125;&#125; &#125; &amp; s2 | &#123; ~&#123;<span class="hljs-number">16</span>&#123;sel&#125;&#125; &#125; &amp; s1;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_fadd</title>
    <link href="/2024/08/06/hdlbits-Module-fadd/"/>
    <url>/2024/08/06/hdlbits-Module-fadd/</url>
    
    <content type="html"><![CDATA[<h1 id="module_fadd">Module_fadd</h1><p>In this exercise, you will create a circuit with two levels ofhierarchy. Your top_module will instantiate two copies of add16(provided), each of which will instantiate 16 copies of add1 (which youmust write). Thus, you must write two modules: top_module and add1.</p><p>Like module_add, you are given a module add16 that performs a 16-bitaddition. You must instantiate two of them to create a 32-bit adder. Oneadd16 module computes the lower 16 bits of the addition result, whilethe second add16 module computes the upper 16 bits of the result. Your32-bit adder does not need to handle carry-in (assume 0) or carry-out(ignored).</p><p>Connect the add16 modules together as shown in the diagram below. Theprovided module add16 has the following declaration:</p><p>module add16 ( input[15:0] a, input[15:0] b, input cin, output[15:0]sum, output cout );</p><p>Within each add16, 16 full adders (module add1, not provided) areinstantiated to actually perform the addition. You must write the fulladder module that has the following declaration:</p><p>module add1 ( input a, input b, input cin, output sum, output cout);</p><p>Recall that a full adder computes the sum and carry-out ofa+b+cin.</p><p>In summary, there are three modules in this design:</p><ul><li>top_module  Your top-level module that contains two of...</li><li>add16, provided  A 16-bit adder module that is composed of 16of...</li><li>add1  A 1-bit full adder module.</li></ul><p>If your submission is missing a module add1, you will get an errormessage that says Error (12006): Node instance "user_fadd[0].a1"instantiates undefined entity "add1".</p><figure><img src="/images/Module_fadd.png" title="Module_fadd"alt="Module_fadd" /><figcaption aria-hidden="true">Module_fadd</figcaption></figure><blockquote><p>Hint</p><blockquote><p>Full adder equations:</p><p>sum = a ^ b ^ cin</p><p>cout = a&amp;b | a&amp;cin | b&amp;cin</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] sum<br>);<span class="hljs-comment">//</span><br><br>    <span class="hljs-keyword">wire</span> cout;<br>    add16 add1(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.cin</span>(<span class="hljs-number">1&#x27;b0</span>), <span class="hljs-variable">.cout</span>(cout), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]));<br>    add16 add2(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.cin</span>(cout), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]));<br>    <br><span class="hljs-keyword">endmodule</span><br><br><span class="hljs-keyword">module</span> add1 ( <span class="hljs-keyword">input</span> a, <span class="hljs-keyword">input</span> b, <span class="hljs-keyword">input</span> cin,   <span class="hljs-keyword">output</span> sum, <span class="hljs-keyword">output</span> cout );<br><br><span class="hljs-comment">// Full adder module here</span><br><span class="hljs-keyword">assign</span> sum  = a^b^cin;<br>    <span class="hljs-keyword">assign</span> cout = a&amp;b | a&amp;cin | b&amp;cin;<br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_add</title>
    <link href="/2024/08/06/hdlbits-Module-add/"/>
    <url>/2024/08/06/hdlbits-Module-add/</url>
    
    <content type="html"><![CDATA[<h1 id="module_add">Module_add</h1><p>You are given a module add16 that performs a 16-bit addition.Instantiate two of them to create a 32-bit adder. One add16 modulecomputes the lower 16 bits of the addition result, while the secondadd16 module computes the upper 16 bits of the result, after receivingthe carry-out from the first adder. Your 32-bit adder does not need tohandle carry-in (assume 0) or carry-out (ignored), but the internalmodules need to in order to function correctly. (In other words, theadd16 module performs 16-bit a + b + cin, while your module performs32-bit a + b).</p><p>Connect the modules together as shown in the diagram below. Theprovided module add16 has the following declaration:</p><p>module add16 ( input[15:0] a, input[15:0] b, input cin, output[15:0]sum, output cout );</p><figure><img src="/images/Module_add.png" title="Module_add" alt="Module_add" /><figcaption aria-hidden="true">Module_add</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] sum<br>);<br><span class="hljs-keyword">wire</span> cout;<br>    add16 add1(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]), <span class="hljs-variable">.cin</span>(<span class="hljs-number">1&#x27;b0</span>), <span class="hljs-variable">.cout</span>(cout), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>]));<br>    add16 add2(<span class="hljs-variable">.a</span>(a[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.b</span>(b[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]), <span class="hljs-variable">.cin</span>(cout), <span class="hljs-variable">.sum</span>(sum[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>]));<br>    <br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_shift8</title>
    <link href="/2024/08/06/hdlbits-Module-shift8/"/>
    <url>/2024/08/06/hdlbits-Module-shift8/</url>
    
    <content type="html"><![CDATA[<h1 id="module_shift8">Module_shift8</h1><p>Instead of module ports being only single pins, we now have moduleswith vectors as ports, to which you will attach wire vectors instead ofplain wires. Like everywhere else in Verilog, the vector length of theport does not have to match the wire connecting to it, but this willcause zero-padding or trucation of the vector. This exercise does notuse connections with mismatched vector lengths.</p><p>You are given a module my_dff8 with two inputs and one output (thatimplements a set of 8 D flip-flops). Instantiate three of them, thenchain them together to make a 8-bit wide shift register of length 3. Inaddition, create a 4-to-1 multiplexer (not provided) that chooses whatto output depending on sel[1:0]: The value at the input d, after thefirst, after the second, or after the third D flip-flop. (Essentially,sel selects how many cycles to delay the input, from zero to three clockcycles.)</p><p>The module provided to you is: module my_dff8 ( input clk, input[7:0] d, output [7:0] q );</p><p>The multiplexer is not provided. One possible way to write one isinside an always block with a case statement inside.</p><figure><img src="/images/Module_shift8.png" title="Module_shift8"alt="Module_shift8" /><figcaption aria-hidden="true">Module_shift8</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> clk, <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] d, <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] sel, <br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q <br>);<br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q1;<br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q2;<br>    <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] q3;<br>    my_dff8 dff1(clk, d, q1);<br>    my_dff8 dff2(clk, q1, q2);<br>    my_dff8 dff3(clk, q2, q3);<br>    <span class="hljs-comment">// casedoge</span><br>    <span class="hljs-keyword">assign</span> q = &#123; &#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">0</span>]&#125;&#125; &#125; &amp; &#123; &#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">1</span>]&#125;&#125; &#125; &amp; q3 | &#123; ~&#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">0</span>]&#125;&#125; &#125; &amp; &#123; &#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">1</span>]&#125;&#125; &#125; &amp; q2 | &#123; &#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">0</span>]&#125;&#125; &#125; &amp; &#123; ~&#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">1</span>]&#125;&#125; &#125; &amp; q1 | &#123; ~&#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">0</span>]&#125;&#125; &#125; &amp; &#123; ~&#123;<span class="hljs-number">8</span>&#123;sel[<span class="hljs-number">1</span>]&#125;&#125; &#125; &amp; d;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_shift</title>
    <link href="/2024/08/06/hdlbits-Module-shift/"/>
    <url>/2024/08/06/hdlbits-Module-shift/</url>
    
    <content type="html"><![CDATA[<h1 id="module_shift">Module_shift</h1><p>You are given a module my_dff with two inputs and one output (thatimplements a D flip-flop). Instantiate three of them, then chain themtogether to make a shift register of length 3. The clk port needs to beconnected to all instances.</p><p>The module provided to you is: module my_dff ( input clk, input d,output q );</p><p>Note that to make the internal connections, you will need to declaresome wires. Be careful about naming your wires and module instances: thenames must be unique.</p><figure><img src="/images/Module_shift.png" title="Module_shift"alt="Module_shift" /><figcaption aria-hidden="true">Module_shift</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <span class="hljs-keyword">input</span> clk, <span class="hljs-keyword">input</span> d, <span class="hljs-keyword">output</span> q );<br>    <span class="hljs-keyword">wire</span> q1,q2;<br>    my_dff dffins1(clk, d, q1);<br>    my_dff dffins2(clk, q1, q2);<br>    my_dff dffins3(clk, q2, q);<br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_name</title>
    <link href="/2024/08/06/hdlbits-Module-name/"/>
    <url>/2024/08/06/hdlbits-Module-name/</url>
    
    <content type="html"><![CDATA[<h1 id="module_name">Module_name</h1><p>You are given a module named mod_a that has 2 outputs and 4 inputs,in some order. You must connect the 6 ports by name to your top-levelmodule's ports:</p><table><thead><tr class="header"><th>Port in mod_a</th><th>Port in top_module</th></tr></thead><tbody><tr class="odd"><td>output out1</td><td>out1</td></tr><tr class="even"><td>output out2</td><td>out2</td></tr><tr class="odd"><td>input in1</td><td>a</td></tr><tr class="even"><td>input in2</td><td>b</td></tr><tr class="odd"><td>input in3</td><td>c</td></tr><tr class="even"><td>input in4</td><td>d</td></tr></tbody></table><p>You are given the following module:</p><p>module mod_a ( output out1, output out2, input in1, input in2, inputin3, input in4);</p><figure><img src="/images/Module_name.png" title="Module_name"alt="Module_name" /><figcaption aria-hidden="true">Module_name</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b, <br>    <span class="hljs-keyword">input</span> c,<br>    <span class="hljs-keyword">input</span> d,<br>    <span class="hljs-keyword">output</span> out1,<br>    <span class="hljs-keyword">output</span> out2<br>);<br>    mod_a instance_a(<span class="hljs-variable">.out1</span>(out1), <span class="hljs-variable">.out2</span>(out2), <span class="hljs-variable">.in1</span>(a), <span class="hljs-variable">.in2</span>(b), <span class="hljs-variable">.in3</span>(c), <span class="hljs-variable">.in4</span>(d));<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module_pos</title>
    <link href="/2024/08/06/hdlbits-Module-pos/"/>
    <url>/2024/08/06/hdlbits-Module-pos/</url>
    
    <content type="html"><![CDATA[<h1 id="module-pos">Module pos</h1><p>You are given a module named mod_a that has 2 outputs and 4 inputs,in that order. You must connect the 6 ports by position to yourtop-level module's ports out1, out2, a, b, c, and d, in that order.</p><p>You are given the following module:</p><p>module mod_a ( output, output, input, input, input, input );</p><figure><img src="/images/Module_pos.png" title="Module_pos" alt="Module_pos" /><figcaption aria-hidden="true">Module_pos</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b, <br>    <span class="hljs-keyword">input</span> c,<br>    <span class="hljs-keyword">input</span> d,<br>    <span class="hljs-keyword">output</span> out1,<br>    <span class="hljs-keyword">output</span> out2<br>);<br>    mod_a instance_a(out1, out2, a, b, c, d);<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits_Module</title>
    <link href="/2024/08/06/hdlbits-Module/"/>
    <url>/2024/08/06/hdlbits-Module/</url>
    
    <content type="html"><![CDATA[<h1 id="module">Module</h1><p>https://hdlbits.01xz.net/wiki/Module</p><p>By now, you're familiar with a module, which is a circuit thatinteracts with its outside through input and output ports. Larger, morecomplex circuits are built by composing bigger modules out of smallermodules and other pieces (such as assign statements and always blocks)connected together. This forms a hierarchy, as modules can containinstances of other modules.</p><p>The figure below shows a very simple circuit with a sub-module. Inthis exercise, create one instance of module mod_a, then connect themodule's three pins (in1, in2, and out) to your top-level module's threeports (wires a, b, and out). The module mod_a is provided for you  youmust instantiate it.</p><p>When connecting modules, only the ports on the module are important.You do not need to know the code inside the module. The code for modulemod_a looks like this:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> mod_a ( <span class="hljs-keyword">input</span> in1, <span class="hljs-keyword">input</span> in2, <span class="hljs-keyword">output</span> out );<br>    <span class="hljs-comment">// Module body</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><p>The hierarchy of modules is created by instantiating one moduleinside another, as long as all of the modules used belong to the sameproject (so the compiler knows where to find the module). The code forone module is not written inside another module's body (Code fordifferent modules are not nested).</p><p>You may connect signals to the module by port name or port position.For extra practice, try both methods.</p><figure><img src="/images/Module.png" title="Module" alt="Module" /><figcaption aria-hidden="true">Module</figcaption></figure><h2 id="connecting-signals-to-module-ports">Connecting Signals to ModulePorts</h2><p>There are two commonly-used methods to connect a wire to a port: byposition or by name. By position</p><p>The syntax to connect wires to ports by position should be familiar,as it uses a C-like syntax. When instantiating a module, ports areconnected left to right according to the module's declaration. Forexample: <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">mod_a instance1 ( wa, wb, wc );<br></code></pre></td></tr></table></figure> This instantiates a module of type mod_a andgives it an instance name of "instance1", then connects signal wa(outside the new module) to the first port (in1) of the new module, wbto the second port (in2), and wc to the third port (out). One drawbackof this syntax is that if the module's port list changes, allinstantiations of the module will also need to be found and changed tomatch the new module. By name</p><p>Connecting signals to a module's ports by name allows wires to remaincorrectly connected even if the port list changes. This syntax is moreverbose, however. <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">mod_a instance2 ( <span class="hljs-variable">.out</span>(wc), <span class="hljs-variable">.in1</span>(wa), <span class="hljs-variable">.in2</span>(wb) );<br></code></pre></td></tr></table></figure> The above line instantiates a module oftype mod_a named "instance2", then connects signal wa (outside themodule) to the port named in1, wb to the port named in2, and wc to theport named out. Notice how the ordering of ports is irrelevant herebecause the connection will be made to the correct name, regardless ofits position in the sub-module's port list. Also notice the periodimmediately preceding the port name in this syntax.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <span class="hljs-keyword">input</span> a, <span class="hljs-keyword">input</span> b, <span class="hljs-keyword">output</span> out );<br>    mod_a instance_a(<span class="hljs-variable">.in1</span>(a), <span class="hljs-variable">.in2</span>(b), <span class="hljs-variable">.out</span>(out));<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector5</title>
    <link href="/2024/08/03/hdlbits-Vector5/"/>
    <url>/2024/08/03/hdlbits-Vector5/</url>
    
    <content type="html"><![CDATA[<h1 id="vector5">Vector5</h1><p>Given five 1-bit signals (a, b, c, d, and e), compute all 25 pairwiseone-bit comparisons in the 25-bit output vector. The output should be 1if the two bits being compared are equal. <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog">out[<span class="hljs-number">24</span>] = ~a ^ a;   <span class="hljs-comment">// a == a, so out[24] is always 1.</span><br>out[<span class="hljs-number">23</span>] = ~a ^ b;<br>out[<span class="hljs-number">22</span>] = ~a ^ c;<br>...<br>out[ <span class="hljs-number">1</span>] = ~e ^ d;<br>out[ <span class="hljs-number">0</span>] = ~e ^ e;<br></code></pre></td></tr></table></figure></p><figure><img src="/images/Vector5.png" title="Vector5" alt="Vector5" /><figcaption aria-hidden="true">Vector5</figcaption></figure><p>As the diagram shows, this can be done more easily using thereplication and concatenation operators.</p><ul><li>The top vector is a concatenation of 5 repeats of each input</li><li>The bottom vector is 5 repeats of a concatenation of the 5inputs</li></ul><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> a, b, c, d, e,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">24</span>:<span class="hljs-number">0</span>] out );<span class="hljs-comment">//</span><br><br>    <span class="hljs-comment">// The output is XNOR of two vectors created by </span><br>    <span class="hljs-comment">// concatenating and replicating the five inputs.</span><br>    <span class="hljs-comment">// assign out = ~&#123; ... &#125; ^ &#123; ... &#125;;</span><br>    <span class="hljs-keyword">assign</span> out = ~&#123; &#123;<span class="hljs-number">5</span>&#123;a&#125;&#125;, &#123;<span class="hljs-number">5</span>&#123;b&#125;&#125;, &#123;<span class="hljs-number">5</span>&#123;c&#125;&#125;, &#123;<span class="hljs-number">5</span>&#123;d&#125;&#125;, &#123;<span class="hljs-number">5</span>&#123;e&#125;&#125; &#125; ^ &#123; &#123;<span class="hljs-number">5</span>&#123;a,b,c,d,e&#125;&#125; &#125;;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector4</title>
    <link href="/2024/08/03/hdlbits-Vector4/"/>
    <url>/2024/08/03/hdlbits-Vector4/</url>
    
    <content type="html"><![CDATA[<h1 id="vector4">Vector4</h1><p>The concatenation operator allowed concatenating together vectors toform a larger vector. But sometimes you want the same thing concatenatedtogether many times, and it is still tedious to do something like assign<strong>a = {b,b,b,b,b,b};</strong>. The replication operator allowsrepeating a vector and concatenating them together: <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">&#123;num&#123;vector&#125;&#125;<br></code></pre></td></tr></table></figure> Thisreplicates vector by num times. num must be a constant. Both sets ofbraces are required.</p><p>Examples: <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog">&#123;<span class="hljs-number">5</span>&#123;<span class="hljs-number">1&#x27;b1</span>&#125;&#125;           <span class="hljs-comment">// 5&#x27;b11111 (or 5&#x27;d31 or 5&#x27;h1f)</span><br>&#123;<span class="hljs-number">2</span>&#123;a,b,c&#125;&#125;          <span class="hljs-comment">// The same as &#123;a,b,c,a,b,c&#125;</span><br>&#123;<span class="hljs-number">3&#x27;d5</span>, &#123;<span class="hljs-number">2</span>&#123;<span class="hljs-number">3&#x27;d6</span>&#125;&#125;&#125;   <span class="hljs-comment">// 9&#x27;b101_110_110. It&#x27;s a concatenation of 101 with</span><br>                    <span class="hljs-comment">// the second vector, which is two copies of 3&#x27;b110.</span><br></code></pre></td></tr></table></figure></p><h1 id="practice">Practice</h1><p>One common place to see a replication operator is when sign-extendinga smaller number to a larger one, while preserving its signed value.This is done by replicating the sign bit (the most significant bit) ofthe smaller number to the left. For example, sign-extending 4'b0101 (5)to 8 bits results in 8'b00000101 (5), while sign-extending 4'b1101 (-3)to 8 bits results in 8'b11111101 (-3).</p><p>Build a circuit that sign-extends an 8-bit number to 32 bits. Thisrequires a concatenation of 24 copies of the sign bit (i.e., replicatebit[7] 24 times) followed by the 8-bit number itself.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] out );<span class="hljs-comment">//</span><br><br>    <span class="hljs-comment">// assign out = &#123; replicate-sign-bit , the-input &#125;;</span><br>    <span class="hljs-keyword">assign</span> out = &#123; &#123;<span class="hljs-number">24</span>&#123;in[<span class="hljs-number">7</span>]&#125;&#125;, in &#125;; <span class="hljs-comment">// </span><br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vectorr</title>
    <link href="/2024/08/03/hdlbits-Vectorr/"/>
    <url>/2024/08/03/hdlbits-Vectorr/</url>
    
    <content type="html"><![CDATA[<h1 id="vectorr">Vectorr</h1><p>Given an 8-bit input vector [7:0], reverse its bit ordering.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] out<br>);<br>    <span class="hljs-keyword">assign</span> out = &#123;in[<span class="hljs-number">0</span>], in[<span class="hljs-number">1</span>], in[<span class="hljs-number">2</span>], in[<span class="hljs-number">3</span>], in[<span class="hljs-number">4</span>], in[<span class="hljs-number">5</span>], in[<span class="hljs-number">6</span>], in[<span class="hljs-number">7</span>]&#125;;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector3</title>
    <link href="/2024/08/03/hdlbits-Vector3/"/>
    <url>/2024/08/03/hdlbits-Vector3/</url>
    
    <content type="html"><![CDATA[<h1 id="vector3">Vector3</h1><p>Part selection was used to select portions of a vector. Theconcatenation operator {a,b,c} is used to create larger vectors byconcatenating smaller portions of a vector together. <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog">&#123;<span class="hljs-number">3&#x27;b111</span>, <span class="hljs-number">3&#x27;b000</span>&#125; =&gt; <span class="hljs-number">6&#x27;b111000</span><br>&#123;<span class="hljs-number">1&#x27;b1</span>, <span class="hljs-number">1&#x27;b0</span>, <span class="hljs-number">3&#x27;b101</span>&#125; =&gt; <span class="hljs-number">5&#x27;b10101</span><br>&#123;<span class="hljs-number">4&#x27;ha</span>, <span class="hljs-number">4&#x27;d10</span>&#125; =&gt; <span class="hljs-number">8&#x27;b10101010</span>     <span class="hljs-comment">// 4&#x27;ha and 4&#x27;d10 are both 4&#x27;b1010 in binary</span><br></code></pre></td></tr></table></figure>Concatenation needs to know the width of every component (or how wouldyou know the length of the result?). Thus, {1, 2, 3} is illegal andresults in the error message: unsized constants are not allowed inconcatenations.</p><p>The concatenation operator can be used on both the left and rightsides of assignments. <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">input</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] in;<br><span class="hljs-keyword">output</span> [<span class="hljs-number">23</span>:<span class="hljs-number">0</span>] out;<br><span class="hljs-keyword">assign</span> &#123;out[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>], out[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>]&#125; = in;         <span class="hljs-comment">// Swap two bytes. Right side and left side are both 16-bit vectors.</span><br><span class="hljs-keyword">assign</span> out[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] = &#123;in[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>], in[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>]&#125;;    <span class="hljs-comment">// This is the same thing.</span><br><span class="hljs-keyword">assign</span> out = &#123;in[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>], in[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>]&#125;;       <span class="hljs-comment">// This is different. The 16-bit vector on the right is extended to</span><br>                                        <span class="hljs-comment">// match the 24-bit vector on the left, so out[23:16] are zero.</span><br>                                        <span class="hljs-comment">// In the first two examples, out[23:16] are not assigned.</span><br></code></pre></td></tr></table></figure></p><h1 id="practice">Practice</h1><p>Given several input vectors, concatenate them together then splitthem up into several output vectors. There are six 5-bit input vectors:a, b, c, d, e, and f, for a total of 30 bits of input. There are four8-bit output vectors: w, x, y, and z, for 32 bits of output. The outputshould be a concatenation of the input vectors followed by two 1bits:</p><figure><img src="/images/Vector3.png" title="Vector3" alt="Vector3" /><figcaption aria-hidden="true">Vector3</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] a, b, c, d, e, f,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] w, x, y, z );<span class="hljs-comment">//</span><br><br>    <span class="hljs-comment">// assign &#123; ... &#125; = &#123; ... &#125;;</span><br>    <span class="hljs-keyword">assign</span> &#123;w, x, y, z&#125; = &#123;a, b, c, d, e, f, <span class="hljs-number">2&#x27;b11</span>&#125;;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Gates4</title>
    <link href="/2024/08/03/hdlbits-Gates4/"/>
    <url>/2024/08/03/hdlbits-Gates4/</url>
    
    <content type="html"><![CDATA[<h1 id="gates4">Gates4</h1><p>Build a combinational circuit with four inputs, in[3:0].</p><p>There are 3 outputs:</p><ul><li>out_and: output of a 4-input AND gate.</li><li>out_or: output of a 4-input OR gate.</li><li>out_xor: output of a 4-input XOR gate.</li></ul><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> out_and,<br>    <span class="hljs-keyword">output</span> out_or,<br>    <span class="hljs-keyword">output</span> out_xor<br>);<br>    <span class="hljs-keyword">assign</span> out_and = in[<span class="hljs-number">0</span>] &amp; in[<span class="hljs-number">1</span>] &amp; in[<span class="hljs-number">2</span>] &amp; in[<span class="hljs-number">3</span>];<br>    <span class="hljs-keyword">assign</span> out_or  = in[<span class="hljs-number">0</span>] | in[<span class="hljs-number">1</span>] | in[<span class="hljs-number">2</span>] | in[<span class="hljs-number">3</span>];<br>    <span class="hljs-keyword">assign</span> out_xor = in[<span class="hljs-number">0</span>] ^ in[<span class="hljs-number">1</span>] ^ in[<span class="hljs-number">2</span>] ^ in[<span class="hljs-number">3</span>];<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vectorgates</title>
    <link href="/2024/08/03/hdlbits-Vectorgates/"/>
    <url>/2024/08/03/hdlbits-Vectorgates/</url>
    
    <content type="html"><![CDATA[<h1 id="vectorgates">Vectorgates</h1><p>Build a circuit that has two 3-bit inputs that computes thebitwise-OR of the two vectors, the logical-OR of the two vectors, andthe inverse (NOT) of both vectors. Place the inverse of b in the upperhalf of out_not (i.e., bits [5:3]), and the inverse of a in the lowerhalf.</p><h2 id="bitwise-vs.-logical-operators">Bitwise vs. LogicalOperators</h2><p>Earlier, we mentioned that there are bitwise and logical versions ofthe various boolean operators (e.g., norgate). When using vectors, thedistinction between the two operator types becomes important. A bitwiseoperation between two N-bit vectors replicates the operation for eachbit of the vector and produces a N-bit output, while a logical operationtreats the entire vector as a boolean value (true = non-zero, false =zero) and produces a 1-bit output.</p><p>Look at the simulation waveforms at how the bitwise-OR and logical-ORdiffer.</p><figure><img src="/images/Vectorgates.png" title="Vectorgates"alt="Vectorgates" /><figcaption aria-hidden="true">Vectorgates</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Even though you cannot assign to a wire more than once, you can use apart select on the left-hand-side of an assign. You don't need to assignto the entire vector all in one statement.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] b,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] out_or_bitwise,<br>    <span class="hljs-keyword">output</span> out_or_logical,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] out_not<br>);<br><span class="hljs-keyword">assign</span> out_or_bitwise = a|b;<br>    <span class="hljs-keyword">assign</span> out_or_logical = a || b;<br>    <span class="hljs-keyword">assign</span> out_not = &#123;~b, ~a&#125;;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector2</title>
    <link href="/2024/08/03/hdlbits-Vector2/"/>
    <url>/2024/08/03/hdlbits-Vector2/</url>
    
    <content type="html"><![CDATA[<h1 id="vector2">Vector2</h1><p>A 32-bit vector can be viewed as containing 4 bytes (bits [31:24],[23:16], etc.). Build a circuit that will reverse the byte ordering ofthe 4-byte word.</p><p>AaaaaaaaBbbbbbbbCcccccccDddddddd =&gt;DdddddddCcccccccBbbbbbbbAaaaaaaa</p><p>This operation is often used when the endianness of a piece of dataneeds to be swapped, for example between little-endian x86 systems andthe big-endian formats used in many Internet protocols.</p><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Part-select can be used on both the left side and right side of anassignment.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] out );<span class="hljs-comment">//</span><br><br>    <span class="hljs-comment">// assign out[31:24] = ...;</span><br>    <span class="hljs-keyword">assign</span> out[<span class="hljs-number">31</span>:<span class="hljs-number">24</span>] = in[ <span class="hljs-number">7</span>: <span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">assign</span> out[<span class="hljs-number">23</span>:<span class="hljs-number">16</span>] = in[<span class="hljs-number">15</span>: <span class="hljs-number">8</span>];<br>    <span class="hljs-keyword">assign</span> out[<span class="hljs-number">15</span>: <span class="hljs-number">8</span>] = in[<span class="hljs-number">23</span>:<span class="hljs-number">16</span>];<br>    <span class="hljs-keyword">assign</span> out[ <span class="hljs-number">7</span>: <span class="hljs-number">0</span>] = in[<span class="hljs-number">31</span>:<span class="hljs-number">24</span>];<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector1</title>
    <link href="/2024/08/03/hdlbits-Vector1/"/>
    <url>/2024/08/03/hdlbits-Vector1/</url>
    
    <content type="html"><![CDATA[<h1 id="vector1">Vector1</h1><p>Vectors are used to group related signals using one name to make itmore convenient to manipulate. For example, wire [7:0] w; declares an8-bit vector named w that is equivalent to having 8 separate wires.</p><h2 id="declaring-vectors">Declaring Vectors</h2><p>Vectors must be declared:</p><p>type [upper:lower] vector_name;</p><p>type specifies the datatype of the vector. This is usually wire orreg. If you are declaring a input or output port, the type canadditionally include the port type (e.g., input or output) as well. Someexamples: <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] w;         <span class="hljs-comment">// 8-bit wire</span><br><span class="hljs-keyword">reg</span>  [<span class="hljs-number">4</span>:<span class="hljs-number">1</span>] x;         <span class="hljs-comment">// 4-bit reg</span><br><span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">0</span>:<span class="hljs-number">0</span>] y;   <span class="hljs-comment">// 1-bit reg that is also an output port (this is still a vector)</span><br><span class="hljs-keyword">input</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">3</span>:-<span class="hljs-number">2</span>] z;  <span class="hljs-comment">// 6-bit wire input (negative ranges are allowed)</span><br><span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] a;       <span class="hljs-comment">// 4-bit output wire. Type is &#x27;wire&#x27; unless specified otherwise.</span><br><span class="hljs-keyword">wire</span> [<span class="hljs-number">0</span>:<span class="hljs-number">7</span>] b;         <span class="hljs-comment">// 8-bit wire where b[0] is the most-significant bit.</span><br></code></pre></td></tr></table></figure></p><p>The endianness (or, informally, "direction") of a vector is whetherthe the least significant bit has a lower index (little-endian, e.g.,[3:0]) or a higher index (big-endian, e.g., [0:3]). In Verilog, once avector is declared with a particular endianness, it must always be usedthe same way. e.g., writing vec[0:3] when vec is declared wire [3:0]vec; is illegal. Being consistent with endianness is good practice, asweird bugs occur if vectors of different endianness are assigned or usedtogether.</p><h2 id="implicit-nets">Implicit nets</h2><p>Implicit nets are often a source of hard-to-detect bugs. In Verilog,net-type signals can be implicitly created by an assign statement or byattaching something undeclared to a module port. Implicit nets arealways one-bit wires and causes bugs if you had intended to use avector. Disabling creation of implicit nets can be done using the`default_nettype none directive.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">wire</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] a, c;   <span class="hljs-comment">// Two vectors</span><br><span class="hljs-keyword">assign</span> a = <span class="hljs-number">3&#x27;b101</span>;  <span class="hljs-comment">// a = 101</span><br><span class="hljs-keyword">assign</span> b = a;       <span class="hljs-comment">// b =   1  implicitly-created wire</span><br><span class="hljs-keyword">assign</span> c = b;       <span class="hljs-comment">// c = 001  &lt;-- bug</span><br>my_module i1 (d,e); <span class="hljs-comment">// d and e are implicitly one-bit wide if not declared.</span><br>                    <span class="hljs-comment">// This could be a bug if the port was intended to be a vector.</span><br></code></pre></td></tr></table></figure><p>Adding `default_nettype none would make the second line of code anerror, which makes the bug more visible.</p><h2 id="unpacked-vs.-packed-arrays">Unpacked vs. Packed Arrays</h2><p>You may have noticed that in declarations, the vector indices arewritten before the vector name. This declares the "packed" dimensions ofthe array, where the bits are "packed" together into a blob (this isrelevant in a simulator, but not in hardware). The unpacked dimensionsare declared after the name. They are generally used to declare memoryarrays. Since ECE253 didn't cover memory arrays, we have not used packedarrays in this course. Seehttp://www.asic-world.com/systemverilog/data_types10.html for moredetails.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">reg</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] mem [<span class="hljs-number">255</span>:<span class="hljs-number">0</span>];   <span class="hljs-comment">// 256 unpacked elements, each of which is a 8-bit packed vector of reg.</span><br><span class="hljs-keyword">reg</span> mem2 [<span class="hljs-number">28</span>:<span class="hljs-number">0</span>];         <span class="hljs-comment">// 29 unpacked elements, each of which is a 1-bit reg.</span><br></code></pre></td></tr></table></figure><h2 id="accessing-vector-elements-part-select">Accessing VectorElements: Part-Select</h2><p>Accessing an entire vector is done using the vector name. Forexample:</p><p>assign w = a;</p><p>takes the entire 4-bit vector a and assigns it to the entire 8-bitvector w (declarations are taken from above). If the lengths of theright and left sides don't match, it is zero-extended or truncated asappropriate.</p><p>The part-select operator can be used to access a portion of a vector:<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog">w[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]      <span class="hljs-comment">// Only the lower 4 bits of w</span><br>x[<span class="hljs-number">1</span>]        <span class="hljs-comment">// The lowest bit of x</span><br>x[<span class="hljs-number">1</span>:<span class="hljs-number">1</span>]      <span class="hljs-comment">// ...also the lowest bit of x</span><br>z[-<span class="hljs-number">1</span>:-<span class="hljs-number">2</span>]    <span class="hljs-comment">// Two lowest bits of z</span><br>b[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]      <span class="hljs-comment">// Illegal. Vector part-select must match the direction of the declaration.</span><br>b[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>]      <span class="hljs-comment">// The *upper* 4 bits of b.</span><br><span class="hljs-keyword">assign</span> w[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] = b[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>];    <span class="hljs-comment">// Assign upper 4 bits of b to lower 4 bits of w. w[3]=b[0], w[2]=b[1], etc.</span><br></code></pre></td></tr></table></figure></p><h1 id="practice">Practice</h1><p>Build a combinational circuit that splits an input half-word (16bits, [15:0] ) into lower [7:0] and upper [15:8] bytes.</p><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-meta">`<span class="hljs-keyword">default_nettype</span> none     </span><span class="hljs-comment">// Disable implicit nets. Reduces some types of bugs.</span><br><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] out_hi,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] out_lo );<br>    <span class="hljs-keyword">assign</span> &#123;out_hi, out_lo&#125; = in;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Vector0</title>
    <link href="/2024/08/03/hdlbits-Vector0/"/>
    <url>/2024/08/03/hdlbits-Vector0/</url>
    
    <content type="html"><![CDATA[<h1 id="vector0">Vector0</h1><p>Vectors are used to group related signals using one name to make itmore convenient to manipulate. For example, wire [7:0] w; declares an8-bit vector named w that is functionally equivalent to having 8separate wires.</p><p>Notice that the declaration of a vector places the dimensions beforethe name of the vector, which is unusual compared to C syntax. However,the part select has the dimensions after the vector name as you wouldexpect.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">wire</span> [<span class="hljs-number">99</span>:<span class="hljs-number">0</span>] my_vector;      <span class="hljs-comment">// Declare a 100-element vector</span><br><span class="hljs-keyword">assign</span> out = my_vector[<span class="hljs-number">10</span>]; <span class="hljs-comment">// Part-select one bit out of the vector</span><br></code></pre></td></tr></table></figure><p>Build a circuit that has one 3-bit input, then outputs the samevector, and also splits it into three separate 1-bit outputs. Connectoutput o0 to the input vector's position 0, o1 to position 1, etc.</p><p>In a diagram, a tick mark with a number next to it indicates thewidth of the vector (or "bus"), rather than drawing a separate line foreach bit in the vector.</p><figure><img src="/images/Vector0.png" title="Vector0" alt="Vector0" /><figcaption aria-hidden="true">Vector0</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] vec,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] outv,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> o2,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> o1,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">wire</span> o0  ); <span class="hljs-comment">// Module body starts after module declaration</span><br><br>    <span class="hljs-keyword">assign</span> outv = vec;<br>    <span class="hljs-keyword">assign</span> &#123;o2, o1, o0&#125; = vec;<br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-7458</title>
    <link href="/2024/08/03/hdlbits-7458/"/>
    <url>/2024/08/03/hdlbits-7458/</url>
    
    <content type="html"><![CDATA[<h1 id="section">7458</h1><p>The 7458 is a chip with four AND gates and two OR gates. This problemis slightly more complex than 7420.</p><p>Create a module with the same functionality as the 7458 chip. It has10 inputs and 2 outputs. You may choose to use an assign statement todrive each of the output wires, or you may choose to declare (four)wires for use as intermediate signals, where each internal wire isdriven by the output of one of the AND gates. For extra practice, try itboth ways.</p><figure><img src="/images/7458.png" title="7458" alt="7458" /><figcaption aria-hidden="true">7458</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>You need to drive two signals (p1y and p2y) with a value.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <br>    <span class="hljs-keyword">input</span> p1a, p1b, p1c, p1d, p1e, p1f,<br>    <span class="hljs-keyword">output</span> p1y,<br>    <span class="hljs-keyword">input</span> p2a, p2b, p2c, p2d,<br>    <span class="hljs-keyword">output</span> p2y );<br><br>    <span class="hljs-keyword">assign</span> p1y = (p1a &amp; p1b &amp; p1c) | ( p1d &amp; p1e &amp; p1f );<br>    <span class="hljs-keyword">assign</span> p2y = (p2a &amp; p2b) | (p2c &amp; p2d);<br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Declaring-wires</title>
    <link href="/2024/08/03/hdlbits-Declaring-wires/"/>
    <url>/2024/08/03/hdlbits-Declaring-wires/</url>
    
    <content type="html"><![CDATA[<h1 id="declaring-wires">Declaring wires</h1><p>The circuits so far have been simple enough that the outputs aresimple functions of the inputs. As circuits become more complex, youwill need wires to connect internal components together. When you needto use a wire, you should declare it in the body of the module,somewhere before it is first used. (In the future, you will encountermore types of signals and variables that are also declared the same way,but for now, we'll start with a signal of type wire).</p><figure><img src="/images/Wiredecl1.png" title="Wiredecl1" alt="Wiredecl1" /><figcaption aria-hidden="true">Wiredecl1</figcaption></figure><h1 id="example">example</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br>    <span class="hljs-keyword">input</span> in,              <span class="hljs-comment">// Declare an input wire named &quot;in&quot;</span><br>    <span class="hljs-keyword">output</span> out             <span class="hljs-comment">// Declare an output wire named &quot;out&quot;</span><br>);<br><br>    <span class="hljs-keyword">wire</span> not_in;           <span class="hljs-comment">// Declare a wire named &quot;not_in&quot;</span><br><br>    <span class="hljs-keyword">assign</span> out = ~not_in;  <span class="hljs-comment">// Assign a value to out (create a NOT gate).</span><br>    <span class="hljs-keyword">assign</span> not_in = ~in;   <span class="hljs-comment">// Assign a value to not_in (create another NOT gate).</span><br><br><span class="hljs-keyword">endmodule</span>   <span class="hljs-comment">// End of module &quot;top_module&quot;</span><br><br></code></pre></td></tr></table></figure><h1 id="practice">Practice</h1><p>Implement the following circuit. Create two intermediate wires (namedanything you want) to connect the AND and OR gates together. Note thatthe wire that feeds the NOT gate is really wire out, so you do notnecessarily need to declare a third wire here. Notice how wires aredriven by exactly one source (output of a gate), but can feed multipleinputs.</p><p>If you're following the circuit structure in the diagram, you shouldend up with four assign statements, as there are four signals that needa value assigned.</p><figure><img src="/images/Wiredecl2.png" title="Wiredecl2" alt="Wiredecl2" /><figcaption aria-hidden="true">Wiredecl2</figcaption></figure><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-meta">`<span class="hljs-keyword">default_nettype</span> none</span><br><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> a,<br>    <span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">input</span> c,<br>    <span class="hljs-keyword">input</span> d,<br>    <span class="hljs-keyword">output</span> out,<br>    <span class="hljs-keyword">output</span> out_n   ); <br><br>    <span class="hljs-keyword">wire</span> p;<br>    <span class="hljs-keyword">assign</span> p = a&amp;b | c&amp;d;<br>    <br>    <span class="hljs-keyword">assign</span> out = p;<br>    <span class="hljs-keyword">assign</span> out_n = ~p;<br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Xnorgate</title>
    <link href="/2024/08/03/hdlbits-Xnorgate/"/>
    <url>/2024/08/03/hdlbits-Xnorgate/</url>
    
    <content type="html"><![CDATA[<h1 id="xnorgate">Xnorgate</h1><p>Create a module that implements an XNOR gate.</p><figure><img src="/images/Xnorgate.png" title="xnorgate" alt="xnorgate" /><figcaption aria-hidden="true">xnorgate</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>The bitwise-XOR operator is ^. There is no logical-XOR operator.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b, <br>    <span class="hljs-keyword">output</span> out );<br>    <span class="hljs-keyword">assign</span> out = ~(a^b);<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Norgate</title>
    <link href="/2024/08/03/hdlbits-Norgate/"/>
    <url>/2024/08/03/hdlbits-Norgate/</url>
    
    <content type="html"><![CDATA[<h1 id="norgate">Norgate</h1><p>Create a module that implements a NOR gate. A NOR gate is an OR gatewith its output inverted. A NOR function needs two operators whenwritten in Verilog.</p><p>An assign statement drives a wire (or "net", as it's more formallycalled) with a value. This value can be as complex a function as youwant, as long as it's a combinational (i.e., memory-less, with no hiddenstate) function. An assign statement is a continuous assignment becausethe output is "recomputed" whenever any of its inputs change, forever,much like a simple logic gate.</p><figure><img src="/images/Norgate.png" title="norgate" alt="norgate" /><figcaption aria-hidden="true">norgate</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Verilog has separate bitwise-OR (|) and logical-OR (||) operators,like C. Since we're working with a one-bit here, it doesn't matter whichwe choose.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b, <br>    <span class="hljs-keyword">output</span> out );<br>    <span class="hljs-keyword">assign</span> out = ~(a | b);<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Andgate</title>
    <link href="/2024/08/03/hdlbits-Andgate/"/>
    <url>/2024/08/03/hdlbits-Andgate/</url>
    
    <content type="html"><![CDATA[<h1 id="andgate">Andgate</h1><p>Create a module that implements an AND gate.</p><p>This circuit now has three wires (a, b, and out). Wires a and balready have values driven onto them by the input ports. But wire outcurrently is not driven by anything. Write an assign statement thatdrives out with the AND of signals a and b.</p><p>Note that this circuit is very similar to the NOT gate, just with onemore input. If it sounds different, it's because I've started describingsignals as being driven (has a known value determined by somethingattached to it) or not driven by something. Input wires are driven bysomething outside the module. assign statements will drive a logic levelonto a wire. As you might expect, a wire cannot have more than onedriver (what is its logic level if there is ?), and a wire that has nodrivers will have an undefined value (often treated as 0 whensynthesizing hardware).</p><figure><img src="/images/Andgate.png" title="andgate" alt="andgate" /><figcaption aria-hidden="true">andgate</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Verilog has separate bitwise-AND (&amp;) and logical-AND (&amp;&amp;)operators, like C. Since we're working with a one-bit here, it doesn'tmatter which we choose.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> a, <br>    <span class="hljs-keyword">input</span> b, <br>    <span class="hljs-keyword">output</span> out );<br><span class="hljs-keyword">assign</span> out = a&amp;b;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Notgate</title>
    <link href="/2024/08/03/hdlbits-Notgate/"/>
    <url>/2024/08/03/hdlbits-Notgate/</url>
    
    <content type="html"><![CDATA[<h1 id="notgate">Notgate</h1><p>Create a module that implements a NOT gate.</p><p>This circuit is similar to wire, but with a slight difference. Whenmaking the connection from the wire in to the wire out we're going toimplement an inverter (or "NOT-gate") instead of a plain wire.</p><p>Use an assign statement. The assign statement will continuously drivethe inverse of in onto wire out</p><figure><img src="/images/Notgate.png" title="notgate" alt="notgate" /><figcaption aria-hidden="true">notgate</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Verilog has separate bitwise-NOT (~) and logical-NOT (!) operators,like C. Since we're working with a one-bit here, it doesn't matter whichwe choose.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs veilog">module top_module( input in, output out );<br>assign out = ~in;<br>endmodule<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Wire4</title>
    <link href="/2024/08/03/hdlbits-Wire4/"/>
    <url>/2024/08/03/hdlbits-Wire4/</url>
    
    <content type="html"><![CDATA[<h1 id="wire4">Wire4</h1><p>Create a module with 3 inputs and 4 outputs that behaves like wiresthat makes these connections:</p><p>a -&gt; w b -&gt; x b -&gt; y c -&gt; z</p><p>The diagram below illustrates how each part of the circuitcorresponds to each bit of Verilog code. From outside the module, thereare three input ports and four output ports.</p><p>When you have multiple assign statements, the order in which theyappear in the code does not matter. Unlike a programming language,assign statements ("continuous assignments") describe connectionsbetween things, not the action of copying a value from one thing toanother.</p><p>One potential source of confusion that should perhaps be clarifiednow: The green arrows here represent connections between wires, but arenot wires in themselves. The module itself already has 7 wires declared(named a, b, c, w, x, y, and z). This is because input and outputdeclarations actually declare a wire unless otherwise specified. Writinginput wire a is the same as input a. Thus, the assign statements are notcreating wires, they are creating the connections between the 7 wiresthat already exist.</p><figure><img src="/images/Wire4.png" title="wire4" alt="wire4" /><figcaption aria-hidden="true">wire4</figcaption></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>The concatenation operator { signal1, signal2, signal3, ... } wouldbe useful here.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <br>    <span class="hljs-keyword">input</span> a,b,c,<br>    <span class="hljs-keyword">output</span> w,x,y,z );<br>    <span class="hljs-keyword">assign</span> &#123;w,x,y,z&#125; = &#123;a,b,b,c&#125;;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><p>or</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module (<br><span class="hljs-keyword">input</span> a,<br><span class="hljs-keyword">input</span> b,<br><span class="hljs-keyword">input</span> c,<br><span class="hljs-keyword">output</span> w,<br><span class="hljs-keyword">output</span> x,<br><span class="hljs-keyword">output</span> y,<br><span class="hljs-keyword">output</span> z  );<br><br><span class="hljs-keyword">assign</span> w = a;<br><span class="hljs-keyword">assign</span> x = b;<br><span class="hljs-keyword">assign</span> y = b;<br><span class="hljs-keyword">assign</span> z = c;<br><br><span class="hljs-comment">// If we&#x27;re certain about the width of each signal, using </span><br><span class="hljs-comment">// the concatenation operator is equivalent and shorter:</span><br><span class="hljs-comment">// assign &#123;w,x,y,z&#125; = &#123;a,b,b,c&#125;;</span><br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Wire</title>
    <link href="/2024/08/03/hdlbits-Wire/"/>
    <url>/2024/08/03/hdlbits-Wire/</url>
    
    <content type="html"><![CDATA[<h1 id="wire">Wire</h1><p>Create a module with one input and one output that behaves like awire.</p><p>Unlike physical wires, wires (and other signals) in Verilog aredirectional. This means information flows in only one direction, from(usually one) source to the sinks (The source is also often called adriver that drives a value onto a wire). In a Verilog "continuousassignment" (assign left_side = right_side;), the value of the signal onthe right side is driven onto the wire on the left side. The assignmentis "continuous" because the assignment continues all the time even ifthe right side's value changes. A continuous assignment is not aone-time event.</p><p>The ports on a module also have a direction (usually input oroutput). An input port is driven by something from outside the module,while an output port drives something outside. When viewed from insidethe module, an input port is a driver or source, while an output port isa sink.</p><p>The diagram below illustrates how each part of the circuitcorresponds to each bit of Verilog code. The module and portdeclarations create the black portions of the circuit. Your task is tocreate a wire (in green) by adding an assign statement to connect in toout. The parts outside the box are not your concern, but you should knowthat your circuit is tested by connecting signals from our test harnessto the ports on your top_module.</p><figure><img src="/images/Wire.png" title="wire" alt="wire" /><figcaption aria-hidden="true">wire</figcaption></figure><p>In addition to continuous assignments, Verilog has three otherassignment types that are used in procedural blocks, two of which aresynthesizable. We won't be using them until we start using proceduralblocks.</p><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>A continuous assignment assigns the right side to the left sidecontinuously, so any change to the RHS is immediately seen in theLHS.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <span class="hljs-keyword">input</span> in, <span class="hljs-keyword">output</span> out );<br><span class="hljs-keyword">assign</span> out = in;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits-Zero</title>
    <link href="/2024/08/03/hdlbits-Zero/"/>
    <url>/2024/08/03/hdlbits-Zero/</url>
    
    <content type="html"><![CDATA[<h1 id="zero">Zero</h1><p>Build a circuit with no inputs and one output that outputs a constant0</p><p>Now that you've worked through the previous problem, let's see if youcan do a simple problem without the hints.</p><blockquote><p>HDLBits uses Verilog-2001 ANSI-style port declaration syntax becauseit's easier to read and reduces typos. You may use the olderVerilog-1995 syntax if you wish. For example, the two moduledeclarations below are acceptable and equivalent:</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( zero );<br>    <span class="hljs-keyword">output</span> zero;<br>    <span class="hljs-comment">// Verilog-1995</span><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module ( <span class="hljs-keyword">output</span> zero ); <br><br>    <span class="hljs-comment">// Verilog-2001</span><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>Fun fact: For Quartus synthesis, not assigning a value to a signalusually results in 0. This problem is actually easier than the previousone.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">output</span> zero<br>);<span class="hljs-comment">// Module body starts after semicolon</span><br><span class="hljs-keyword">assign</span> zero = <span class="hljs-number">0</span>; <span class="hljs-comment">//1&#x27;b0</span><br><span class="hljs-keyword">endmodule</span><br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hdlbits Step one</title>
    <link href="/2024/08/03/hdlbits-Step-one/"/>
    <url>/2024/08/03/hdlbits-Step-one/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p>2024-8-1hdlbitshdlbits</p><h1 id="step-one">Step one</h1><p>Welcome to HDLBits!</p><p>Getting started in digital logic design can be overwhelming at firstbecause you need to learn new concepts, a new Hardware DescriptionLanguage (e.g., Verilog), several new software packages, and often anFPGA board, all at the same time. HDLBits provides a way to practicedesigning and debugging simple circuits with a single click of"Simulate".</p><p>Designing a circuit requires several steps: Writing HDL (Verilog)code, compiling the code to produce a circuit, then simulating thecircuit and fixing bugs.</p><h1 id="writing-code">Writing Code</h1><p>The easiest way to write your code is to do so in the code editor boxbelow. For this problem, we have filled in most of the code for youalready. Go ahead and finish the code for this circuit.</p><p>Click Simulate to compile and simulate your design.</p><h1 id="compiling-logic-synthesis">Compiling (Logic Synthesis)</h1><p>Your code is compiled using Altera Quartus to produce a circuit.Quartus produces a large number of messages. Click Show Quartus messagesto show/hide them. It's good practice to reduce the number of warnings,but it is sometimes not practical to remove them all.</p><h1 id="simulation">Simulation</h1><p>Your compiled circuit is simulated to test whether it functionscorrectly. HDLBits use ModelSim to simulate your circuit and ourreference solution in parallel, then compares the outputs of themodules. The simulation reports back two things:</p><p>First, it reports whether your circuit matches the reference circuitexactly (zero "mismatches") or how many "mismatches" occurred. Amismatch is the number of samples where the output of your circuit doesnot match the reference output.</p><p>Second, it may produce timing diagrams that show your circuit outputswhen running our test vectors. The simulation waveform is grouped intothree sections: "Inputs", "Yours", and "Ref". In a correct circuit,"Your" outputs will be the same as the "Ref" outputs. The "Mismatch"signals tells you which samples have a mismatch.</p><blockquote><p>The module name and port names of the top-level top_module must notbe changed, or you will get a simulation error.</p></blockquote><h1 id="final-status">Final Status</h1><p>If your circuit was correct, you will see Status: Success!. There area few other possibilities:</p><ol type="1"><li>Compile Error  Circuit did not compile.</li><li>Simulation Error  Circuit compiled successfully, but simulation didnot complete.</li><li>Incorrect  Circuit compiled and simulated, but the outputs did notmatch the reference.</li><li>Success!  Circuit was correct</li></ol><p>You can track or share your progress on the My Stats page.</p><h1 id="problem-statement">Problem Statement</h1><p>We're going to start with a small bit of HDL to get familiar with theinterface used by HDLBits. Here's the description of the circuit youneed to build for this exercise:</p><p>Build a circuit with no inputs and one output. That output shouldalways drive 1 (or logic high).</p><blockquote><p>Module Declaration</p></blockquote><blockquote><blockquote><p>module top_module( output one );</p></blockquote></blockquote><blockquote><p>Hint</p></blockquote><blockquote><blockquote><p>We want to assign 1 to the output one.</p></blockquote></blockquote><h1 id="solution">solution</h1><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module( <span class="hljs-keyword">output</span> one );<br><br><span class="hljs-keyword">assign</span> one = <span class="hljs-number">1&#x27;b1</span>;<br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FPGA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>verilog</tag>
      
      <tag>FPGA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>6</title>
    <link href="/2024/07/22/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B06/"/>
    <url>/2024/07/22/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B06/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><h2 id=""></h2><p>[doge]</p><h2 id=""></h2><p>digitalmodulation</p><p></p><p></p><ol type="1"><li></li><li></li></ol><p></p><ul><li>ASK</li><li>FSK</li><li>PSK</li></ul><p></p><h2 id=""></h2><h3 id="2ask">(2ASK)</h3><p></p><p>(OOK)</p><p><span class="math display">\[e_{OOK}(t) = \left\{\begin{aligned}    &amp;A\cos w_c t ~~~~ P1 \\    &amp;0 ~~~~ 1-P0\end{aligned}\right.\]</span></p><p>2ASK <span class="math display">\[e_{2ASK} (t) = s(t)\cos w_c t\]</span> <span class="math display">\[s(t) = \sum_n a_n g(t - nT_B)\]</span> <spanclass="math inline">\(T_B\)</span><spanclass="math inline">\(g(t)\)</span><spanclass="math inline">\(T_B\)</span><spanclass="math inline">\(g(t)\)</span>1<spanclass="math inline">\(T_B\)</span><spanclass="math inline">\(a_n\)</span><spanclass="math inline">\(n\)</span>  <spanclass="math display">\[a_n = \left\{\begin{aligned}    &amp;1 ~~~~ P \\    &amp;0 ~~~~ 1-P\end{aligned}\right.\]</span> 2ASKOOK</p><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="askook">2ASK/OOK</h4><p></p><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><p></p><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="askook">2ASK/OOK</h4><p>noncoherent</p><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><p>coherent</p><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="ask">2ASK</h4><p>2ASK</p><p>2ASK <span class="math display">\[e_{2ASK} (t) = s(t)\cos w_c t\]</span> <spanclass="math inline">\(s(t)\)</span>single-polarity</p><p>2ASK <span class="math display">\[P_{2ASK}(f) = \frac{1}{4} [P(f+ f_c) + P(f - f_c)]\]</span></p><p><spanclass="math inline">\(P_{2ASK}(f)\)</span><spanclass="math inline">\(P_s(f)\)</span></p><figure><img src="/images/2ASK.jpg" title="2ASK" alt="2ASK" /><figcaption aria-hidden="true">2ASK</figcaption></figure><p></p><ul><li>2ASK<spanclass="math inline">\(g(t)\)</span></li><li>2ASK<spanclass="math inline">\(B_{2ASK}\)</span>mainlobe <span class="math display">\[B_{2ASK} = 2f_B\]</span> <span class="math inline">\(f_B = 1/T_B =R_B\)</span></li></ul><p>2ASK2</p><h3 id="2fsk">(2FSK)</h3><p>2FSK<spanclass="math inline">\(f_1\)</span><spanclass="math inline">\(f_2\)</span></p><p> <span class="math display">\[e_{2FSK} (t) = \left\{\begin{aligned}    &amp;A\cos(w_1 t + \phi_n) ~~~~ 1 \\    &amp;A\cos(w_2 t + \theta_n) ~~~~ 0\end{aligned}\right.\]</span></p><p>2FSK2ASK2FSK<span class="math display">\[e_{2FSK} (t) = s_1(t)A\cos(w_1 t + \phi_n) + s_2(t)A\cos(w_2 t +\theta_n) \tag{1}\]</span> <span class="math inline">\(s_1(t)\)</span><spanclass="math inline">\(s_2(t)\)</span><spanclass="math inline">\(\phi_n\)</span><spanclass="math inline">\(\theta_n\)</span>01<span class="math display">\[e_{2FSK} (t) = s_1(t)A\cos(w_1 t) + s_2(t)A\cos(w_2 t) \tag{2}\]</span></p><figure><img src="/images/2FSK.png" title="2FSK"alt="2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="fsk">2FSK</h4><p></p><p></p><figure><img src="/images/2FSK.png" title="2FSK"alt="2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="fsk">2FSK</h4><p></p><figure><img src="/images/2FSK.png" title="2FSK"alt="2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><p></p><figure><img src="/images/2FSK.png" title="2FSK"alt="2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><p></p><figure><img src="/images/2FSK.png" title="2FSK"alt="2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37" /><figcaptionaria-hidden="true">2FSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=37</figcaption></figure><h4 id="fsk">2FSK</h4><p>2FSK2ASK2FSK<spanclass="math inline">\(f_1\)</span><spanclass="math inline">\(f_2\)</span>2ASK <spanclass="math display">\[P_{2FSK}(f) = \frac{1}{4} [P_{s1}(f - f_1) + P_{s1}(f + f_1)] +\frac{1}{4} [P_{s2}(f - f_2) + P_{s2}(f + f_2)]\]</span> </p><figure><img src="/images/2FSK.jpg" title="2FSK" alt="2FSK" /><figcaption aria-hidden="true">2FSK</figcaption></figure><h3 id="2psk">(2PSK)</h3><p></p><p> <span class="math display">\[e_{2PSK}(t) = A\cos (w_c t + \phi_n) \tag{3}\]</span> <spanclass="math inline">\(\phi_n\)</span>n <spanclass="math display">\[\phi_n = \left\{\begin{aligned}    &amp;0 ~~~~ 0 \\    &amp;\pi ~~~~ 1\end{aligned}\right.\]</span> 3 <span class="math display">\[\phi_n = \left\{\begin{aligned}    &amp;A\cos (w_c t) ~~~~ P \\    &amp;-A\cos (w_c t) ~~~~ 1-P\end{aligned}\right.\tag{4}\]</span></p><figure><img src="/images/2PSK.png" title="2PSK"alt="2PSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><p>2PSK2PSKbipolarity100%duty ratio <span class="math display">\[e_{2PSK}(t) = s(t)\cos w_c t\]</span> <span class="math display">\[s(t) = \sum_n a_n g(t-nT_B)\]</span> <span class="math inline">\(g(t)\)</span><spanclass="math inline">\(T_B\)</span><spanclass="math inline">\(a_n\)</span> <spanclass="math display">\[a_n = \left\{\begin{aligned}    &amp;1 ~~~~ P \\    &amp;-1 ~~~~ 1-P\end{aligned}\right.\]</span></p><p><strong></strong></p><h4 id="psk">2PSK</h4><figure><img src="/images/2PSK.png" title="2PSK"alt="2PSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><h4 id="psk">2PSK</h4><figure><img src="/images/2PSK1.png" title="2PSK1"alt="2PSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><figure><img src="/images/2PSK2.png" title="2PSK2"alt="2PSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><figure><img src="/images/2PSK3.png" title="2PSK3"alt="2PSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><figure><img src="/images/2PSK4.png" title="2PSK4"alt="2PSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2PSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><h4 id="dpsk">2DPSK</h4><figure><img src="/images/2DPSK.png" title="2DPSK"alt="2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><h4 id="dpsk">2DPSK</h4><figure><img src="/images/2DPSK.png" title="2DPSK"alt="2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><figure><img src="/images/2DPSK2.png" title="2DPSK2"alt="2DPSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=38" /><figcaptionaria-hidden="true">2DPSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=38</figcaption></figure><h4 id="psk2dpsk">2PSK/2DPSK</h4><p><span class="math display">\[P_{2PSK}(f) = \frac{1}{4} [ P_s(f + f_c) + P_s(f - f_c) ]\]</span> <spanclass="math inline">\(P_s(f)\)</span></p><p><span class="math display">\[P_{2PSK}(f) = \frac{T_B}{4} \left[ \left| \frac{ \sin \pi (f + f_c)T_B}{ \pi (f+f_c)T_B } \right|^2 + \left| \frac{ \sin \pi (f - f_c)T_B }{\pi (f-f_c)T_B } \right|^2 \right]\]</span></p><p>2DPSK2PSK</p><figure><img src="/images/2PSK-2DPSK.png"title="2PSK-2DPSK"alt="2PSK-2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=39" /><figcaptionaria-hidden="true">2PSK-2DPSKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=39</figcaption></figure><p>2PSK/2DPSK2<spanclass="math inline">\(P=1/2\)</span>2PSK</p><h2 id=""></h2><p></p><p><span class="math inline">\(P_e\)</span></p><p></p><ul><li><spanclass="math inline">\(K\)</span></li><li></li></ul><h3 id="ask">2ASK</h3><figure><img src="/images/2ASK.png" title="2ASK"alt="2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASKhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2ASK2.png" title="2ASK2"alt="2ASK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2ASK3.png" title="2ASK3"alt="2ASK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2ASK4.png" title="2ASK4"alt="2ASK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><p><span class="math display">\[P(0/1) = P(x \leq b) = \int_{-\infty}^b f_1(x)dx = 1 - \frac{1}{2}erfc(\frac{ b-a }{\sqrt{2} \sigma_n})\]</span> <span class="math display">\[erfc(x) = \frac{2}{\sqrt{\pi}} \int_{x}^{\infty} e^{-u^2}du\]</span></p><figure><img src="/images/2ASK1.png" title="2ASK1"alt="2ASK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2ASK2.png" title="2ASK2"alt="2ASK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2ASK3.png" title="2ASK3"alt="2ASK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2ASK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><h3 id="fsk">2FSK</h3><figure><img src="/images/2FSK1.png" title="2FSK1"alt="2FSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2FSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2FSK2.png" title="2FSK2"alt="2FSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2FSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2FSK3.png" title="2FSK3"alt="2FSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2FSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2FSK1.png" title="2FSK1"alt="2FSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2FSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><figure><img src="/images/2FSK2.png" title="2FSK2"alt="2FSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40" /><figcaptionaria-hidden="true">2FSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=40</figcaption></figure><h3 id="psk">2PSK</h3><figure><img src="/images/2PSK1.png" title="2PSK1"alt="2PSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2PSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2PSK2.png" title="2PSK2"alt="2PSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2PSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2PSK3.png" title="2PSK3"alt="2PSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2PSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2PSK4.png" title="2PSK4"alt="2PSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2PSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2DPSK1.png" title="2DPSK1"alt="2DPSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2DPSK1https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2DPSK2.png" title="2DPSK2"alt="2DPSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2DPSK2https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2DPSK3.png" title="2DPSK3"alt="2DPSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2DPSK3https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><figure><img src="/images/2DPSK4.png" title="2DPSK4"alt="2DPSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=41" /><figcaptionaria-hidden="true">2DPSK4https://www.bilibili.com/video/BV1wA4y1f7Co?p=41</figcaption></figure><h3 id=""></h3><figure><img src="/images/1.png" title="1"alt="1https://www.bilibili.com/video/BV1wA4y1f7Co?p=42" /><figcaptionaria-hidden="true">1https://www.bilibili.com/video/BV1wA4y1f7Co?p=42</figcaption></figure><figure><img src="/images/2.png" title="2"alt="2https://www.bilibili.com/video/BV1wA4y1f7Co?p=42" /><figcaptionaria-hidden="true">2https://www.bilibili.com/video/BV1wA4y1f7Co?p=42</figcaption></figure><figure><img src="/images/3.png" title="3"alt="3https://www.bilibili.com/video/BV1wA4y1f7Co?p=42" /><figcaptionaria-hidden="true">3https://www.bilibili.com/video/BV1wA4y1f7Co?p=42</figcaption></figure><figure><img src="/images/4.png" title="4"alt="4https://www.bilibili.com/video/BV1wA4y1f7Co?p=42" /><figcaptionaria-hidden="true">4https://www.bilibili.com/video/BV1wA4y1f7Co?p=42</figcaption></figure><figure><img src="/images/5.png" title="5"alt="5https://www.bilibili.com/video/BV1wA4y1f7Co?p=42" /><figcaptionaria-hidden="true">5https://www.bilibili.com/video/BV1wA4y1f7Co?p=42</figcaption></figure><h1 id=""></h1><p></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>5</title>
    <link href="/2024/07/18/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B05/"/>
    <url>/2024/07/18/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B05/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p></p><p></p><p></p><ul><li></li><li></li><li></li><li></li></ul><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=18" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=18</figcaption></figure><figure><img src="/images/2.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=18" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=18</figcaption></figure><h2 id=""></h2><h3 id="am">AM</h3><p>AM</p><figure><img src="/images/AM.png" title="AM"alt="AMhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=19" /><figcaptionaria-hidden="true">AMhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=19</figcaption></figure><p><span class="math inline">\(m(t)\)</span>0<spanclass="math inline">\(A_0 \geq |m(t)|_{max}\)</span></p><p>AM <span class="math display">\[a = \frac{ |m(t)|_{max} }{ A_0 }\]</span></p><p>1<spanclass="math inline">\(m(1)\)</span>1<spanclass="math inline">\(m(1)\)</span></p><p></p><p><span class="math display">\[s_{AM}(t) = [A_0 + m(t)] \cos w_c t = A_0 \cos w_c t + m(t) \cos w_c t\]</span></p><p><span class="math inline">\(A_0 \cos w_c t\)</span><spanclass="math inline">\(m(t) \cos w_c t\)</span></p><p></p><p><span class="math display">\[S_{AM}(w) = \pi A_0 [ \delta(w + w_c) + \delta (w - w_c)] + \frac{1}{2}[ M(w+w_c) + M(w - w_c) ]\]</span></p><p><span class="math inline">\(\pi A_0 [ \delta(w + w_c) + \delta (w- w_c)]\)</span><span class="math inline">\(\frac{1}{2} [M(w+w_c) + M(w - w_c) ]\)</span></p><p></p><figure><img src="/images/AM.png" title="AM"alt="AMhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=19" /><figcaptionaria-hidden="true">AMhttps://www.bilibili.com/video/BV1wA4y1f7Co?p=19</figcaption></figure><p>m(t)<spanclass="math inline">\(a\)</span>1m(t)</p><p>AM<spanclass="math inline">\(1\Omega\)</span><spanclass="math inline">\(s_{AM}(t)\)</span> <spanclass="math display">\[P_{AM} = \overline{ s_{AM}^2 (t) } = \overline{ [A_0 + m(t)]^2 \cos^2w_c t } = \overline{ A_0^2 \cos^2 w_c t } + \overline{ m^2(t) \cos^2 w_ct } + \overline{ 2A_0 m(t) \cos^2 w_c t }\]</span></p><p><span class="math inline">\(m(t)\)</span>0<spanclass="math inline">\(\overline{ m(t) } = 0\)</span></p><p><span class="math display">\[P_{AM} = \frac{ A_0^2 }{2} + \frac{ \overline{ m^2(t) } }{ 2 } = P_c +P_s\]</span></p><p><span class="math inline">\(P_c\)</span><spanclass="math inline">\(P_s\)</span></p><p><span class="math inline">\(\eta_{AM}\)</span> = / </p><p><span class="math display">\[\eta_{AM} = \frac{ P_s }{ P_{AM} }\]</span></p><p>AM</p><ul><li><ul><li></li></ul></li><li><ul><li><spanclass="math inline">\(a = 1\)</span><spanclass="math inline">\(\eta_{AM}\)</span><spanclass="math inline">\(1/3\)</span></li></ul></li></ul><h4 id=""></h4><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=21" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=21</figcaption></figure><h3 id=""></h3><p>AM<spanclass="math inline">\(A_0\)</span>DSB-SC<span class="math display">\[s_{DSB}(t) = m(t) \cos w_c t\]</span> <span class="math inline">\(m(t)\)</span>0</p><p>DSBAM<span class="math inline">\(\pmw_c\)</span><span class="math inline">\(\delta\)</span> <spanclass="math display">\[S_{DSB}(w) = \frac{1}{2} [M(w + w_c) + M(w - w_c)]\]</span></p><figure><img src="/images/DSB.jpg" title="DSB" alt="DSB" /><figcaption aria-hidden="true">DSB</figcaption></figure><p>DSB100%DSB</p><p>DSBAM</p><h3 id=""></h3><p>DSB<spanclass="math inline">\(M(w)\)</span>1/2</p><p>SSB</p><h4 id="ssb">SSB</h4><p><spanclass="math inline">\(H(w)\)</span>SSB<span class="math display">\[S_{SSB}(w) = S_{DSB}(w) \cdot H(w)\]</span> </p><figure><img src="/images/SSB.jpg" title="SSB" alt="SSB" /><figcaption aria-hidden="true">SSB</figcaption></figure><p>300Hz600Hz600Hz</p><h4 id="ssb">SSB</h4><p>SSB</p><p> <span class="math display">\[m(t) = A_m\cos w_m t\]</span>  <span class="math display">\[c(t) = \cos w_c t\]</span> DSB <span class="math display">\[\begin{aligned}s_{DSB}(t) &amp;= A_m \cos w_m t \cos w_c t \\&amp;= \frac{1}{2} A_m\cos (w_c + w_m)t + \frac{1}{2} A_m\cos (w_c -w_m)t\end{aligned}\]</span></p><p><span class="math inline">\(\frac{1}{2} A_m\cos (w_c + w_m)t= \frac{1}{2} A_m\cos w_m t\cos w_c t - \frac{1}{2} A_m \sin w_m t \sinw_c t\)</span></p><p><span class="math inline">\(\frac{1}{2} A_m\cos (w_c - w_m)t= \frac{1}{2} A_m\cos w_m t\cos w_c t + \frac{1}{2} A_m \sin w_m t \sinw_c t\)</span></p><p><span class="math inline">\(s_{SSB}(t)\)</span> <spanclass="math display">\[s_{SSB}(t) = \frac{1}{2} A_m\cos w_m t\cos w_c t \mp \frac{1}{2} A_m\sin w_m t \sin w_c t \tag{1}\]</span></p><p><span class="math inline">\(A_m \sin w_m t\)</span><spanclass="math inline">\(A_m\cos w_m t\)</span><spanclass="math inline">\(\frac{\pi}{2}\)</span></p><p><span class="math display">\[A_m \hat{\cos} w_m t = A_m \sin w_m t\]</span></p><p>(1) <span class="math display">\[s_{SSB}(t) = \frac{1}{2} A_m\cos w_m t\cos w_c t \mp \frac{1}{2} A_m\hat{\cos} w_m t \sin w_c t\]</span></p><p> <span class="math display">\[s_{SSB}(t) = \frac{1}{2} m(t) \cos w_c t \mp \frac{1}{2} \hat{m}(t) \sinw_c t \tag{2}\]</span></p><p><span class="math inline">\(m(t) &lt;==&gt; M(w)\)</span><span class="math display">\[\hat{M}(w) = M(w) \cdot [-jsgnw] \tag{3}\]</span>  <span class="math display">\[sgnw = \left \{ \begin{aligned}    1 ~~~~ w&gt;0 \\    -1 ~~~~ w&lt;0\end{aligned} \right. \tag{4}\]</span></p><p></p><figure><img src="/images/SSB.png" title="SSB" alt="SSB" /><figcaption aria-hidden="true">SSB</figcaption></figure><h3 id=""></h3><p>VSB</p><p><span class="math inline">\(H(w)\)</span><span class="math display">\[S_{VSB}(w) = S_{DSB}(w) \cdot H(w) = \frac{1}{2} [ M(w + w_c) + M(w -w_c) ] H(w)\]</span></p><h4 id=""></h4><p><spanclass="math inline">\(s_{VSB}(t)\)</span><spanclass="math inline">\(2\cos w_c t\)</span> <spanclass="math display">\[s_p(t) = 2s_{VSB}(t) \cos w_c t\]</span> <span class="math inline">\(s_p(t)\)</span> <spanclass="math display">\[\begin{aligned}    S_p(w) &amp;= [S_{VSB}(w + w_c) + S_{VSB}(w - w_c)] \\    &amp;= \frac{1}{2} [ M(w + 2w_c) + M(w) ] H(w + w_c) + \frac{1}{2} [M(w) + M(w - 2w_c) ] H(w - w_c)\end{aligned}\tag{5}\]</span> <span class="math inline">\(M(w - 2w_c),~M(w +2w_c)\)</span><span class="math inline">\(M(w)\)</span><spanclass="math inline">\(2w_c\)</span></p><p> <span class="math display">\[S_d(w) = \frac{1}{2} M(w) [H(w + w_c) + H(w - w_c)]\]</span></p><p><span class="math inline">\(H(w + w_c) + H(w -w_c)\)</span><span class="math inline">\(|w| \leqw_H\)</span><spanclass="math inline">\(w_H\)</span><spanclass="math inline">\(H(w)\)</span></p><figure><img src="/images/.jpg" title=""alt="" /><figcaption aria-hidden="true"></figcaption></figure><h4 id="vsb">VSB</h4><figure><img src="/images/VSB.jpg" title="VSB" alt="VSB" /><figcaption aria-hidden="true">VSB</figcaption></figure><h2 id=""></h2><figure><img src="/images/.png" title=""alt="" /><figcaption aria-hidden="true"></figcaption></figure><h2 id="matlab">matlab</h2><p>AM</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">% AM</span><br>f_s = <span class="hljs-number">1e6</span>; <span class="hljs-comment">%</span><br>f_m = <span class="hljs-number">1e2</span>; <span class="hljs-comment">%</span><br>f_c = <span class="hljs-number">8e2</span>; <span class="hljs-comment">%</span><br><br>t = <span class="hljs-number">0</span>:<span class="hljs-number">1</span>/f_s:<span class="hljs-number">1</span><span class="hljs-number">-1</span>/f_s;<br><br>A_0 = <span class="hljs-number">2</span>;<br>m_t = <span class="hljs-number">2</span>*<span class="hljs-built_in">sin</span>(<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>*f_m*t); <span class="hljs-comment">%</span><br>c_t = <span class="hljs-built_in">cos</span>(<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>*f_c*t); <span class="hljs-comment">%</span><br><br>s_t = (A_0 + m_t) .* c_t; <span class="hljs-comment">% </span><br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">1</span>);<br><span class="hljs-built_in">plot</span>(t, s_t); <span class="hljs-comment">% </span><br><br><span class="hljs-comment">% </span><br>M_w = fft(m_t);<br>C_w = fft(c_t);<br>S_w = fft(s_t);<br><br>N = <span class="hljs-built_in">length</span>(t);<br>f = (<span class="hljs-number">0</span>:N<span class="hljs-number">-1</span>)*f_s/N;<br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">2</span>);<br>subplot(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br><span class="hljs-built_in">plot</span>(f, <span class="hljs-built_in">abs</span>(M_w));<br>subplot(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br><span class="hljs-built_in">plot</span>(f, <span class="hljs-built_in">abs</span>(C_w));<br>subplot(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>);<br><span class="hljs-built_in">plot</span>(f, <span class="hljs-built_in">abs</span>(S_w));<br><br>window=boxcar(<span class="hljs-built_in">length</span>(c_t)); <span class="hljs-comment">%</span><br>[Pxx,ff]=periodogram(c_t,[],N,f_s); <span class="hljs-comment">%</span><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">3</span>);<br><span class="hljs-built_in">plot</span>(ff,Pxx);<br>title(<span class="hljs-string">&quot;M_w&quot;</span>)<br><br><span class="hljs-comment">% </span><br>p_m = <span class="hljs-built_in">abs</span>(M_w(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>));<br>p_m = (<span class="hljs-number">1</span>/(f_s*N))*p_m.^<span class="hljs-number">2</span>;<br>p_m(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>) = p_m(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>)*<span class="hljs-number">2</span>;<br><span class="hljs-built_in">figure</span>(<span class="hljs-number">4</span>);<br><span class="hljs-built_in">plot</span>(f(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>), p_m);<br>title(<span class="hljs-string">&quot;M_w&quot;</span>);<br><br>p_c = <span class="hljs-built_in">abs</span>(C_w(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>));<br>p_c = (<span class="hljs-number">1</span>/(f_s*N))*p_c.^<span class="hljs-number">2</span>;<br>p_c(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>) = p_c(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>)*<span class="hljs-number">2</span>;<br><span class="hljs-built_in">figure</span>(<span class="hljs-number">5</span>);<br><span class="hljs-built_in">plot</span>(f(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>), p_c);<br>title(<span class="hljs-string">&quot;C_w&quot;</span>);<br><br>p_s = <span class="hljs-built_in">abs</span>(S_w(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>));<br>p_s = (<span class="hljs-number">1</span>/(f_s*N))*p_s.^<span class="hljs-number">2</span>;<br>p_s(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>) = p_s(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>)*<span class="hljs-number">2</span>;<br><span class="hljs-built_in">figure</span>(<span class="hljs-number">6</span>);<br><span class="hljs-built_in">plot</span>(f(<span class="hljs-number">1</span>:N/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>), p_s);<br>title(<span class="hljs-string">&quot;S_w&quot;</span>);<br><br><span class="hljs-comment">% a11/3</span><br><span class="hljs-comment">% 1/3</span><br><br><span class="hljs-comment">% DSB</span><br><br>s_dsb_t = m_t .* c_t;<br><span class="hljs-built_in">figure</span>(<span class="hljs-number">7</span>);<br><span class="hljs-built_in">plot</span>(t, s_dsb_t);<br><br><span class="hljs-comment">% SSB</span><br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">8</span>);<br>s_ssb_t = modulate(m_t, f_c, f_s, <span class="hljs-string">&#x27;amssb&#x27;</span>); <span class="hljs-comment">% [doge]</span><br><span class="hljs-built_in">plot</span>(t, <span class="hljs-built_in">abs</span>(s_ssb_t));<br><br><span class="hljs-comment">% vsb</span><br><span class="hljs-comment">% H(w)DSBmatlab</span><br><span class="hljs-comment">% </span><br><br></code></pre></td></tr></table></figure><h2 id=""></h2><p>FMPM</p><p></p><p> </p><p>FM,PM <span class="math display">\[s_m(t) = A\cos [w_c t + \phi (t)] \tag{6}\]</span></p><p><span class="math inline">\(A\)</span><spanclass="math inline">\([w_c t + \phi(t)]\)</span><spanclass="math inline">\(\theta(t)\)</span><spanclass="math inline">\(\phi(t)\)</span><spanclass="math inline">\(w_c t\)</span><spanclass="math inline">\(d[w_c t + \phi(t)]/dt\)</span><spanclass="math inline">\(w(t)\)</span><spanclass="math inline">\(d\phi(t)/dt\)</span><spanclass="math inline">\(w_c\)</span></p><p>PM <span class="math display">\[\phi(t) = K_p m(t) \tag{7}\]</span></p><p>(7)(6) <span class="math display">\[s_{PM}(t) = A\cos [w_c t + K_p m(t)]\]</span></p><p>FM <span class="math display">\[\frac{ d\phi(t) }{dt} = K_f m(t) \tag{8}\]</span></p><p>(8)(6) <span class="math display">\[s_{FM} = A\cos [w_c t + K_f \int m(\tau)d\tau]\]</span></p><p><spanclass="math inline">\(m(t)\)</span></p><h3 id="fmpm">FMPM</h3><p> <span class="math display">\[m(t) = A_m\cos w_m t = A_m\cos 2\pi f_m t\]</span>  <span class="math display">\[\begin{aligned}    s_{PM}(t) &amp;= A\cos [w_c t + K_p A_m \cos w_m t]    &amp;= A\cos [w_c t + m_p \cos w_m t]\end{aligned}\]</span> <spanclass="math inline">\(m_p\)</span></p><p> <span class="math display">\[\begin{aligned}    s_{FM}(t) &amp;= A\cos [w_c t + K_f A_m \int \cos w_m \tau d\tau] \\    &amp;= A\cos [w_c t + m_f \sin w_m t]\end{aligned}\]</span> <span class="math inline">\(m_f\)</span> <spanclass="math display">\[m_f = \frac{ K_f A_m }{ w_m } = \Delta w / w_m = \Delta f / f_m\]</span></p><p><span class="math inline">\(\Delta w\)</span><spanclass="math inline">\(\Delta f\)</span></p><p></p><figure><img src="/images/FMPM.jpg" title="FMPM" alt="FMPM" /><figcaption aria-hidden="true">FMPM</figcaption></figure><h3 id="fmpm">FMPM</h3><p>FMPM</p><h4 id="nbfm">NBFM</h4><p>FM <span class="math display">\[\left| K_f \int m(\tau) d\tau  \right| \ll \frac{\pi}{6} ~~~~ (0.5)\tag{9}\]</span></p><p>FM6 <span class="math display">\[\begin{aligned}    s_{FM}(t) &amp;= A\cos [w_c t + K_f \int m(\tau) d\tau] \\    &amp;= A\cos w_c t \cos [ K_f \int m(\tau) d\tau ] - A\sin w_c t\sin [K_f \int m(\tau) d\tau]\end{aligned} \tag{10}\]</span> 9 <span class="math display">\[\cos [ K_f \int m(\tau) d\tau ] \approx 1\]</span> <span class="math display">\[\sin [K_f \int m(\tau) d\tau] \approx K_f \int m(\tau) d\tau\]</span></p><p>10 <span class="math display">\[s_{NBFM} (t) \approx A\cos w_c t - [ A K_f \int m(\tau) d\tau] \sin w_ct\]</span>  <span class="math display">\[S_{NBFM} (w) = \pi A [\delta(w + w_c) + \delta (w - w_c)] +\frac{AK_f}{2} \left[ \frac{M(w - w_c)}{w-w_c} -\frac{M(w+w_c)}{w+w_c}\right]\]</span></p><p>AM <span class="math display">\[S_{AM}(w) = \pi A[\delta(w + w_c) + \delta (w - w_c)] + \frac{1}{2}[M(w-w_c) + M(w+w_c)]\]</span> <span class="math inline">\(\pmw\)</span>NBFM<spanclass="math inline">\(1/(w - w_c),~~ 1/(w + w_c)\)</span><strong></strong><strong></strong><strong>NBFMAM</strong></p><h4 id=""></h4><p>9</p><p> <span class="math display">\[m(t) = A_m\cos w_m t = A_m\cos 2\pi f_m t\]</span> <span class="math display">\[s_{FM}(t) = A\cos [w_c t + m_f \sin w_m t]\]</span> <span class="math inline">\(s_{FM}(t)\)</span> <spanclass="math display">\[s_{FM}(t) = A\cos w_c t \cdot \cos (m_f \sin w_m t) - A\sin w_c t \cdot\sin (m_f \sin w_m t) \tag{11}\]</span>  <spanclass="math display">\[\begin{aligned}    \cos (m_f \sin w_m t) = J_0(m_f) + \sum_{n=1}^{\infty}2J_{2n}(m_f)\cos 2n w_m t \\    \sin (m_f \sin w_m t) = 2 \sum_{n=1}^{\infty} 2J_{2n-1}(m_f)\sin(2n-1) w_m t\end{aligned} \tag{12}\]</span> <spanclass="math inline">\(J_{n}(m_f)\)</span>n</p><p>1211 <span class="math display">\[J_{-n}(m_f) = -J_{n}(m_f) ~~~~ n\]</span> <span class="math display">\[J_{-n}(m_f) = J_{n}(m_f) ~~~~ n\]</span></p><p>FM <span class="math display">\[s_{FM}(t) = A\sum_{n=-\infty}^{\infty} J_n (m_f) \cos (w_c + nw_m) t\]</span>  <span class="math display">\[S_{FM}(w) = \pi A \sum_{n=-\infty}^{\infty} J_n (m_f) [\delta(w - w_c-nw_m) + \delta(w + w_c + nw_m)]\]</span></p><p> <img src="/images/.jpg" title=""alt="" /></p><p> <img src="/images/.jpg" title=""alt="" /></p><p><spanclass="math inline">\(J_n (m_f)\)</span><spanclass="math inline">\(n\)</span><strong>n</strong>10%<spanclass="math inline">\(|J_n (m_f)|\geq 0.1\)</span><spanclass="math inline">\(m_f \geq 1\)</span><spanclass="math inline">\(n=m_f+1\)</span></p><p> <span class="math display">\[B_{FM} = 2(m_f + 1)f_m = 2(\Delta f + f_m) \tag{13}\]</span> 13Carson</p><p><span class="math inline">\(m_j \ll 1\)</span> <spanclass="math display">\[B_{FM} \approx 2f_m ~~~~ (NBFM)\]</span></p><p><span class="math inline">\(m_j \gg 1\)</span> <spanclass="math display">\[B_{FM} \approx 2\Delta f ~~~~ (WBFM)\]</span></p><p> <span class="math display">\[B_{FM} = 2(m_f + 1)f_m = 2(\Delta f + f_m)\]</span> <spanclass="math inline">\(f_m\)</span><spanclass="math inline">\(m_f\)</span></p><p></p><p><span class="math inline">\(s_{FM}(t)\)</span><spanclass="math inline">\(1\Omega\)</span> <spanclass="math display">\[P_{FM} = \overline{s_{FM}^{2} (t)}\]</span>  <span class="math display">\[P_{FM} = \overline{s_{FM}^{2} (t)} =\frac{A^2}{2}\sum_{n=-\infty}^{\infty} J_n^2 (m_f)\]</span>  <span class="math display">\[\sum_{n=-\infty}^{\infty} J_n^2 (m_f) = 1\]</span>  <span class="math display">\[P_{FM} = \frac{A^2}{2} = P_c\]</span> <spanclass="math inline">\(P_c\)</span><spanclass="math inline">\(m_f\)</span></p><h3 id=""></h3><h4 id=""></h4><p>VCO</p><p>FM <spanclass="math display">\[w_i(t) = w_0 + K_f m(t)\]</span></p><p> -  - </p><p>PLL</p><h4 id=""></h4><p>NBFMn</p><p> -  - </p><p>NBFM</p><figure><img src="/images/.jpg" title=""alt="" /><figcaption aria-hidden="true"></figcaption></figure><p><span class="math display">\[s_{NBFM} (t) \approx A\cos w_c t - [ A K_f \int m(\tau) d\tau] \sin w_ct\]</span></p><p>NBFMWBFM</p><p> <span class="math display">\[s_o(t) = as_i^2(t)\]</span></p><p><span class="math inline">\(s_i(t) = A\cos[w_c t +\phi(t)]\)</span></p><p><span class="math display">\[s_o(t) = \frac{1}{2} aA^2 \left\{ 1 + \cos[ 2w_c t + 2\phi(t) ] \right\}\]</span></p><p></p><p>~~</p><figure><img src="/images/.jpg" title="" alt="" /><figcaption aria-hidden="true"></figcaption></figure><h4 id=""></h4><p>NBFMNBFMWBFM</p><p> <span class="math display">\[s_{FM}(t) = A\cos [w_c t + K_f \int m(\tau) d\tau]\]</span>  <span class="math display">\[m_o(t) \propto K_f m(t)\]</span></p><h5 id=""></h5><p></p><p> =  + </p><p><spanclass="math inline">\(s_{FM}(t)\)</span> <spanclass="math display">\[s_d(t) = -A[ w_c + K_f m(t) ] \sin \left[ w_c t + K_f \int m(\tau) d\tau\right]\]</span></p><p> <spanclass="math display">\[m_o(t) = K_d K_f m(t)\]</span> <span class="math inline">\(K_d\)</span></p><h5 id=""></h5><p> <span class="math display">\[s_{NBFM} (t) \approx A\cos w_c t - [ A K_f \int m(\tau) d\tau] \sin w_ct\]</span></p><p> <span class="math display">\[c(t) = -\sin w_c t\]</span></p><p> <span class="math display">\[s_p(t) = - \frac{A}{2} \sin 2w_c t + \frac{A}{2} \left[ K_f \intm(\tau)]d\tau \right] \cdot (1 - \cos 2w_c t)\]</span></p><p> <span class="math display">\[s_d (t) = \frac{A}{2} K_f \int m(\tau)]d\tau\]</span></p><p> <span class="math display">\[m_o(t) = \frac{ AK_f  }{ 2 } m(t)\]</span></p><h2 id=""></h2><p><strong></strong></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=24" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=24</figcaption></figure><p><spanclass="math inline">\(n_i(t)\)</span> <spanclass="math display">\[n_i(t) = n_c(t) \cos w_0 t - n_s(t) \sin w_0 t\]</span> <spanclass="math inline">\(w_0\)</span></p><p><span class="math display">\[\overline{ n_i^2(t) } = \overline{ n_c^2(t) } = \overline{ n_s^2(t) } =N_i = n_0 B\]</span> <spanclass="math inline">\(n_0\)</span><spanclass="math inline">\(B\)</span></p><p> <span class="math display">\[\frac{S_o}{N_o} = \frac{  }{ } = \frac{ \overline{m_o^2(t)} }{ n_o^2(t) }\]</span></p><p><spanclass="math inline">\(G\)</span> <span class="math display">\[G = \frac{ S_o/N_o }{ S_i / N_i }\]</span> <spanclass="math inline">\(G\)</span></p><p><span class="math display">\[\frac{S_i}{N_i} = \frac{  }{ } = \frac{ \overline{s_m^2(t)} }{ n_i^2(t) }\]</span></p><h3 id=""></h3><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=24" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=24</figcaption></figure><h4 id="dsb">DSB</h4><figure><img src="/images/DSB.png" title="DSB" alt="DSB" /><figcaption aria-hidden="true">DSB</figcaption></figure><figure><img src="/images/DSB.png" title="DSB" alt="DSB" /><figcaption aria-hidden="true">DSB</figcaption></figure><h4 id="ssb">SSB</h4><figure><img src="/images/SSB.png" title="SSB" alt="SSB" /><figcaption aria-hidden="true">SSB</figcaption></figure><figure><img src="/images/SSB.png" title="SSB" alt="SSB" /><figcaption aria-hidden="true">SSB</figcaption></figure><h4 id="dsbssb">DSB,SSB</h4><p><span class="math inline">\(S_i\)</span><spanclass="math inline">\(n_0\)</span><spanclass="math inline">\(f_H\)</span></p><p>DSB<span class="math inline">\(B=2f_H\)</span>SSB<spanclass="math inline">\(B=f_H\)</span></p><p><span class="math display">\[\left( \frac{S_o}{N_o} \right)_{DSB} = 2 \frac{S_i}{N_i} =\frac{S_i}{n_0 f_H}\]</span></p><p><span class="math display">\[\left( \frac{S_o}{N_o} \right)_{SSB} = \frac{S_i}{N_i} = \frac{S_i}{n_0f_H}\]</span></p><p><strong>DSB,SSB</strong></p><h4 id="am">AM</h4><p> <span class="math display">\[s_m(t) = [A_0 + m(t)] \cos w_ct\]</span>  <span class="math display">\[n_i(t) = n_c(t)\cos w_c t - n_s(t) \sin w_c t\]</span></p><p><span class="math display">\[S_i = \overline{ s_m^2(t) } = \frac{A_0}{2} + \frac{ \overline{ m^2(t) }}{2}\]</span> <span class="math display">\[N_i = \overline{ n_i^2(t) } = n_0 B\]</span></p><p><span class="math display">\[\frac{S_i}{N_i} = \frac{ A_0^2 + \overline{ m^2(t) } }{ 2n_0 B }\]</span></p><p> <span class="math display">\[s_m (t) + n_i (t) = E(t) \cos [ w_c t + \Phi(t) ]\]</span> <span class="math display">\[E(t) = \sqrt{ [ A_0 + m(t) + n_c(t) ]^2  + n_s^2(t)}\]</span> <span class="math display">\[\Phi(t) = \arctan \left[ \frac{n_s(t)}{  A_0 + m(t) + n_c(t) } \right]\]</span></p><p><span class="math inline">\(E(t)\)</span></p><p></p><p><span class="math display">\[[A_0 + m(t)] \gg \sqrt{ n_c^2(t)  + n_s^2(t) }\]</span> <span class="math inline">\(E(t)\)</span> <spanclass="math display">\[E(t) = A_0 + m(t) + n_c(t)\]</span></p><ul><li><span class="math inline">\((1 + x)^{1/2} \approx 1+ x/2\)</span></li></ul><p> <span class="math display">\[S_o = \overline{ m^2(t) }\]</span>  <span class="math display">\[N_o = \overline{ n_c^2(t) } = \overline{ n_i^2(t) } = n_0B\]</span>  <span class="math display">\[\frac{S_o}{N_o} = \frac{ \overline{ m^2(t) } }{ n_0B }\]</span></p><p> <span class="math display">\[G = \frac{ 2\overline{ m^2(t) } }{ A_0^2 + \overline{ m^2(t) } }\]</span> <span class="math inline">\(G\)</span><spanclass="math inline">\(2/3\)</span></p><p></p><p><span class="math display">\[E(t) = R(t) \sqrt{ 1 + \frac{ 2[A_0 + m(t)] }{ R(t) } \cos \theta(t) }\]</span>  <span class="math display">\[\begin{aligned}    R(t) = \sqrt{ n_c^2(t) + n_s^2(t) } \\    \theta(t) = \arctan \left[ \frac{ n_s(t) }{ n_c(t) } \right] \\    \cos \theta (t) = \frac{ n_c(t) }{R(t)}\end{aligned}\]</span></p><p><span class="math inline">\((1 + x)^{1/2} \approx 1 +x/2\)</span></p><p><span class="math display">\[E(t) = R(t) + [A_0 + m(t)]\cos \theta(t)\]</span></p><h3 id=""></h3><figure><img src="/images/FM.png" title="FM"alt="FM" /><figcaption aria-hidden="true">FM</figcaption></figure><h3 id=""></h3><figure><img src="/images/.png" title="" alt="" /><figcaption aria-hidden="true"></figcaption></figure><h2 id="fdm">FDM</h2><figure><img src="/images/FDM.png" title="FDM"alt="FDM" /><figcaption aria-hidden="true">FDM</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>4</title>
    <link href="/2024/07/17/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B04/"/>
    <url>/2024/07/17/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B04/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p></p><p></p><ul><li> </li><li> </li></ul><p></p><ul><li> </li><li> </li></ul><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=12" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=12</figcaption></figure><p><strong></strong></p><p><strong></strong></p><h2 id=""></h2><p></p><ul><li>//</li><li></li><li></li><li></li></ul><p>/</p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=12" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=12</figcaption></figure><p><span class="math inline">\(c(t)&lt;==&gt; C(w)\)</span><spanclass="math inline">\(c(t,\tau) &lt;==&gt; C(w,\tau)\)</span></p><h2 id=""></h2><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=12" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=12</figcaption></figure><p></p><h2 id=""></h2><p></p><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=12" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=12</figcaption></figure><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><h3 id=""></h3><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><p></p><ul><li></li><li></li></ul><p></p><ul><li></li><li></li></ul><p></p><p></p><figure><img src="/images/.jpg" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><h2 id=""></h2><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><h3 id=""></h3><p><span class="math display">\[s(t) = A\cos(w_c t) ~~~~ ==&gt; ~~~~ r(t) = \sum_{i=1}^na_i(t)\cos(w_c(t - \tau_i(t) ))\]</span></p><p><spanclass="math inline">\(r(t)\)</span><spanclass="math inline">\(a_i(t)\)</span><spanclass="math inline">\(\tau_i(t)\)</span></p><p><spanclass="math inline">\(r(t)\)</span></p><p><span class="math display">\[\begin{aligned}    r(t) &amp;= \sum_{i=1}^n a_i(t)\cos(w_c t - \phi_i(t) ) ~~~~\phi_i(t) = w_c\tau_i(t) \\    &amp;= \sum_{i=1}^n a_i(t) \cos \phi_i(t) \cos w_c t - \sum_{i=1}^na_i(t) \sin \phi_i(t) \sin w_c t \\    &amp;= X(t)\cos w_c t - Y(t) \sin w_c t \\    &amp;= V(t)\cos [w_c t + \phi (t)]\end{aligned}\]</span></p><p><span class="math display">\[V(t) = \sqrt{ X(t)^2 + Y(t)^2 }, ~~~~ \phi(t) = \arctan\frac{Y(t)}{X(t)}\]</span></p><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><p><span class="math display">\[s_o(t) = Ks_i(t) + Ks_i(t-\tau)\]</span> <span class="math display">\[S_o(w) = KS_i(w) + KS_i(w)e^{-jw\tau} = KS_i(w)(1 + e^{-jw\tau}) =2K\cos \frac{w\tau}{2} e^{ -j\frac{w\tau}{2} }\]</span></p><p> <span class="math display">\[\left| H(w) \right| = 2K \left| \cos \frac{w\tau}{2} \right|\]</span></p><p></p><p><spanclass="math inline">\(\Delta f = \frac{1}{\tau}\)</span></p><p> <spanclass="math inline">\(B_s &lt; \Delta f\)</span></p><p><span class="math inline">\(B_s = \left( 1/5 \sim 1/3\right) \Delta f\)</span> <span class="math inline">\(T_B =(3\sim 5)\tau\)</span></p><p></p><p><span class="math inline">\(\tau_{max}\)</span><span class="math display">\[\Delta f = \frac{1}{\tau_{max}}\]</span></p><p>OFDM</p><p>NN</p><p>:</p><p>MIMO</p><p></p><p></p><h2 id=""></h2><p></p><ul><li><ul><li></li></ul></li><li><ul><li>/</li></ul></li></ul><p></p><p></p><p></p><ul><li></li><li><span class="math inline">\(0 \sim10^{12}Hz\)</span></li><li>0</li></ul><p></p><p></p><figure><img src="/images/.png" title=""alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=13" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=13</figcaption></figure><h2 id=""></h2><h3 id=""></h3><p></p><ul><li>symbol<spanclass="math inline">\(C\)</span></li><li><spanclass="math inline">\(C_t\)</span></li></ul><p></p><p>P794-24 <imgsrc="/images/.jpg" title="" alt="" /></p><p><span class="math inline">\(x_1, x_2, x_3, \cdotsx_n\)</span><span class="math inline">\(P(x_i), i=1,2,\cdotsn\)</span><span class="math inline">\(y_i\)</span><spanclass="math inline">\(P(y_j), j=1,2,\cdots m\)</span></p><p><span class="math inline">\(P(y_j/x_i)\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(y_j\)</span></p><p><span class="math inline">\(x_i\)</span><spanclass="math inline">\(y_j\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(y_j\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(y_j\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(x_i\)</span><spanclass="math inline">\(y_j\)</span><spanclass="math inline">\(~ = -\log_2 P(x_i) - [ -\log_2 P(x_i/y_j)]\)</span><spanclass="math inline">\(x_i,y_j\)</span><span class="math display">\[\begin{aligned}/ &amp;= - \sum_{i=1}^n P(x_i)\log_2 P(x_i) - \left[ -\sum_{j=1}^m P(y_j) \sum_{i=1}^n P(x_i/y_j)\log_2 P(x_i/y_j) \right] \\&amp;= H(x) - H(x/y)\end{aligned} \tag{1}\]</span></p><p>(1)<span class="math inline">\(H(x)\)</span><spanclass="math inline">\(x_i\)</span><strong></strong><spanclass="math inline">\(H(x/y)\)</span><spanclass="math inline">\(y_j\)</span><spanclass="math inline">\(x_i\)</span></p><p>1<span class="math inline">\(P(1) =\alpha\)</span>0<span class="math inline">\(P(1) = 1-\alpha\)</span> <span class="math display">\[H(\alpha) = -\alpha \log_2 \alpha - (1-\alpha) \log_2 (1 - \alpha)\tag{2}\]</span> (2)<spanclass="math inline">\(\alpha =0.5\)</span>1</p><figure><img src="/images/.jpg" title=""alt="" /><figcaption aria-hidden="true"></figcaption></figure><p><span class="math inline">\(H(x/y)=0\)</span></p><p><spanclass="math inline">\(P(x_i)\)</span><spanclass="math inline">\(H(x) - H(x/y)\)</span><spanclass="math inline">\(P(x_i)\)</span><spanclass="math inline">\(C\)</span> <span class="math display">\[C = \max_{P(x)} [H(x) - H(x/y)] ~~~~ b/\]</span></p><p><span class="math inline">\(r~~/s\)</span></p><p><span class="math display">\[C_t = \max_{P(x)} { r[ H(x) - H(x/y) ] } ~~~~ b/s\]</span></p><p>[doge] <imgsrc="/images/.jpg" title=""alt="" /></p><h3 id=""></h3><p> <span class="math display">\[C_t = B\log_2 (1 + \frac{S}{N}) = B\log_2 (1 + \frac{S}{n_0 B}) =\frac{S}{n_0} \log_2 (1+x)^{1/x} ~~~~ b/s\]</span> <span class="math inline">\(S\)</span><spanclass="math inline">\(N\)</span><spanclass="math inline">\(B\)</span><spanclass="math inline">\(n_0\)</span></p><p><span class="math inline">\(E_b=ST_b\)</span><spanclass="math inline">\(T_b=\frac{1}{B}\)</span> <spanclass="math display">\[C_t = B\log_2 (1 + \frac{ E_b/T_b }{n_0 B}) = B\log_2 (1 + \frac{ E_b}{n_0})\]</span></p><p></p><figure><img src="/images/.jpg" title=""alt="" /><figcaption aria-hidden="true"></figcaption></figure>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>3</title>
    <link href="/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B03/"/>
    <url>/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B03/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><h2 id=""></h2><p>randomprocess</p><h2 id=""></h2><p><spanclass="math inline">\(x_i(t)\)</span>Samplefunctionrealization<spanclass="math inline">\(\left| x_1(t), x_2(t), x_3(t),~...~ ,~x_n(t)\right|\)</span><spanclass="math inline">\(\xi(t)\)</span>assemble</p><p><spanclass="math inline">\(t_1\)</span><spanclass="math inline">\({x_i(t_1), ~ i =1,2,3,...,n}\)</span><spanclass="math inline">\(\xi(t_1)\)</span></p><h2 id=""></h2><p><span class="math inline">\(t_1\)</span><spanclass="math inline">\(\xi(t_1)\)</span><spanclass="math inline">\(\xi(t_1) \leq x_1\)</span><spanclass="math inline">\(P[\xi(t_1) \leq x_1 ]\)</span> <spanclass="math display">\[F_1(x_1,t_1) = P[\xi(t_1) \leq x_1 ]\]</span> <spanclass="math inline">\(\xi(t)\)</span></p><p><span class="math inline">\(F_1(x_1,t_1)\)</span><spanclass="math inline">\(x_1\)</span> <span class="math display">\[\frac{ \partial F_1(x_1,t_1) }{ \partial x_1 } = f_1(x_1, t_1)\]</span> <spanclass="math inline">\(\xi(t)\)</span></p><p><spanclass="math inline">\(t_1,t_2\)</span><spanclass="math inline">\(\xi(t_1) \leq x_1\)</span><spanclass="math inline">\(\xi(t_2) \leq x_2\)</span> <spanclass="math display">\[F_2(x_1, x_2; t_1, t_2) = P{\xi(t_1) \leq x_1, \xi(t_2) \leq x_2}\]</span> <spanclass="math inline">\(\xi(t)\)</span></p><p><span class="math inline">\(F_2(x_1, x_2; t_1, t_2)\)</span><spanclass="math inline">\(x_1,x_2\)</span> <spanclass="math display">\[\frac{ \partial^2 F_2(x_1, x_2; t_1, t_2) }{ \partial x_1 \partial x_2 }= f_2(x_1, x_2; t_1, t_2)\]</span> <spanclass="math inline">\(\xi(t)\)</span></p><p>n <span class="math display">\[F_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... , t_n) = P \left\{\xi(t_1) \leq x_1, \xi(t_2) \leq x_2, \xi(t_3) \leq x_3, ... ,\xi(t_n)\leq x_n \right\}\]</span> <span class="math display">\[\frac{ \partial^n F_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... ,t_n) }{ \partial x_1 \partial x_2 \partial x_3 ... \partial x_n } =f_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... , t_n)\]</span></p><h2 id=""></h2><h3 id="e">E</h3><p><span class="math display">\[E[\xi(t)] = \int_{-\infty}^{\infty} xf_1(x,t)dx\]</span> <spanclass="math inline">\(a(t)\)</span><spanclass="math inline">\(n\)</span></p><h3 id="d">D</h3><p><span class="math display">\[D[\xi(t)] = E[(\xi(t) - a(t))^2] = E[\xi^2(t)] - a^2(t) =\int_{-\infty}^{\infty} x^2f_1(x,t)dx - [a(t)]^2\]</span></p><h3 id=""></h3><p> <span class="math display">\[B(t_1, t_2) = E \left\{ [ \xi(t_1) - a(t_1) ] [ \xi(t_2) - a(t_2) ]\right\} = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} [ x_1 -a(t_1) ] [ x_2 - a(t_2) ]f_2(x_1, x_2; t_1, t_2)dx_1 dx_2\]</span></p><p> <span class="math display">\[R(t_1, t_2) = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} x_1 x_2f_2(x_1, x_2; t_1, t_2)dx_1 dx_2 = B(t_1, t_2) + a(t_1)a(t_2)\]</span></p><p> <span class="math display">\[R_{\xi \eta}(t_1, t_2) = E[\xi(t_1)\eta(t_2)]\]</span></p><h2 id=""></h2><p><spanclass="math inline">\(\xi(t)\)</span></p><p></p><p><span class="math inline">\(n\)</span><spanclass="math inline">\(\Delta\)</span> <span class="math display">\[f_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... , t_n) = f_n(x_1,x_2, x_3, ... , x_n; ~ t_1+\Delta, t_2+\Delta, t_3+\Delta, ... ,t_n+\Delta)\]</span></p><p> <span class="math display">\[f_1(x_1, t_1) = f_1(x_1)\]</span></p><p><span class="math inline">\(\tau = t_2 -t_1\)</span> <span class="math display">\[f_2(x_1,x_2; t_1, t_2) = f_2(x_1,x_2; \tau)\]</span></p><p> <span class="math display">\[E[\xi(t)] = a\]</span></p><p> <span class="math display">\[R(t_1, t_2) = E[\xi(t_1)\xi(t_1 + \tau)] = R(\tau)\]</span></p><p></p><ol type="1"><li><span class="math inline">\(t\)</span><spanclass="math inline">\(a\)</span></li><li><span class="math inline">\(\tau\)</span></li></ol><p>1,2</p><h3 id=""></h3><p></p><p> <span class="math display">\[\overline{a} = \overline{ x(t) } = \lim_{T-&gt;\infty} \frac{1}{T}\int_{-\frac{T}{2}}^{\frac{T}{2}} x(t)dt\]</span></p><p> <span class="math display">\[\overline{R(\tau)} = \overline{x(t)x(t+\tau)} = \lim_{T-&gt;\infty}\frac{1}{T} \int_{-\frac{T}{2}}^{\frac{T}{2}} x(t)x(t+\tau) dt\]</span></p><p> <spanclass="math display">\[\left\{\begin{aligned}a &amp;= \overline{a} \\R(\tau) &amp;= \overline{R(\tau)}\end{aligned}\right.\]</span></p><p></p><p></p><h3 id=""></h3><p><span class="math display">\[R(\tau) = E[\xi(t)\xi(t+\tau)]\]</span></p><p></p><ol type="1"><li><span class="math inline">\(R(0) = E[\xi^2(t)]\)</span><spanclass="math inline">\(\xi(t)\)</span></li><li><span class="math inline">\(R(\tau) = R(-\tau)\)</span></li><li><span class="math inline">\(|R(\tau)| \leq R(0)\)</span></li><li><span class="math inline">\(R(\infty) = E^2[\xi(t)] =a^2\)</span><spanclass="math inline">\(\xi(t)\)</span></li><li><span class="math inline">\(R(0) - R(\infty) =\sigma^2\)</span><spanclass="math inline">\(\sigma^2\)</span><spanclass="math inline">\(\xi(t)\)</span></li></ol><h3 id=""></h3><p><span class="math inline">\(x(t)\)</span> <spanclass="math display">\[P_x(f) = \lim_{T-&gt;\infty} \frac{ \left| X_f(f) \right|^2 }{ T }\]</span> <span class="math inline">\(X_f(f)\)</span><spanclass="math inline">\(x(t)\)</span><spanclass="math inline">\(x_T(t)\)</span></p><p><span class="math display">\[P_{\xi}(f) = E[P_x(f)]\]</span><span class="math display">\[\begin{aligned}    P_{\xi}(f) = \int_{-\infty}^{\infty} R(\tau) e^{-j2\pi f\tau} d\tau\\    R(\tau) = \int_{-\infty}^{\infty} P_{\xi}(f) e^{j2\pi f\tau} df\end{aligned}\]</span></p><p></p><ul><li> <spanclass="math display">\[R(0) = \int_{-\infty}^{\infty} P_{\xi}(f) df\]</span></li><li></li><li><span class="math inline">\(P_{\xi}(f)\)</span><span class="math display">\[\begin{aligned}  P_{\xi}(f) \geq 0 \\  P_{\xi}(f) = P_{\xi}(-f)\end{aligned}\]</span></li></ul><h2 id=""></h2><p><spanclass="math inline">\(\xi(t)\)</span>n(n=1,2,3...)<span class="math display">\[f_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... , t_n) = \frac{1}{(2\pi)^{n/2} \sigma_1\sigma_2\sigma_3...\sigma_n | \boldsymbol{B} |^{1/2}} exp \left[ \frac{-1}{2|\boldsymbol{B}|} \sum_{j=1}^n\sum_{k=1}^n \left|\boldsymbol{B}\right| _{jk} \left( \frac{x_j - a_j}{\sigma_j } \right) \left( \frac{x_k - a_k}{ \sigma_k } \right)  \right]\]</span></p><p><span class="math inline">\(a_k = E[\xi(t_k)], \sigma_k^2 =E[\xi(t_k) - a_k]^2\)</span><spanclass="math inline">\(\boldsymbol{B}\)</span></p><p><span class="math display">\[|\boldsymbol{B}| = \begin{vmatrix}    1 &amp; b_{12} &amp; ... &amp; b_{1n} \\    b_{21} &amp; 1 &amp; ... &amp; b_{2n} \\    \vdots &amp; \vdots &amp; \cdots &amp; \vdots \\    b_{n1} &amp; b_{n2} &amp; ... &amp; 1\end{vmatrix}\]</span></p><p><span class="math display">\[b_{jk} = \frac{ E \left\{ [\xi(t_j) - a_j] [\xi(t_k) - a_k]\right\}  }{\sigma_j \sigma_k}\]</span></p><h3 id=""></h3><ol type="1"><li>n</li><li></li><li><spanclass="math inline">\(j \neq k\)</span><spanclass="math inline">\(b_{jk} = 0\)</span> <span class="math display">\[f_n(x_1, x_2, x_3, ... , x_n; ~ t_1, t_2, t_3, ... , t_n) =f(x_1,t_1)\cdot f(x_2,t_2)\cdot f(x_3,t_3)\cdot \cdots \cdot f(x_n,t_n)\]</span></li><li></li></ol><h3 id=""></h3><p> <span class="math display">\[f(x) = \frac{1}{ \sqrt{2\pi}\sigma } \exp( - \frac{(x-a)^2}{2\sigma^2} )\]</span> <spanclass="math inline">\(a=0,\sigma=1\)</span></p><p><span class="math inline">\(P(\xi \leq x)\)</span> <spanclass="math display">\[F(x) = P(\xi \leq x) = \int_{-\infty}^x \frac{1}{\sqrt{2\pi}\sigma} \exp\left[ - \frac{(z-a)^2}{2\sigma^2} \right] dz\]</span> <span class="math inline">\(t =(z-a)/\sqrt{2}\sigma\)</span> <span class="math display">\[F(x) = \frac{1}{2} + \frac{1}{2} erf\left( \frac{(x-a)}{\sqrt{2}\sigma}\right)\]</span> <span class="math inline">\(erf\)</span> <spanclass="math display">\[erf(x) = \frac{2}{\sqrt{\pi}} \int_0^x e^{-t^2} dt\]</span> <span class="math inline">\(erfc\)</span> <spanclass="math display">\[erfc(x) = 1-erf(x)\]</span></p><p><span class="math inline">\(Q(x)\)</span><span class="math display">\[Q(x) = \frac{1}{\sqrt{2\pi}} \int_x^{\infty} e^{-t^2/2} dt ~~~~ x \geq 0\]</span> <span class="math inline">\(Q(x)\)</span><spanclass="math inline">\(erfc\)</span> <span class="math display">\[\begin{aligned}    Q(x) = \frac{1}{2} erfc(\frac{x}{\sqrt{2}}) \\    erfc(x) = 2Q(\sqrt{2}x)\end{aligned}\]</span></p><h2 id=""></h2><p><spanclass="math inline">\(\xi_i(t)\)</span><spanclass="math inline">\(\xi_o(t)\)</span> <span class="math display">\[\xi_o(t) = \int_{-\infty}^{\infty} h(\tau)\xi_i(t-\tau) d\tau\]</span></p><h3 id=""></h3><p><span class="math inline">\(\xi_o(t)\)</span> <spanclass="math display">\[E[\xi_o(t)] = E\left[ \int_{-\infty}^{\infty} h(\tau)\xi_i(t-\tau) d\tau\right] = \int_{-\infty}^{\infty} h(\tau) E\left[ \xi_i(t-\tau) \right]d\tau\]</span> <span class="math inline">\(E\left[\xi_i(t-\tau) \right] = E\left[ \xi_i(t) \right] = a\)</span> <spanclass="math display">\[E[\xi_o(t)] = a \cdot \int_{-\infty}^{\infty} h(\tau) d\tau = a\cdotH(0)\]</span> <span class="math inline">\(H(0)\)</span><spanclass="math inline">\(f=0\)</span></p><h3 id=""></h3><p>[doge] <span class="math display">\[R_o(t_1, t_1+\tau) = R_o(\tau)\]</span></p><h3 id=""></h3><p><span class="math display">\[P_o(f) = |H(f)|^2 P_i(f)\]</span></p><h3 id=""></h3><p></p><h2 id=""></h2><p><spanclass="math inline">\(\xi(t)\)</span><spanclass="math inline">\(f_c\)</span><spanclass="math inline">\(\Delta f\)</span><spanclass="math inline">\(\Delta f \ll f_c\)</span><spanclass="math inline">\(f_c\)</span>0</p><p><span class="math inline">\(\xi(t)\)</span> <spanclass="math display">\[\xi(t) = a_{\xi}(t) \cos[w_c t + \phi_{\xi}(t)] ~~~~ a_{\xi}(t) \geq 0\]</span> <spanclass="math inline">\(a_{\xi}(t)\)</span><spanclass="math inline">\(\phi_{\xi}(t)\)</span><spanclass="math inline">\(w_c\)</span></p><h3 id=""></h3><p>- <spanclass="math display">\[\xi(t) = \xi_c(t)cos(w_ct) - \xi_s(t)sin(w_ct)\]</span> <span class="math display">\[\xi_c(t) = a_{\xi}(t)cos(\phi_{\xi}(t)),~~~~ \xi_s(t) =a_{\xi}(t)sin(\phi_{\xi}(t))\]</span></p><h3 id=""></h3><p><spanclass="math inline">\(\xi(t)\)</span>0<spanclass="math inline">\(\sigma_{\xi}^2\)</span> <spanclass="math display">\[\xi(t) = \xi_c(t)cos(w_ct) - \xi_s(t)sin(w_ct)\]</span></p><p></p><ul><li><span class="math inline">\(\xi_c(t)\)</span><spanclass="math inline">\(\xi_s(t)\)</span>0<spanclass="math inline">\(E[\xi_c(t)] = E[\xi_s(t)]=0\)</span></li><li><span class="math inline">\(\xi_c(t)\)</span><spanclass="math inline">\(\xi_s(t)\)</span></li><li><span class="math inline">\(\xi_c(t)\)</span><spanclass="math inline">\(\xi_s(t)\)</span></li><li><span class="math inline">\(\xi_c(t)\)</span><spanclass="math inline">\(\xi_s(t)\)</span><spanclass="math inline">\(\sigma_{\xi}^2 = \sigma_{c}^2 =\sigma_{s}^2\)</span></li><li><span class="math inline">\(\xi_c(t)\)</span><spanclass="math inline">\(\xi_s(t)\)</span></li></ul><h2 id=""></h2><p><spanclass="math inline">\(a_{\xi}(t)\)</span></p><ul><li> <span class="math display">\[f(a_{\xi}) = \frac{a_{\xi}}{\sigma_{\xi}^2} \exp \left[ -\frac{a_{\xi}^2}{2 \sigma_{\xi}^2}  \right] ~~~~ a_{\xi} \geq 0\]</span></li></ul><p><spanclass="math inline">\(\phi_{\xi}(t)\)</span></p><ul><li> <span class="math display">\[f(\phi_{\xi}) = \frac{1}{2\pi} ~~~~ 0 \leq \phi_{\xi} \leq 2\pi\]</span></li></ul><p> <span class="math display">\[f(a_{\xi}, \phi_{\xi}) = f(a_{\xi})\cdot f(\phi_{\xi})\]</span></p><h2 id=""></h2><p> <spanclass="math display">\[r(t) = A\cos(w_c t + \theta) + n(t)\]</span> <span class="math inline">\(n(t) = n_c(t)\cos(w_c t) +n_s(t)\sin(w_c t)\)</span>0<spanclass="math inline">\(\sigma_n^2\)</span><spanclass="math inline">\(\theta\)</span><spanclass="math inline">\((0,2\pi)\)</span><spanclass="math inline">\(A\)</span><spanclass="math inline">\(w_c\)</span></p><p><span class="math display">\[\begin{aligned}r(t) &amp;= [A\cos\theta + n_c(t)] \cos w_c t - [A\sin\theta +n_s(t)]\sin w_c t \\&amp;= z_c(t)\cos w_c t - z_s(t)\sin w_c t\end{aligned} \tag{1}\]</span></p><p>(1) <span class="math display">\[r(t) = z(t)\cos [w_c t + \phi(t)]\]</span></p><p> <span class="math display">\[z(t) = \sqrt{ z_c^2(t)  + z_s^2(t)}\]</span></p><p> <span class="math display">\[\phi(t) = \arctan \frac{z_s(t)}{z_c(t)}\]</span></p><h3 id=""></h3><p><span class="math inline">\(\theta\)</span><spanclass="math inline">\(z_c(t)\)</span><spanclass="math inline">\(z_s(t)\)</span></p><ul><li><span class="math inline">\(E[z_c(t)] = A\cos \theta\)</span></li><li><span class="math inline">\(E[z_s(t)] = A\sin \theta\)</span></li><li><span class="math inline">\(\sigma_n^2 = \sigma_c^2 =\sigma_s^2\)</span></li></ul><h3id="-1"></h3><p><span class="math inline">\(z(t)\)</span></p><p>/ <span class="math display">\[f(z) = \frac{z}{\sigma_n^2} \exp \left( - \frac{z^2 + A^2}{ 2\sigma_n^2} \right) I_0 \left( \frac{Az}{\sigma_n^2} \right), ~~~~ z\geq 0\]</span> <span class="math display">\[I_0(x) = \frac{1}{2\pi} \int_0^{2\pi} \exp[x\cos \phi ] d \phi\]</span></p><ul><li><span class="math inline">\(r =\frac{A^2}{2\sigma_n^2} \gg 1\)</span></li><li><spanclass="math inline">\(A-&gt;0\)</span></li></ul><p><span class="math inline">\(\phi(t)\)</span></p><ul><li><spanclass="math inline">\(f(\phi)\)</span></li><li>0</li></ul><figure><img src="/images/.png"title="https://www.bilibili.com/video/BV1wA4y1f7Co?p=10"alt="https://www.bilibili.com/video/BV1wA4y1f7Co?p=10" /><figcaptionaria-hidden="true">https://www.bilibili.com/video/BV1wA4y1f7Co?p=10</figcaption></figure><p>+</p><h2 id=""></h2><p><spanclass="math inline">\(n(t)\)</span><span class="math display">\[P_n(f) = \frac{n_0}{2} ~~~~ (-\infty &lt; f &lt; \infty) ~~ (W/Hz)\tag{2}\]</span>  <span class="math display">\[P_n(f) = n_0 ~~~~ (0 &lt; f &lt; \infty) ~~ (W/Hz) \tag{3}\]</span> <span class="math inline">\(n_0\)</span></p><p>(2)(3)</p><p>(2) <spanclass="math display">\[R(\tau) = \frac{n_0}{2} \delta(\tau)\]</span> <spanclass="math inline">\(\tau=0\)</span></p><p><spanclass="math inline">\(R(0)\)</span></p><p></p><p></p><h3 id=""></h3><p><spanclass="math inline">\(n(t)\)</span><spanclass="math inline">\(f_H\)</span></p><p><span class="math display">\[P_n(f) = \left\{\begin{aligned}    \frac{n_0}{2} ~~~~ |f| \leq f_H \\    0 ~~~~~~~~~~~~ \end{aligned}\right.\]</span></p><p> <span class="math display">\[R(\tau) = n_0 f_H \frac{ \sin 2\pi f_H \tau }{ 2\pi f_H \tau }\]</span></p><p><span class="math inline">\(\tau =k/2\pi (k =1,2,3,\cdots)\)</span></p><h3 id=""></h3><p></p><p><span class="math display">\[P_n(f) = \left\{\begin{aligned}    \frac{n_0}{2} ~~~~ f_c - \frac{B}{2} \leq |f| \leq f_c + \frac{B}{2}\\    0 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \end{aligned}\right.\]</span></p><p> <span class="math display">\[R(\tau) = n_0 B \frac{ \sin \pi B \tau }{ \pi B \tau } \cos 2\pi f_c\tau\]</span></p><p><span class="math inline">\(B \llf_c\)</span><span class="math display">\[n(t) = n_c(t) \cos w_c t - n_s(t) \sin w_c t\]</span> <span class="math display">\[E[n(t)] = E[n_c(t)] = E[n_s(t)] = 0\]</span> <span class="math display">\[\sigma_n^2 = \sigma_c^2 = \sigma_s^2\]</span></p><p><span class="math inline">\(N = n_0 B\)</span></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2</title>
    <link href="/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B02/"/>
    <url>/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B02/</url>
    
    <content type="html"><![CDATA[<p> <span class="math display">\[C_n = \frac{1}{T_0} \int_{-T_0/2}^{T_0/2} s(t) e^{-j2\pi nf_0 t} dt\]</span>  <span class="math display">\[\begin{aligned}S(f) = \int_{-\infty}^{\infty} s(t) e^{-j2\pi f t} dt \\s(t) = \int_{-\infty}^{\infty} S(f) e^{j2\pi f t} df\end{aligned}\]</span> </p><p> <span class="math display">\[E = \int_{-\infty}^{\infty} s^2(t) dt = \int_{-\infty}^{\infty} \left|S(f) \right|^2 df\]</span>  <span class="math display">\[\left| S(f) \right|^2\]</span></p><p></p><p> <span class="math display">\[E = \int_{-T/2}^{T/2} s_T^2(t) dt = \int_{-\infty}^{\infty} \left|S_T(f) \right|^2 df\]</span>  <span class="math display">\[\lim_{T-&gt;\infty} \frac{1}{T} \left| S_T(f) \right|^2 = P(f)\]</span>  <span class="math display">\[P = \int_{-\infty}^{\infty} P(f) df\]</span> <span class="math inline">\(T_0\)</span> <spanclass="math display">\[P = \frac{1}{T_0} \int_{-T_0/2}^{T_0/2} s^2(t) dt = \sum_{n =-\infty}^{\infty} \left| C_n \right|^2\]</span> <span class="math inline">\(C_n\)</span></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1</title>
    <link href="/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B01/"/>
    <url>/2024/07/16/%E9%80%9A%E4%BF%A1%E7%AC%94%E8%AE%B01/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p></p><p></p><p></p><ul><li><p>-&gt;-&gt;-&gt;-&gt;</p></li><li><p>-&gt;</p></li></ul><p></p><ul><li><p>-&gt;  -&gt;  -&gt;  -&gt; -&gt;-&gt; -&gt; -&gt; -&gt; -&gt;</p></li><li><p>-&gt;</p></li></ul><p>A/D</p><p></p><h2 id=""></h2><p></p><p></p><p><span class="math inline">\(P(x)\)</span><spanclass="math inline">\(I\)</span> <spanclass="math display">\[I = I[P(x)]\]</span></p><p><span class="math inline">\(I\)</span></p><ul><li><span class="math inline">\(P(x)\)</span><spanclass="math inline">\(I\)</span><spanclass="math inline">\(P(x)=1,~~~I=0;~~~~~~P(x)=0,~~~I=\infty\)</span></li><li><span class="math inline">\(I[P(x_1)P(x_2)P(x_3)...] = I[P(x_1)] +I[P(x_2)] + I[P(x_3)] + ...\)</span></li></ul><p><span class="math inline">\(I\)</span><spanclass="math inline">\(I = \log_a \frac{1}{P(x)} = - \log_aP(x)\)</span></p><p><spanclass="math inline">\(a\)</span><spanclass="math inline">\(a=2\)</span><spanclass="math inline">\(bit\)</span><spanclass="math inline">\(b\)</span><spanclass="math inline">\(a=e\)</span><spanclass="math inline">\(nat\)</span></p><h2 id=""></h2><p>01<span class="math display">\[I(0) = I(1) = \log_2 \frac{1}{1/2} = 1 ~ (b)\]</span> 1b</p><p><spanclass="math inline">\(P=1/4\)</span><spanclass="math inline">\(2b\)</span> <spanclass="math inline">\(P=1/8\)</span><spanclass="math inline">\(3b\)</span> <spanclass="math inline">\(M\)</span><spanclass="math inline">\(P=1/M\)</span><spanclass="math inline">\(\log_2 M ~~ (b)\)</span></p><p><span class="math inline">\(x_i~(i =1,2,3...M)\)</span><span class="math inline">\(P(x_i)~(i =1,2,3...M)\)</span><span class="math inline">\(\sum_{i=1}^M P(x_i) =1\)</span> <span class="math display">\[I(x_i) = -\log_2 P(x_i)\]</span></p><p> <spanclass="math display">\[H(x) = -\sum_{i=1}^M P(x_i)\log_2 P(x_i) ~~~~ (b/)\]</span> <spanclass="math inline">\(H\)</span><spanclass="math inline">\(b/\)</span></p><p><spanclass="math inline">\(P(x_i)=\frac{1}{M}\)</span></p><p></p><p> <span class="math display">\[H(x) = -\int_{-\infty}^{\infty} f(x) \log_a f(x) dx\]</span> <spanclass="math inline">\(f(x)\)</span></p><h1 id=""></h1><table><thead><tr class="header"><th></th><th></th><th></th></tr></thead><tbody><tr class="odd"><td></td><td></td><td></td></tr><tr class="even"><td></td><td><span class="math inline">\(R_B\)</span></td><td></td></tr><tr class="odd"><td></td><td><span class="math inline">\(R_b\)</span></td><td></td></tr><tr class="even"><td></td><td><span class="math inline">\(\eta\)</span></td><td></td></tr></tbody></table><p> <span class="math inline">\(\eta = R_B/B ~~(Baud/Hz)\)</span><span class="math inline">\(\eta_b = R_b/B ~~(b/(s\cdot Hz))\)</span></p><p><spanclass="math inline">\(R_B\)</span><spanclass="math inline">\(Baud\)</span> <spanclass="math inline">\(R_b\)</span><spanclass="math inline">\(b/s\)</span></p><p><span class="math inline">\(M\)</span><spanclass="math inline">\(\log_2 M\)</span> <spanclass="math display">\[\begin{aligned}R_b &amp;= R_B \log_2 M ~~(b/s) \\R_B &amp;= R_b / \log_2 M ~~(Baud)\end{aligned}\]</span></p><p></p><ul><li><spanclass="math inline">\(S/N\)</span></li><li></li></ul><p> <span class="math display">\[P_e = \frac{}{}\]</span></p><p> <span class="math display">\[P_b = \frac{}{}\]</span></p><p><span class="math inline">\(P_e =P_b\)</span></p><p><spanclass="math inline">\(9bit\)</span><spanclass="math inline">\(1bit\)</span><spanclass="math inline">\(P_e=1/3, ~~ P_b = 1/9, ~~ P_e &gt;P_b\)</span></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2024/07/15/%E7%8B%BC%E4%B8%8E%E9%A6%99%E8%BE%9B%E6%96%99/"/>
    <url>/2024/07/15/%E7%8B%BC%E4%B8%8E%E9%A6%99%E8%BE%9B%E6%96%99/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p> http://tieba.baidu.com/p/2204474771 KINGERSHAPS0.0</p><p></p><p>.</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p>.]</p><p>[] <wbr>1</p><p></p><p>[</p><p>[] <wbr>1</p><p></p><p></p><p></p><p>]</p><p></p><p>??</p><p></p><p></p><p>[] <wbr>1</p><p></p><p></p><p></p><p></p><p>[]<wbr>1</p><p></p><p></p><p></p><p></p><p>?</p><p></p><p>?</p><p></p><p></p><p>[] <wbr>1</p><p></p><p>?</p><p></p><p></p><p></p><p>?</p><p></p><p>?</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p>?</p><p>[] <wbr>1</p><p></p><p>?</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p>[.]</p><p></p><p>?</p><p>[] <wbr>1</p><p></p><p></p><p></p><p></p><p></p><p>[]<wbr>1</p><p>[] <wbr>1</p><p></p><p></p><p></p><p></p><p>[] <wbr>1</p><p></p><p></p><p></p><p>?</p><p></p><p></p><p>[] <wbr>1</p><p></p><p></p><p></p><p>?</p><p></p><p></p><p>[] <wbr>1</p><p></p><p>?</p><p></p><p>?</p><p></p><p></p><p>[] <wbr>1</p><p></p><p></p><p></p><p></p><p></p><p>?P.S.</p><p>[] <wbr>1</p><p>?</p><p></p><p>!!</p><p>i ya jia mo u hi to li wa i ya jia</p><p></p><p>?</p><p>[] <wbr>1</p><p></p><p>?</p><p></p><p>!???</p><p></p><p></p><p></p><p>?</p><p>[] <wbr>1</p><p></p><p></p><p></p><p>?</p><p></p><p>[]</p><p>[] <wbr>1</p><p>to be continued...</p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PDH</title>
    <link href="/2024/07/13/PDH%E9%94%81%E9%A2%91%E6%8A%80%E6%9C%AF/"/>
    <url>/2024/07/13/PDH%E9%94%81%E9%A2%91%E6%8A%80%E6%9C%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="pdh">PDH</h1><h2 id=""></h2><p>FMPHDFPFP</p><h2 id=""></h2><p></p><h3 id="fp">FP</h3><p>FabryProtinterferometerF-P-F-PCavitytalonwiki</p><p>FP</p><figure><img src="/images/M1M2.jpg" title="FP" alt="FP" /><figcaption aria-hidden="true">FP</figcaption></figure><p><spanclass="math inline">\(E_{in}\)</span><spanclass="math inline">\(T_1, ~ T_2\)</span><spanclass="math inline">\(R_1, ~ R_2\)</span><spanclass="math inline">\(L\)</span></p><p><span class="math inline">\(T_1 + R_1=1; ~ T_2 + R_2 =1\)</span><spanclass="math inline">\(M_1\)</span><spanclass="math inline">\(E_{ in }\sqrt{R_1}\)</span><spanclass="math inline">\(n_1, n_2\)</span><spanclass="math inline">\(r = -r&#39;\)</span>180</p><p></p><p><span class="math display">\[\begin{aligned}    E_{ref} &amp;= -E_{in}\sqrt{R_1} +E_{in}T_1\sqrt{R_2}e^{iw\frac{2L}{C}} + E_{in}T_1\sqrt{R_2}\sqrt{R_1R_2}e^{iw\frac{4L}{C}} + ... \\            &amp;= -E_{in}\sqrt{R_1} +E_{in}T_1\sqrt{R_2}e^{iw\frac{2L}{C}} \left( 1 + \sqrt{R_1R_2}e^{iw\frac{2L}{C}} + R_1 R_2e^{iw\frac{4L}{C}} + ... \right) \\            &amp;= -E_{in}\sqrt{R_1} +E_{in}T_1\sqrt{R_2}e^{iw\frac{2L}{C}} \cdot \frac{1}{ 1 - \sqrt{R_1R_2}e^{iw\frac{2L}{C}} }\end{aligned}\]</span></p><p><span class="math inline">\(R_1 = R_2 =r^2\)</span><spanclass="math inline">\(R\)</span>r<span class="math display">\[\begin{aligned}    &amp;= -E_{in}r + \frac{ E_{in}(1 - R_1 )r e^{iw\frac{2L}{C}} }{ 1 -r^2 e^{iw\frac{2L}{C}} }, ~~~~ \Delta\nu_{fsr} = \frac{C}{2L} \\    &amp;= -E_{in}r + \frac{ E_{in}(1 - r^2 )re^{iw\frac{1}{\Delta\nu_{fsr}}} }{ 1 - r^2e^{iw\frac{1}{\Delta\nu_{fsr}}} }\end{aligned}\]</span></p><p> <span class="math display">\[\begin{aligned}F(w) &amp;= \frac{ E_{ref} }{ E_{in} } = -r + \frac{ (1-r^2)r e^{iw\frac{1}{\Delta\nu_{fsr}}} }{ 1 - r^2e^{iw\frac{1}{\Delta\nu_{fsr}} }}\\     &amp;= \frac{ E_{ref} }{ E_{in} } = \frac{ r (e^{iw\frac{1}{\Delta\nu_{fsr}}} - 1) }{ 1 - r^2e^{iw\frac{1}{\Delta\nu_{fsr}}}}\end{aligned}\]</span>  <span class="math display">\[\Delta\nu_c = \frac{\Delta\nu_{fsr}}{F}\]</span></p><p> <span class="math display">\[F=\frac{\pi r}{1-r^2}\]</span></p><figure><img src="/images/PDH.jpg" title="PDH" alt="PDH" /><figcaption aria-hidden="true">PDH</figcaption></figure><p>PDH</p><p></p><blockquote><p>Pocket cell  <spanclass="math inline">\(E_{} = A\cos wt,~~~~ E_{} = A\cos (wt + \beta\sin w_mt)\)</span><spanclass="math inline">\(\beta\)</span></p></blockquote><p>PBS<spanclass="math inline">\(\lambda/4\)</span></p><p></p><p>FIG4PDH</p><figure><img src="/images/PDH_FIG4.jpg" title="PDH_FIG4" alt="PDH_FIG4" /><figcaption aria-hidden="true">PDH_FIG4</figcaption></figure><h2 id=""></h2><h3 id="a-fp">A FP</h3><p>FP</p><ol type="1"><li>M</li><li></li></ol><p></p><blockquote><p>case 1 <span class="math inline">\(\nu = N\cdot \Delta\nu_{fsr}\)</span></p><p>12<spanclass="math inline">\(F(w)=0\)</span></p></blockquote><blockquote><p>case 2 <span class="math inline">\(\nu \neq N\cdot\Delta \nu_{fsr}\)</span></p><p><span class="math inline">\(\nu\)</span><spanclass="math inline">\(N\cdot \Delta\nu_{fsr}\)</span>12180/FIG5</p></blockquote><figure><img src="/images/PDH_FIG5.jpg" title="PDH_FIG5" alt="PDH_FIG5" /><figcaption aria-hidden="true">PDH_FIG5</figcaption></figure><p>FIG6<span class="math inline">\(w\)</span><spanclass="math inline">\(F(w)\)</span><spanclass="math inline">\(w\)</span>B<spanclass="math inline">\(w\)</span>A<spanclass="math inline">\(w\)</span> matlab<spanclass="math inline">\(F(w)\)</span>-1A</p><figure><img src="/images/PDH_matlab.png" title="PDH_matlab"alt="PDH_matlab" /><figcaption aria-hidden="true">PDH_matlab</figcaption></figure><figure><img src="/images/PDH_FIG6.jpg" title="PDH_FIG6" alt="PDH_FIG6" /><figcaption aria-hidden="true">PDH_FIG6</figcaption></figure><p></p><h3 id="b-">B </h3><p></p><h3 id="c-">C </h3><p>pocketscell</p><p><span class="math display">\[E_{inc} = E_0 e^{i(wt + \beta \sin \Omega t)}~~~~ \Omega ,~~~~ \beta \]</span></p><p></p><p><span class="math display">\[\begin{aligned}    E_{inc} &amp;\approx [J_0(\beta) + 2\sigma J_1(\beta)\sin \Omegat]e^{iwt} \cdot E_0 \\    &amp;= E_0 [J_0(\beta)e^{iwt} + J_1(\beta)e^{i(w+\Omega)t} -J_1(\beta)e^{i(w-\Omega)t}]\end{aligned}\]</span></p><p><span class="math inline">\(P_0 =|E_0|^2\)</span><spanclass="math inline">\(P_c = J_0^2(\beta)P_0\)</span></p><p><span class="math inline">\(P_s =J_1^2(\beta)P_0\)</span><span class="math inline">\(\beta &lt;1\)</span><span class="math inline">\(P_c + 2P_s \approxP_0\)</span></p><h3 id="d-">D </h3><p><span class="math display">\[\begin{aligned}    E_{ref} &amp;= E_{in}\cdot F(w) \\            &amp;= E_0[F(w)J_0(\beta)e^{iwt} + F(w +\Omega)J_1(\beta)e^{i(w+\Omega)t} -F(w-\Omega)J_1(\beta)e^{i(w-\Omega)t}]\end{aligned}\]</span></p><p><spanclass="math inline">\(P_{ref} =|E_{ref}^2|\)</span></p><p><span class="math display">\[P_{ref} = |E_{ref}|^2 = E_{ref} \cdot E_{ref}^*\]</span></p><blockquote><p><span class="math inline">\(P_c = E_0^2J_0^2(\beta)~~~~P_s =E_0^2J_1^2(\beta)\)</span></p></blockquote><p><span class="math display">\[E_{ref} = E_0[F(w)J_0(\beta)e^{iwt} + F(w +\Omega)J_1(\beta)e^{i(w+\Omega)t} -F(w-\Omega)J_1(\beta)e^{i(w-\Omega)t}]\]</span> <span class="math display">\[E_{ref}^* = E_0[F^*(w)J_0(\beta)e^{iwt} + F^*(w +\Omega)J_1(\beta)e^{i(w+\Omega)t} -F^*(w-\Omega)J_1(\beta)e^{i(w-\Omega)t}]\]</span></p><p></p><p><span class="math display">\[\begin{aligned}    P_{ref} &amp;= |E_{ref}|^2 = E_{ref} \cdot E_{ref}^* \\            &amp;= E_0^2 |F(w)|^2J_0^2(\beta) + E_0^2F(w+\Omega)F^*(w+\Omega)J_1^2(\beta) \\            &amp;~~~~+ E_0^2 F(w-\Omega)F^*(w-\Omega)J_1^2(\beta) +E_0^2 F(w)F^*(w+\Omega)J_0(\beta)J_1(\beta)e^{-i\Omega t} \\            &amp;~~~~- E_0^2F(w)F^*(w-\Omega)J_0(\beta)J_1(\beta)e^{i\Omega t} + E_0^2F^*(w)F(w+\Omega)J_0(\beta)J_1(\beta)e^{i\Omega t} \\            &amp;~~~~- E_0^2F(w+\Omega)F^*(w-\Omega)J_1^2(\beta)e^{2i\Omega t} - E_0^2F^*(w)F(w-\Omega)J_0(\beta)J_1(\beta)e^{-i\Omega t} \\            &amp;~~~~- E_0^2 F(w-\Omega)F^*(w+\Omega)J_1^2(\beta)e^{-2i\Omega t} \\            &amp;= P_c|F(w)|^2 + P_s \{ |F(w + \Omega)|^2 +|F(w-\Omega)|^2 \} \\            &amp;~~~~ +[F(w)F^*(w+\Omega) -F^*(w)F(w-\Omega)]E_0^2J_0(\beta)J_1(\beta)e^{-i\Omega t} \\            &amp;~~~~ +[F^*(w)F(w+\Omega) -F(w)F^*(w-\Omega)]E_0^2J_0(\beta)J_1(\beta)e^{i\Omega t} + ~~2\Omega\end{aligned}\]</span></p><p><span class="math inline">\(F(w)F^*(w+\Omega)=a+bi\)</span></p><p><span class="math inline">\(F^*(w)F(w+\Omega)=a-bi\)</span></p><p> <span class="math display">\[P_{ref} = P_c|F(w)|^2 + P_s \{ |F(w + \Omega)|^2 + |F(w-\Omega)|^2 \} +E_0^2J_0(\beta)J_1(\beta)[ (a+bi)e^{-i\Omega t} + (a-bi)e^{i\Omega t} ]\]</span></p><p> <span class="math display">\[\begin{aligned}    &amp;(a+bi)e^{-i\Omega t} + (a-bi)e^{i\Omega t} \\    &amp;= (a+bi)(\cos \Omega t - i \sin \Omega t) + (a-bi)(\cos\Omega t+ i\sin\Omega t) \\    &amp;= 2a\cos \Omega t + 2b\sin \Omega t\end{aligned}\]</span></p><p> <span class="math display">\[P_{ref} = P_c|F(w)|^2 + P_s \{ |F(w + \Omega)|^2 + |F(w-\Omega)|^2 \} +2\sqrt{P_c P_s}( a\cos \Omega t + b\sin \Omega t )\]</span></p><p><span class="math inline">\(\cos \Omega t\)</span><spanclass="math inline">\(\sin \Omega t\)</span></p><ul><li><span class="math inline">\(\Omega \ll \Delta\nu_c\)</span><span class="math inline">\(F(w)F^*(w+\Omega) -F^*(w)F(w-\Omega)\)</span>0</li><li><span class="math inline">\(\Omega \gg \Delta\nu_c\)</span><span class="math inline">\(F(w\pm \Omega) \approx-1,~~~~ F(w)F^*(w+\Omega)-F*(w)F(w-\Omega)\)</span>0</li></ul><blockquote><p></p><p><spanclass="math inline">\(\Omega\)</span></p><p><span class="math inline">\(F(w)F^*(w+\Omega) -F^*(w)F(w-\Omega)\)</span></p><p><span class="math inline">\(=F(w)(F^*(w) + \frac{dF^*(w)}{dw} \cdot\Omega) - F^*(w)(F(w) - \frac{dF(w)}{dw} \cdot \Omega)\)</span></p><p><span class="math inline">\(=[F(w)\frac{dF^*(w)}{dw} +F^*(w)\frac{dF(w)}{dw}] \Omega\)</span></p><p><span class="math inline">\(= \frac{d[F(w)F^*(w)]}{dw} \Omega=\frac{d|F|^2}{dw}\Omega\)</span></p><p></p><p>matlab<span class="math inline">\(\Omega \gg \Delta\nu_c\)</span><span class="math inline">\(F(w\pm \Omega)\approx -1\)</span>FIG6A</p><p><span class="math inline">\(F(w)F^*(w+\Omega) - F^*(w)F(w-\Omega) =-2bi = -i \cdot 2Im[F(w)]\)</span></p><p></p></blockquote><p></p><p>sin<span class="math inline">\(\sin(\Omegat)\sin(\Omega&#39; t) = 1/2 \{ \cos[(\Omega - \Omega&#39;)t] -\cos[(\Omega + \Omega&#39;)t] \}\)</span><spanclass="math inline">\(\Omega = \Omega&#39;\)</span><spanclass="math inline">\(\cos(\Omega -\Omega&#39;)t\)</span><spanclass="math inline">\(\cos(\Omega + \Omega&#39;)t\)</span><spanclass="math inline">\(\cos(\Omega - \Omega&#39;)t\)</span></p><p>sincos<span class="math inline">\(\sin(\Omegat)\cos(\Omega&#39; t) = 1/2 [\sin(\Omega - \Omega&#39; t) - \sin(\Omega+ \Omega&#39;)t]\)</span> <span class="math inline">\(\Omega =\Omega&#39;\)</span><span class="math inline">\(\sin(\Omega -\Omega&#39;)t=0\)</span></p><h2 id=""></h2><h3 id="a-">A </h3><p><spanclass="math inline">\(w\)</span><spanclass="math inline">\(w\)</span><spanclass="math inline">\(w(t)\)</span><spanclass="math inline">\(w(t)\)</span></p><p><span class="math display">\[E_{in} = E_0 \cos(wt + \beta \sin \Omega t)\]</span></p><p><span class="math inline">\(wt + \beta \sin \Omegat\)</span><span class="math inline">\(w(t) =\frac{d\phi}{dt} = \frac{d(wt + \beta \sin \Omega t)}{dt} =w+\Omega\beta\cos\Omega t\)</span></p><p><span class="math inline">\(\Omega \approx 0\)</span></p><p><span class="math display">\[P_{ref} = P_0|F(w)|^2\]</span></p><p><span class="math display">\[\begin{aligned}    P_{ref}(w + \Omega\beta\cos\Omega t) &amp;\approx P_ref(w) +\frac{dP_ref}{dw} \cdot \Omega\beta \cos \Omega t \\    &amp;\approx P_ref(w) + P_0\frac{d|F(w)|^2}{dw} \cdot\Omega\beta\cos\Omega t\end{aligned}\]</span></p><p>w<spanclass="math inline">\(\Omega\)</span></p><p><span class="math inline">\(F(w)F^*(w+\Omega) -F^*(w)F(w-\Omega) = \frac{d|F(w)|^2}{dw}\cdot\Omega\)</span><spanclass="math inline">\(\sqrt{P_c P_s}\)</span><spanclass="math inline">\(P_0\beta / 2\)</span></p><p><span class="math inline">\(P_{ref} =  +P_0\frac{d|F(w)|^2}{dw} \cdot \Omega\beta\cos\Omega t + (2\Omega)\)</span></p><p><spanclass="math inline">\(\cos\Omega t\)</span></p><p>PDH<span class="math inline">\(\varepsilon =P_0\frac{d|F(w)|^2}{dw}\Omega\beta \approx 2\sqrt{P_cP_s}\frac{d|F(w)|^2}{dw}\Omega\)</span> <spanclass="math inline">\(|F(w)|^2\)</span><spanclass="math inline">\(\frac{d|F(w)|^2}{dw}\)</span>I<spanclass="math inline">\(w\)</span><spanclass="math inline">\(\varepsilon\)</span></p><h3 id="b-pdh">B PDH</h3><p><span class="math inline">\(w\)</span><spanclass="math inline">\(w\approx 2\pi N\Delta\nu_{fsr}\)</span><spanclass="math inline">\(\Omega\)</span><spanclass="math inline">\(F(w\pm \Omega) \approx-1\)</span><span class="math inline">\(F(w)\approx0\)</span> <span class="math inline">\(F(w)F^*(w+\Omega) -F^*(w)F(w-\Omega) \approx -i\cdot 2 Im{F(w)}\)</span></p><p><span class="math inline">\(P_{ref} \approx 2P_s - 4\sqrt{P_cP_s} Im{F(w)}\sin\Omega t + 2\omega \)</span></p><p><span class="math inline">\(\varepsilon \approx -4\sqrt{P_cP_s}Im{F(w)}\)</span></p><p> <span class="math display">\[\frac{w}{\Delta \nu_{fsr}} = 2\pi N + \frac{\delta w}{\Delta \nu_{fsr}}~~~~ \delta wwN\]</span></p><p><span class="math inline">\(F\approx\frac{\pi}{1-r^2}~~~~r\approx 1\)</span> <span class="math display">\[\frac{\delta w}{\Delta \nu_{fsr}} = \frac{\delta w}{\Delta \nu_c\mathcal{F}}\]</span></p><p><span class="math display">\[F(w) = \frac{ r(e^{i\frac{\delta w (1-r^2)}{\Delta \nu_c \pi }} \cdote^{i2\pi N} - 1) }{1 - r^2 e^{i\frac{\delta w (1-r^2)}{\Delta \nu_c \pi}}\cdot e^{i2\pi N} }\]</span></p><p> <span class="math display">\[e^{i2\pi N} = 1 , ~~~~ r \approx 1, ~~~~ \delta w\]</span></p><p> <span class="math display">\[F(w) = \frac{ i\delta w }{ \Delta \nu_c \pi }\]</span></p><p> <span class="math display">\[\varepsilon \approx - \frac{ 4 }{ \pi } \sqrt{ P_c P_s } \cdot \frac{\delta w }{ \delta \nu_c } ~~~~ \delta \nu_c = \frac{ \Delta \nu_{fsr}}{ \mathcal{F} }\]</span></p><p><span class="math inline">\(\varepsilon\)</span><spanclass="math inline">\(\delta w\)</span><spanclass="math inline">\(\delta w \ll \delta\nu_c\)</span></p><p><span class="math inline">\(f = \nu = \frac{ w }{ 2\pi}\)</span></p><p><span class="math display">\[\varepsilon = -8\sqrt{ P_c P_s } \cdot \frac{ \delta f }{ \delta \nu_c }~~~~ \varepsilon = D \cdot \delta f ~~~~ D = -\frac{ 8\sqrt{ P_c P_s }}{ \delta \nu_c }\]</span></p><p></p><p>A<span class="math inline">\(w(t) = w + \Omega\beta\cos \Omega t\)</span><spanclass="math inline">\(\Omega\)</span><spanclass="math inline">\(w\)</span><spanclass="math inline">\(\Omega\beta\)</span></p><figure><img src="/images/PDH_FIG7.jpg" title="PDH_FIG7" alt="PDH_FIG7" /><figcaption aria-hidden="true">PDH_FIG7</figcaption></figure><p><spanclass="math inline">\(w\)</span>A-&gt;B-&gt;A-&gt;C-&gt;A</p><p><span class="math inline">\(P_{ref}(w + \Omega\beta\cos \Omega t)\approx P_{ref}(w) + P_0\frac{d|F|^2}{dw} \Omega \beta \cos \Omegat\)</span><span class="math inline">\(w\)</span><spanclass="math inline">\(w_A\)</span></p><p>AB<span class="math inline">\(\cos\Omega t &gt; 0 ~~~~\frac{ d|F|^2 }{ dw } &lt; 0 ~~~~~ P_B &lt; P_A\)</span></p><p>AC<span class="math inline">\(\cos\Omega t &lt; 0 ~~~~\frac{ d|F|^2 }{ dw } &lt; 0 ~~~~~ P_C &gt; P_A\)</span></p><p><span class="math inline">\(w \neq 2\pi N \Delta\nu_{fsr}\)</span> <span class="math inline">\(w = 2\pi N \Delta\nu_{fsr}\)</span></p><p>AB<span class="math inline">\(\cos\Omega t &gt; 0 ~~~~\frac{ d|F|^2 }{ dw } &lt; 0 ~~~~~ P_B &lt; P_A\)</span></p><p>AC<span class="math inline">\(\cos\Omega t &lt; 0 ~~~~\frac{ d|F|^2 }{ dw } &gt; 0 ~~~~~ P_C &lt; P_A\)</span></p><figure><img src="/images/PDH_FIG8.jpg" title="PDH_FIG8" alt="PDH_FIG8" /><figcaption aria-hidden="true">PDH_FIG8</figcaption></figure><p> <span class="math display">\[\varepsilon = P_0 \frac{ d|F|^2 }{ dw } \Omega \beta \approx 2\sqrt{ P_cP_s } \frac{ d|F|^2 }{ dw } \Omega\]</span></p><p>-90</p><figure><img src="/images/PDH_FIG9.jpg" title="PDH_FIG9" alt="PDH_FIG9" /><figcaption aria-hidden="true">PDH_FIG9</figcaption></figure><p><spanclass="math inline">\(w(t)\)</span><spanclass="math inline">\(w\)</span><span class="math inline">\(\Delta\nu_{fsr}\)</span><spanclass="math inline">\(\Omega \approx 0\)</span></p><p>B<span class="math display">\[F(w) \approx 0 ~~~~ w \approx 2\pi N \Delta \nu_{fsr}\]</span></p><figure><img src="/images/PDH_FIGA.jpg" title="PDH_FIGA" alt="PDH_FIGA" /><figcaption aria-hidden="true">PDH_FIGA</figcaption></figure><p><span class="math inline">\(F(w)\)</span><span class="math inline">\(w = \pi N \Delta\nu_{fsr}\)</span><span class="math inline">\(F(w) =-1\)</span><span class="math inline">\(N\)</span></p><p><span class="math inline">\(F(w)\approx-1\)</span>matlab<spanclass="math inline">\(F(w)\)</span>-1<spanclass="math inline">\(F(w)=-1\)</span></p><p><span class="math inline">\(\nu = \frac{ C }{2L }q\)</span><spanclass="math inline">\(F(w)\)</span></p><figure><img src="/images/PDH_FIGB.jpg" title="PDH_FIGB" alt="PDH_FIGB" /><figcaption aria-hidden="true">PDH_FIGB</figcaption></figure><p><span class="math inline">\(\varepsilon = D\deltaf\)</span><spanclass="math inline">\(\varepsilon\)</span><spanclass="math inline">\(\deltaf\)</span><spanclass="math inline">\((\delta w \ll \delta\nu_c)\)</span><spanclass="math inline">\(\varepsilon = D\deltaf\)</span></p><figure><img src="/images/PDH_FIGC.jpg" title="PDH_FIGC" alt="PDH_FIGC" /><figcaption aria-hidden="true">PDH_FIGC</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2024/07/13/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6%E7%9A%84%E7%AC%A6%E5%8F%B7%E4%B8%8E%E7%AE%97%E7%AC%A6/"/>
    <url>/2024/07/13/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6%E7%9A%84%E7%AC%A6%E5%8F%B7%E4%B8%8E%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><h2 id=""></h2><p>0birdsong-mayflower.github.io</p><h2 id=""></h2><p><spanclass="math inline">\(\ket{\psi}\)</span><spanclass="math inline">\(\psi\)</span>(ket)</p><p></p><p></p><p><span class="math display">\[\ket{\psi_1} = \begin{pmatrix}    1 \\    0 \\    0 \\    . \\    . \\    . \\    0 \\    . \\    . \\    .\end{pmatrix},\ket{\psi_2} = \begin{pmatrix}    0 \\    1 \\    0 \\    . \\    . \\    . \\    0 \\    . \\    . \\    .\end{pmatrix},\ket{\psi_n} = \begin{pmatrix}    0 \\    0 \\    0 \\    . \\    . \\    . \\    n \\    . \\    . \\    .\end{pmatrix}\]</span></p><p><span class="math display">\[\ket{\psi_n} = \psi_n(x) = \sqrt{ \frac{2}{a} } \sin \frac{n\pi}{a} x\]</span></p><p><span class="math inline">\(\lambda = \sum_n c_n\psi_n\)</span> <span class="math display">\[\ket{\lambda} = \begin{pmatrix}    c_1 \\    c_2 \\    c_3 \\    . \\    . \\    .\end{pmatrix}\]</span></p><p>(bra)</p><p> <span class="math display">\[\ket{\psi} = \begin{pmatrix}    2 \\    1\end{pmatrix}\]</span></p><p> <span class="math display">\[\bra{\psi} = (2, 1)\]</span></p><h2 id=""></h2><p></p><p>(latex \dagger)</p><p><span class="math display">\[\hat{A}^{\dagger}\]</span></p><p> <span class="math display">\[\ket{\psi}^{\dagger} = \bra{\psi}\]</span></p><h2 id=""></h2><p></p><p><span class="math display">\[\hat{A}^{\dagger} = \hat{A}\]</span></p><h2 id=""></h2><p></p><p><spanclass="math inline">\(\hat{A}\hat{B}\hat{C}\ket{\psi}\)</span><spanclass="math inline">\(\hat{C}\)</span><spanclass="math inline">\(\hat{B}\)</span><spanclass="math inline">\(\hat{A}\)</span></p><p> <span class="math display">\[\left[   \hat{A} , \hat{B}  \right] = \hat{A}\hat{B} - \hat{B}\hat{A}\]</span></p><p> <span class="math display">\[\left[   \hat{A} , \hat{B}  \right] = 0\]</span> <span class="math inline">\(\hat{A}\)</span><spanclass="math inline">\(\hat{B}\)</span></p><h1 id=""></h1><p></p>]]></content>
    
    
    <categories>
      
      <category></category>
      
    </categories>
    
    
    <tags>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>matlab_learning_2</title>
    <link href="/2024/07/08/matlab-learning-2/"/>
    <url>/2024/07/08/matlab-learning-2/</url>
    
    <content type="html"><![CDATA[<h1 id="zmatlab">zmatlab</h1><h2 id="z">z</h2><p><span class="math inline">\(x(t)\)</span><spanclass="math inline">\(x_s(t) = \sum_{n=-\infty}^{+\infty}x(nT)\delta(t-nT)\)</span> <spanclass="math display">\[X(s) = \mathcal{L} \left[\sum_{n=-\infty}^{+\infty} x(nT)\delta(t-nT)\right] = \sum_{n=-\infty}^{+\infty} x(nT)\mathcal{L} [\delta(t-nT)] =\sum_{n=-\infty}^{+\infty} x(nT) e^{-nTs}\]</span></p><p><span class="math inline">\(z = e^{Ts}\)</span><spanclass="math inline">\(X(s) = \sum_{n=-\infty}^{+\infty} x(nT)z^{-n}\)</span></p><h2 id="z">z</h2><p><span class="math inline">\(x[n]\)</span> <spanclass="math display">\[X(z) = \mathcal{Z}[x[n]] = \sum_{n=-\infty}^{+\infty} x[n]z^{-n}\]</span></p><h2 id="z">z</h2><p><span class="math display">\[x[n] = \mathcal{Z}^{-1}[X(z)] = \frac{1}{2\pi j} \oint_c X(z)z^{n-1}dz\]</span></p><h2 id=""></h2><p><span class="math display">\[\sum_{n=-\infty}^{+\infty} | x[n]z^{-n} | = M &lt; +\infty\]</span></p><h2id="z">z</h2><ol type="1"><li><p></p><p><span class="math inline">\(x[n]\)</span>  <spanclass="math inline">\(n_1 \leq n \leq n_2\)</span>z<spanclass="math inline">\(x[n]\)</span><spanclass="math inline">\(0 &lt; |z| &lt; \infty\)</span><spanclass="math inline">\(X(z)\)</span> <spanclass="math inline">\(0 &lt; |z| &lt; \infty\)</span><spanclass="math inline">\(z\)</span> <span class="math display">\[X(z) = \sum_{n=n_1}^{n_2} x[n]z^{-n}\]</span></p><p><spanclass="math inline">\(n&gt;0\)</span><spanclass="math inline">\(z=0\)</span><spanclass="math inline">\(n&lt;0\)</span><spanclass="math inline">\(z=\infty\)</span></p></li><li><p></p><p><span class="math inline">\(x[n]\)</span><spanclass="math inline">\(n \geq n_1\)</span>0z<span class="math display">\[X(z) = \sum_{n=n_1}^{-1} x[n]z^{-n} + \sum_{n=0}^{\infty} x[n]z^{-n}\]</span> <span class="math inline">\(0 \leq |z|&lt; \infty\)</span><spanclass="math inline">\(R_{x-} &lt; |z| \leq\infty\)</span><span class="math inline">\(R_{x-} &lt;|z| &lt; \infty\)</span></p></li><li><p></p><p><span class="math inline">\(x[n]\)</span><spanclass="math inline">\(n \geq 0\)</span>0z <spanclass="math display">\[X(z) = \sum_{n=0}^{\infty} x[n]z^{-n}\]</span> <span class="math inline">\(R_{x-} &lt; |z| \leq\infty\)</span></p></li><li><p></p><p><span class="math inline">\(x[n]\)</span><spanclass="math inline">\(n \leq n_2\)</span>0z<span class="math display">\[X(z) = \sum_{n=-\infty}^{0} x[n]z^{-n} + \sum_{n=1}^{n_2} x[n]z^{-n}\]</span> <span class="math inline">\(0 &lt; |z|\leq \infty\)</span><spanclass="math inline">\(0 &lt; |z| &lt;R_{x+}\)</span><span class="math inline">\(0 &lt; |z|&lt; R_{x+}\)</span></p></li><li><p></p><p><span class="math inline">\(x[n]\)</span><spanclass="math inline">\(n &lt; 0\)</span>0z <spanclass="math display">\[X(z) = \sum_{n=-\infty}^{-1} x[n]z^{-n}\]</span> <span class="math inline">\(0 \leq |z| &lt;R_{x+}\)</span></p></li><li><p> <spanclass="math inline">\(x[n]\)</span>z <spanclass="math display">\[X(z) = \sum_{n=-\infty}^{+\infty} x[n]z^{-n}\]</span> <span class="math inline">\(R_{x-} &lt; |z| &lt;R_{x+}\)</span></p></li></ol><h2 id="z">z</h2><table><thead><tr class="header"><th></th><th></th><th>z</th><th></th></tr></thead><tbody><tr class="odd"><td></td><td><span class="math inline">\(x[n]\)</span></td><td><span class="math inline">\(X(z)\)</span></td><td><span class="math inline">\(R\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(x_1[n]\)</span></td><td><span class="math inline">\(X_2(z)\)</span></td><td><span class="math inline">\(R_1\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(x_2[n]\)</span></td><td><span class="math inline">\(X_3(z)\)</span></td><td><span class="math inline">\(R_2\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(ax_1[n] + bx_2[n]\)</span></td><td><span class="math inline">\(aX_1(z) + bX_2(z)\)</span></td><td><span class="math inline">\(R_1R_2\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(x[n-n_0]\)</span></td><td><span class="math inline">\(z^{-n_0}X(z)\)</span></td><td><span class="math inline">\(R\)</span>0<spanclass="math inline">\(\infty\)</span></td></tr><tr class="even"><td>z</td><td><span class="math inline">\(e^{jw_0 n}x[n]\)</span></td><td><span class="math inline">\(X(e^{-jw_0}z)\)</span></td><td><span class="math inline">\(R\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(z_0^n x[n]\)</span></td><td><span class="math inline">\(X(z z_0^{-1})\)</span></td><td><span class="math inline">\(z_0 R\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(a^n x[n]\)</span></td><td><span class="math inline">\(X(a^{-1}z)\)</span></td><td><span class="math inline">\(R\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(x[-n]\)</span></td><td><span class="math inline">\(X(z^{-1})\)</span></td><td><span class="math inline">\(R^{-1}\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(x_{(k)}[n] = x[r], n = rk; ~~ x_{(k)}[n]= 0, n \neq rk\)</span></td><td><span class="math inline">\(X(z^k)\)</span></td><td><span class="math inline">\(R^{1/k}\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(x^*[n]\)</span></td><td><span class="math inline">\(X^*(z^*)\)</span></td><td><span class="math inline">\(R\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(x_1[n] * x_2[n]\)</span></td><td><span class="math inline">\(X_1(z)X_2(z)\)</span></td><td><span class="math inline">\(R_1,R_2\)</span></td></tr><tr class="odd"><td></td><td><span class="math inline">\(x[n] - x[n-1]\)</span></td><td><span class="math inline">\((1 - z^{-1})X(z)\)</span></td><td><span class="math inline">\(R\)</span><spanclass="math inline">\(| z| &gt; 0\)</span></td></tr><tr class="even"><td></td><td><span class="math inline">\(\sum_{k = -\infty}^{n}x[k]\)</span></td><td><span class="math inline">\(\frac{1}{1 - z^{-1}} X(z)\)</span></td><td><span class="math inline">\(R\)</span><spanclass="math inline">\(| z| &gt;1\)</span></td></tr><tr class="odd"><td>z</td><td><span class="math inline">\(nx[n]\)</span></td><td><span class="math inline">\(-z\frac{dX(z)}{dz}\)</span></td><td><span class="math inline">\(R\)</span></td></tr></tbody></table><p><spanclass="math inline">\(n&lt;0,x[n]=0\)</span><spanclass="math inline">\(x[0] = \lim_{z\to \infty} X(z)\)</span></p><h2id="z">z</h2><p><span class="math inline">\(|z| =1\)</span>zz</p><h2 id="zmatlab">zmatlab</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs matlab">syms n         <span class="hljs-comment">% n</span><br>f = <span class="hljs-built_in">sin</span>(n);<br>F = ztrans(f);<br><span class="hljs-built_in">disp</span>(F);<br>w0 = <span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>/<span class="hljs-number">800</span>;<br>A  = <span class="hljs-number">10</span>;<br>phi= <span class="hljs-built_in">pi</span>/<span class="hljs-number">6</span>;<br><br>y = <span class="hljs-built_in">cos</span>(w0*n + phi) + A*<span class="hljs-built_in">sin</span>(w0*n);<br>Y = ztrans(y);<br><span class="hljs-built_in">disp</span>(Y);<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>);<br>fplot(F);<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>);<br>fplot(Y);<br><br>st = heaviside(n); <span class="hljs-comment">% </span><br>ST = ztrans(st);<br><span class="hljs-built_in">disp</span>(ST);<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>);<br>fplot(ST);<br></code></pre></td></tr></table></figure><h2 id="matlabz">matlabz</h2><p>matlabz</p><p>https://ww2.mathworks.cn/help/symbolic/sym.iztrans.html<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">syms z n;<br>a = <span class="hljs-number">2</span>;<br><br>F = a*z^(<span class="hljs-number">-1</span>) / (<span class="hljs-number">1</span> - a*z^(<span class="hljs-number">-1</span>))^<span class="hljs-number">2</span>;<br>f = iztrans(F, n);<br><span class="hljs-built_in">disp</span>(f);<br><br></code></pre></td></tr></table></figure></p><h2 id="ltiz">LTIz</h2><p>z <spanclass="math display">\[Y(z) = X(z)H(z)\]</span></p><p><spanclass="math inline">\(H(z)\)</span>z<span class="math inline">\(z =e^{jw}\)</span><span class="math inline">\(H(z)\)</span><spanclass="math inline">\(H(z)\)</span>z</p><h3 id=""></h3><p><spanclass="math inline">\(H(z)\)</span>h(n)</p><p><spanclass="math inline">\(H(z)\)</span></p><p><span class="math inline">\(if ~ x[n] = 0, n&lt; n_0 ~~ then ~ y[n] = 0, n &lt; n_0\)</span><spanclass="math inline">\(y[n] = \sum_{k = n_0}^{\infty}x[k]h[n-k]\)</span></p><p>LTI</p><p>LTILTI</p><h2id="ltimatlab">LTImatlab</h2><p>matlab <span class="math display">\[\sum_{k = 1}^{N} a[k]y[n-(k-1)] = \sum_{m = 1}^{M} b[m]x[n - (m-1)]\]</span> z <spanclass="math display">\[Y(z) = \frac{ b[1] + b[2]z^{-1} + b[3]z^{-2} ... + b[M]z^{-(M-1)} }{a[1] + a[2]z^{-1} + a[3]z^{-2} ... + a[N]z^{-(N-1) }} X(z)\]</span></p><p>h[n]</p><p></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs matlab">b1 = [<span class="hljs-number">-4</span> <span class="hljs-number">5</span>];<br>a1 = [<span class="hljs-number">1</span> <span class="hljs-number">-6</span> <span class="hljs-number">9</span>]; <span class="hljs-comment">% </span><br><br>[r,p,k] = residuez(b1,a1);<br><br><span class="hljs-built_in">disp</span>(r);<br><span class="hljs-built_in">disp</span>(p);<br><span class="hljs-built_in">disp</span>(k);<br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">1</span>);<br><br>zplane(b1,a1);<br><br>h=[<span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>),<span class="hljs-number">1</span>,<span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1000</span>)];<br><br>y=filter(b1,a1,h);<br>n=<span class="hljs-number">-20</span>:<span class="hljs-number">1000</span>;<br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">2</span>);<br><br>stem(n,y);<br>xlabel(<span class="hljs-string">&#x27;n&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;h(n)&#x27;</span>);<br><br>b2=<span class="hljs-number">1</span>;<br>a2=[<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0.9</span>]; <span class="hljs-comment">% </span><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">3</span>);<br>zplane(b2,a2);<br><br><span class="hljs-built_in">figure</span>(<span class="hljs-number">4</span>);<br>y2 = filter(b2,a2,h);<br>stem(n,y2);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>matlab-notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>matlab</tag>
      
      <tag>z</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>matlab_learning_1</title>
    <link href="/2024/07/08/matlab-learning-1/"/>
    <url>/2024/07/08/matlab-learning-1/</url>
    
    <content type="html"><![CDATA[<h1id=""></h1><h2 id=""></h2><p> <span class="math display">\[y[n] = \sum_{k = -\infty}^{+\infty} x[k]h[n-k]\]</span></p><p>matlab</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><br>A = <span class="hljs-number">5</span>;                         <span class="hljs-comment">% </span><br>w0 = <span class="hljs-number">50e3</span>*<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>;                <span class="hljs-comment">% </span><br>phi = <span class="hljs-built_in">pi</span>/<span class="hljs-number">2</span>;                    <span class="hljs-comment">% </span><br>t = <span class="hljs-number">0</span> : <span class="hljs-number">1</span>/<span class="hljs-number">50e3</span>/<span class="hljs-number">50</span> : <span class="hljs-number">1</span>/<span class="hljs-number">50e3</span>*<span class="hljs-number">10</span>; <span class="hljs-comment">% </span><br><br>y = A*<span class="hljs-built_in">sin</span>(w0*t + phi);         <span class="hljs-comment">% y</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);                <span class="hljs-comment">% 511</span><br><span class="hljs-built_in">plot</span>(t,y);<br><span class="hljs-comment">% axis equal;</span><br>                               <span class="hljs-comment">% z</span><br>z = <span class="hljs-number">2</span>*A*<span class="hljs-built_in">cos</span>(<span class="hljs-number">2</span>*w0*t + phi) .* <span class="hljs-built_in">exp</span>(<span class="hljs-number">-20000</span>*t);<br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);                <span class="hljs-comment">% 512</span><br><span class="hljs-built_in">plot</span>(t, z);<br><span class="hljs-comment">% axis equal;</span><br><br>L = <span class="hljs-built_in">length</span>(t);                 <span class="hljs-comment">% tL = 5011501</span><br>answer = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>,L*<span class="hljs-number">2</span>);         <span class="hljs-comment">% answer L + L - 1</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">2</span>:<span class="hljs-number">2</span>*L                  <span class="hljs-comment">% 21</span><br>    <span class="hljs-keyword">for</span> k = <span class="hljs-number">1</span>:L                <span class="hljs-comment">% i=2,k=1</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">i</span>-k &gt;= <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-built_in">i</span>-k &lt;= <span class="hljs-number">501</span>)<br>            answer(<span class="hljs-built_in">i</span>) = answer(<span class="hljs-built_in">i</span>) + y(k) * z(<span class="hljs-built_in">i</span>-k);<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>);                <span class="hljs-comment">% 513</span><br><span class="hljs-built_in">plot</span>(answer(<span class="hljs-number">2</span>:L*<span class="hljs-number">2</span>));<br><br></code></pre></td></tr></table></figure><h2 id="conv">conv</h2><p>matlab<code>conv</code><code>answer2 = conv(y,z)</code><code>y</code><code>z</code>501<code>answer2</code>501+501-1=1001</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">answer2 = conv(y,z);           <span class="hljs-comment">% matlab</span><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>);                <span class="hljs-comment">% 514</span><br><span class="hljs-built_in">plot</span>(answer2);<br></code></pre></td></tr></table></figure><h2 id=""></h2><p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">delta_ans = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>, L*<span class="hljs-number">2</span>);     <span class="hljs-comment">% </span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:L*<span class="hljs-number">2</span><span class="hljs-number">-1</span><br>    delta_ans(<span class="hljs-built_in">i</span>) = answer2(<span class="hljs-built_in">i</span>) - answer(<span class="hljs-built_in">i</span>+<span class="hljs-number">1</span>);<br><span class="hljs-keyword">end</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>);                <span class="hljs-comment">% 515</span><br><span class="hljs-built_in">plot</span>(delta_ans);               <span class="hljs-comment">% </span><br></code></pre></td></tr></table></figure></p><h2 id=""></h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><br>A = <span class="hljs-number">5</span>;                         <span class="hljs-comment">% </span><br>w0 = <span class="hljs-number">50e3</span>*<span class="hljs-number">2</span>*<span class="hljs-built_in">pi</span>;                <span class="hljs-comment">% </span><br>phi = <span class="hljs-built_in">pi</span>/<span class="hljs-number">2</span>;                    <span class="hljs-comment">% </span><br>t = <span class="hljs-number">0</span> : <span class="hljs-number">1</span>/<span class="hljs-number">50e3</span>/<span class="hljs-number">50</span> : <span class="hljs-number">1</span>/<span class="hljs-number">50e3</span>*<span class="hljs-number">10</span>; <span class="hljs-comment">% </span><br><br>y = A*<span class="hljs-built_in">sin</span>(w0*t + phi);         <span class="hljs-comment">% y</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);                <span class="hljs-comment">% 511</span><br><span class="hljs-built_in">plot</span>(t,y);<br><span class="hljs-comment">% axis equal;</span><br>                               <span class="hljs-comment">% z</span><br>z = <span class="hljs-number">2</span>*A*<span class="hljs-built_in">cos</span>(<span class="hljs-number">2</span>*w0*t + phi) .* <span class="hljs-built_in">exp</span>(<span class="hljs-number">-20000</span>*t);<br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);                <span class="hljs-comment">% 512</span><br><span class="hljs-built_in">plot</span>(t, z);<br><span class="hljs-comment">% axis equal;</span><br><br>L = <span class="hljs-built_in">length</span>(t);                 <span class="hljs-comment">% tL = 5011501</span><br>answer = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>,L*<span class="hljs-number">2</span>);         <span class="hljs-comment">% answer L + L - 1</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">2</span>:<span class="hljs-number">2</span>*L                  <span class="hljs-comment">% 21</span><br>    <span class="hljs-keyword">for</span> k = <span class="hljs-number">1</span>:L                <span class="hljs-comment">% i=2,k=1</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">i</span>-k &gt;= <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-built_in">i</span>-k &lt;= <span class="hljs-number">501</span>)<br>            answer(<span class="hljs-built_in">i</span>) = answer(<span class="hljs-built_in">i</span>) + y(k) * z(<span class="hljs-built_in">i</span>-k);<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>);                <span class="hljs-comment">% 513</span><br><span class="hljs-built_in">plot</span>(answer(<span class="hljs-number">2</span>:L*<span class="hljs-number">2</span>));<br><br>answer2 = conv(y,z);           <span class="hljs-comment">% matlab</span><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>);                <span class="hljs-comment">% 514</span><br><span class="hljs-built_in">plot</span>(answer2);<br><br><br>delta_ans = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>, L*<span class="hljs-number">2</span>);     <span class="hljs-comment">% </span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:L*<span class="hljs-number">2</span><span class="hljs-number">-1</span><br>    delta_ans(<span class="hljs-built_in">i</span>) = answer2(<span class="hljs-built_in">i</span>) - answer(<span class="hljs-built_in">i</span>+<span class="hljs-number">1</span>);<br><span class="hljs-keyword">end</span><br><br>subplot(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>);                <span class="hljs-comment">% 515</span><br><span class="hljs-built_in">plot</span>(delta_ans);               <span class="hljs-comment">% </span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>matlab-notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>matlab</tag>
      
      <tag></tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>test_page</title>
    <link href="/2024/07/06/test-page/"/>
    <url>/2024/07/06/test-page/</url>
    
    <content type="html"><![CDATA[<h1 id=""></h1><p><span class="math inline">\(\Psi(x,t)\)</span><span class="math inline">\(\Psi(\boldsymbol{r},t)\)</span><spanclass="math inline">\(|\Psi(\boldsymbol{r}, t)|^2 \equiv \Psi^*\Psi\)</span><spanclass="math inline">\(\Psi\)</span><spanclass="math inline">\(\Psi^{*}\)</span>1<spanclass="math inline">\(\int \Psi^* \Psi dV = 1\)</span></p><h1 id=""></h1><p><span class="math inline">\(\Psi(\boldsymbol{r},t) =\psi_0 e^{i(\boldsymbol{k\cdot r}-wt)}\)</span></p><p><span class="math inline">\(E\)</span> -&gt; <spanclass="math inline">\(i\hbar\frac{\partial}{\partial t}\)</span> <spanclass="math inline">\(\boldsymbol{P}\)</span> -&gt; <spanclass="math inline">\(-i\hbar \nabla\)</span></p><h1 id=""></h1><p> <span class="math display">\[\left[ -\frac{\hbar^2}{2m} \nabla^2 + V(\boldsymbol{r}) \right]\Psi(\boldsymbol{r}, t) = i\hbar\frac{\partial}{\partialt}\Psi(\boldsymbol{r}, t)\]</span> <spanclass="math inline">\(m\)</span><spanclass="math inline">\(\boldsymbol{p}\)</span><spanclass="math inline">\(V(\boldsymbol{r})\)</span><span class="math display">\[E = \frac{\boldsymbol{p}^2}{2m} + V(\boldsymbol{r})\]</span></p><p></p><h1 id=""></h1><p><spanclass="math inline">\(V(\boldsymbol{r})\)</span>t<spanclass="math inline">\(\Psi(\boldsymbol{r}, t) =\psi(\boldsymbol{r})T(t)\)</span> <spanclass="math inline">\(\psi T\)</span> <span class="math display">\[\frac{1}{\psi} \left[ -\frac{\hbar^2}{2m} \nabla^2 + V(\boldsymbol{r})\right]\psi = \frac{i\hbar}{T} \frac{dT}{dt}\]</span> <spanclass="math inline">\(E\)</span><spanclass="math inline">\(\boldsymbol{r},t\)</span> <spanclass="math display">\[\frac{i\hbar}{T} \frac{dT}{dt} = E \tag{1}\]</span> <span class="math display">\[\frac{1}{\psi} \left[ -\frac{\hbar^2}{2m} \nabla^2 + V(\boldsymbol{r})\right]\psi = E \tag{2}\]</span> <span class="math inline">\((1)\)</span><spanclass="math inline">\(T=T_0e^{-iEt/\hbar}\)</span><spanclass="math inline">\(T_0\)</span><spanclass="math inline">\(\psi\)</span><spanclass="math inline">\(\Psi(\boldsymbol{r}, t) =\psi(\boldsymbol{r})e^{-iEt/\hbar}\)</span></p><p><span class="math inline">\(\Psi^*\Psi =\psi^*\psi\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math display">\[\left[ -\frac{\hbar^2}{2m} \nabla^2 + V(\boldsymbol{r}) \right]\psi =E\psi\]</span></p>]]></content>
    
    
    <categories>
      
      <category>rydberg-atoms-notes</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
